/*!
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(a,b){function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function J(){return!1}function K(){return!0}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bj(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function bk(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g)),l}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cs(){return setTimeout(ct,0),cr=f.now()}function ct(){cr=b}function cu(a,b){var c={};return f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a}),c}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=i.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(A)return;A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&o.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}var b=i.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;return k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];if(!r)return;j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i)}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);return g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h,i)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h)),h===b&&d[1]?this.data(d[0]):h):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);return m(),d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(q,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),h;if(this.nodeType!==1)return;e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}return h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return h&&"get"in h&&i&&(g=h.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;return h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m
,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!g||!(o=g.events))return;b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(this instanceof f.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0;else return new f.Event(a,b)},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;return g===1&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=J),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"))
;while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}return d=e=null,h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?bC(a,b,d):(f.swap(a,bw,function(){e=bC(a,b,d)}),e)},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;return b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b),a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s===2)return;s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(!d.beforeSend||d.beforeSend.call(e,v,d)!==!1&&s!==2){for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v}return v.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=cy(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window),function(a,b){var c;a.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(b){var c=a('meta[name="csrf-token"]').attr("content");c&&b.setRequestHeader("X-CSRF-Token",c)},fire:function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},confirm:function(a){return confirm(a)},ajax:function(b){return a.ajax(b)},handleRemote:function(d){var e,f,g,h=d.data("cross-domain")||null,i=d.data("type")||a.ajaxSettings&&a.ajaxSettings.dataType,j;if(c.fire(d,"ajax:before")){if(d.is("form")){e=d.attr("method"),f=d.attr("action"),g=d.serializeArray();var k=d.data("ujs:submit-button");k&&(g.push(k),d.data("ujs:submit-button",null))}else d.is(c.inputChangeSelector)?(e=d.data("method"),f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):(e=d.data("method"),f=d.attr("href"),g=d.data("params")||null);return j={type:e||"GET",data:g,dataType:i,crossDomain:h,beforeSend:function(a,e){return e.dataType===b&&a.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),c.fire(d,"ajax:beforeSend",[a,e])},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])}},f&&(j.url=f),c.ajax(j)}return!1},handleMethod:function(c){var d=c.attr("href"),e=c.data("method"),f=c.attr("target"),g=a("meta[name=csrf-token]").attr("content"),h=a("meta[name=csrf-param]").attr("content"),i=a('<form method="post" action="'+d+'"></form>'),j='<input name="_method" value="'+e+'" type="hidden" />';h!==b&&g!==b&&(j+='<input name="'+h+'" value="'+g+'" type="hidden" />'),f&&i.attr("target",f),i.hide().append(j).appendTo("body"),i.submit()},disableFormElements:function(b){b.find(c.disableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with",b[c]()),b[c](b.data("disable-with")),b.prop("disabled",!0)})},enableFormElements:function(b){b.find(c.enableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with")&&b[c](b.data("ujs:enable-with")),b.prop("disabled",!1)})},allowAction:function(a){var b=a.data("confirm"),d=!1,e;return b?(c.fire(a,"confirm")&&(d=c.confirm(b),e=c.fire(a,"confirm:complete",[d])),d&&e):!0},blankInputs:function(b,c,d){var e=a(),f,g=c||"input,textarea";return b.find(g).each(function(){f=a(this);if(d?f.val():!f.val())e=e.add(f)}),e.length?e:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(b){return a(b.target).trigger("ujs:everythingStopped"),b.stopImmediatePropagation(),!1},callFormSubmitBindings:function(c,d){var e=c.data("events"),f=!0;return e!==b&&e.submit!==b&&a.each(e.submit,function(a,b){if(typeof b.handler=="function")return f=b.handler(d)}),f},disableElement:function(a){a.data("ujs:enable-with",a.html()),a.html(a.data("disable-with")),a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==b&&(a.html(a.data("ujs:enable-with")),a.data("ujs:enable-with",!1)),a.unbind("click.railsDisable")}},a.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),a(document).delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(a(this))}),a(document).delegate(c.linkClickSelector,"click.rails",function(d){var e=a(this),f=e.data("method"),g=e.data("params");if(!c.allowAction(e))return c.stopEverything(d);e.is(c.linkDisableSelector)&&c.disableElement(e);if(e.data("remote")!==b)return(d.metaKey||d.ctrlKey)&&(!f||f==="GET")&&!g?!0:(c.handleRemote(e)===!1&&c.enableElement(e),!1);if(e.data("method"))return c.handleMethod
(e),!1}),a(document).delegate(c.inputChangeSelector,"change.rails",function(b){var d=a(this);return c.allowAction(d)?(c.handleRemote(d),!1):c.stopEverything(b)}),a(document).delegate(c.formSubmitSelector,"submit.rails",function(d){var e=a(this),f=e.data("remote")!==b,g=c.blankInputs(e,c.requiredInputSelector),h=c.nonBlankInputs(e,c.fileInputSelector);if(!c.allowAction(e))return c.stopEverything(d);if(g&&e.attr("novalidate")==b&&c.fire(e,"ajax:aborted:required",[g]))return c.stopEverything(d);if(f)return h?c.fire(e,"ajax:aborted:file",[h]):!a.support.submitBubbles&&a().jquery<"1.7"&&c.callFormSubmitBindings(e,d)===!1?c.stopEverything(d):(c.handleRemote(e),!1);setTimeout(function(){c.disableFormElements(e)},13)}),a(document).delegate(c.formInputClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);var e=d.attr("name"),f=e?{name:e,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)}),a(document).delegate(c.formSubmitSelector,"ajax:beforeSend.rails",function(b){this==b.target&&c.disableFormElements(a(this))}),a(document).delegate(c.formSubmitSelector,"ajax:complete.rails",function(b){this==b.target&&c.enableFormElements(a(this))})}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)a(e).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f,b=b.split(".")[1];f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[e][b].prototype=a.extend(!0,c,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(f){var g=typeof f=="string",h=Array.prototype.slice.call(arguments,1),i=this,f=!g&&h.length?a.extend.apply(null,[!0,f].concat(h)):f;return g&&f.charAt(0)==="_"?i:(g?this.each(function(){var d=a.data(this,c);if(!d)throw"cannot call methods on "+c+" prior to initialization; attempted to call method '"+f+"'";if(!a.isFunction(d[f]))throw"no such method '"+f+"' for "+c+" widget instance";var g=d[f].apply(d,h);if(g!==d&&g!==b)return i=g,!1}):this.each(function(){var b=a.data(this,c);b?b.option(f||{})._init():a.data(this,c,new d(f,this))}),i)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){var b={};return a.metadata&&(b=a.metadata.get(element)[this.widgetName]),b},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var f=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];f={},f[c]=d}return this._setOptions(f),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b],c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent)for(var b=a.event.props.length,f;b;)f=a.event.props[--b],c[f]=c.originalEvent[f];return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var c=this.element,d={};return a.each(this.options,function(a){var f=c.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));f!==b&&(d[a]=f)}),d},enhanceWithin:function(b){var c=a(b).closest(":jqmData(role='page')").data("page"),c=c&&c.keepNativeSelector()||"";a(this.options.initSelector,b).not(c)[this.widgetName]()}})}(jQuery),function(a){a(window);var b=a("html");a.mobile.media=function(){var c={},d=a("<div id='jquery-mediatest'>"),f=a("<body>").append(d);return function(a){if(!(a in c)){var g=document.createElement("style"),h="@media "+a+" { #jquery-mediatest { position:absolute; } }";g.type="text/css",g.styleSheet?g.styleSheet.cssText=h:g.appendChild(document.createTextNode(h)),b.prepend(f).prepend(g),c[a]=d.css("position")==="absolute",f.add(g).remove()}return c[a]}}()}(jQuery),function(a,b){function c(a){var c=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+f.join(c+" ")+c).split(" "),d;for(d in a)if(e[a[d]]!==b)return!0}var d=a("<body>").prependTo("html"),e=d[0].style,f=["Webkit","Moz","O"],g="palmGetResource"in window,h=window.operamini&&{}.toString.call(window.operamini)==="[object OperaMini]",i=window.blackberry;a.mobile.browser={},a.mobile.browser.ie=function(){for(var a=3,b=document.createElement("div"),c=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->",c[0];);return a>4?a:!a}(),a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!c("content"),touchOverflow:!!c("overflowScrolling"),boxShadow:!!c("boxShadow")&&!i,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in d[0])&&!g&&!h,dynamicBaseTag:function(){var b=location.protocol+"//"+location.host+location.pathname+"ui-dir/",c=a("head base"),e=null,f="",g;return c.length?f=c.attr("href"):c=e=a("<base>",{href:b}).appendTo("head"),g=a("<a href='testurl' />").prependTo(d)[0].href,c[0].href=f||location.pathname,e&&e.remove(),g.indexOf(b)===0}()}),d.remove(),g=function(){var a=window.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||h||g,g&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")}(jQuery),function(a,b,c,d){function e(a){for(;a&&typeof a.originalEvent!="undefined";)a=a.originalEvent;return a}function f(b){for(var c={},d,e;b;){d=a.data(b,q);for(e in d)d[e]&&(c[e]=c.hasVirtualBinding=!0);b=b.parentNode}return c}function g(){u&&(clearTimeout(u),u=0),u=setTimeout(function(){E=u=0,y.length=0,z=!1,A=!0},a.vmouse.resetTimerDuration)}function h(b,c,f){var g,h;if(!(h=f&&f[b])){if(f=!f)a:{for(f=c.target;f;){if((h=a.data(f,q))&&(!b||h[b]))break a;f=f.parentNode}f=null}h=f}if(h){g=c;var f=g.type,i,j;g=a.Event(g),g.type=b,h=g.originalEvent,i=a.event.props;if(h)for(j=i.length;j;)b=i[--j],g[b]=h[b];f.search(/mouse(down|up)|click/)>-1&&!g.which&&(g.which=1);if(f.search(/^touch/)!==-1&&(b=e(h),f=b.touches,b=b.changedTouches,f=f&&f.length?f[0]:b&&b.length?b[0]:d))for(h=0,len=s.length;h<len;h++)b=s[h],g[b]=f[b];a(c.target).trigger(g)}return g}function i(b){var c=a.data(b.target,r);!z&&(!E||E!==c)&&(c=h("v"+b.type,b))&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function j(b){var c=e(b).touches,d;c&&c.length===1&&(d=b.target,c=f(d),c.hasVirtualBinding)&&(E=D++,a.data(d,r,E),u&&(clearTimeout(u),u=0),x=A=!1,d=e(b).touches[0],v=d.pageX,w=d.pageY,h("vmouseover",b,c),h("vmousedown",b,c))}function k(a){A||(x||h("vmousecancel",a,f(a.target)),x=!0,g())}function l(b){if(!A){var c=e(b).touches[0],d=x,i=a.vmouse.moveDistanceThreshold;x=x||Math.abs(c.pageX-v)>i||Math.abs(c.pageY-w)>i,flags=f(b.target),x&&!d&&h("vmousecancel",b,flags),h("vmousemove",b,flags),g()}}function m(a){if(!A){A=!0;var b=f(a.target),c;h("vmouseup",a,b),!x&&(c=h("vclick",a,b))&&c.isDefaultPrevented()&&(c=e(a).changedTouches[0],y.push({touchID:E,x:c.clientX,y:c.clientY}),z=!0),h("vmouseout",a,b),x=!1,g()}}function n(b){var b=a.data(b,q),c;if(b)for(c in b)if(b[c])return!0;return!1}function o(){}function p(b){var c=b.substr(1);return{setup:function(){n(this)||a.data(this,q,{}),a.data(this,q)[b]=!0,t[b]=(t[b]||0)+1,t[b]===1&&C.bind(c,i),a(this).bind(c,o),B&&(t.touchstart=(t.touchstart||0)+1,t.touchstart===1&&C.bind("touchstart",j).bind("touchend",m).bind("touchmove",l).bind("scroll",k))},teardown:function(){--t[b],t[b]||C.unbind(c,i),B&&(--t.touchstart,t.touchstart||C.unbind("touchstart",j).unbind("touchmove",l).unbind("touchend",m).unbind("scroll",k));var d=a(this),e=a.data(this,q);e&&(e[b]=!1),d.unbind(c,o),n(this)||d.removeData(q)}}}var q="virtualMouseBindings",r="virtualTouchID",b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),s="clientX clientY pageX pageY screenX screenY".split(" "),t={},u=0,v=0,w=0,x=!1,y=[],z=!1,A=!1,B="addEventListener"in c,C=a(c),D=1,E=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var F=0;F<b.length;F++)a.event.special[b[F]]=p(b[F]);B&&c.addEventListener("click",function(b){var c=y.length,d=b.target,e,f,g,h,i;if(c){e=b.clientX,f=b.clientY,threshold=a.vmouse.clickDistanceThreshold;for(g=d;g;){for(h=0;h<c;h++)if(i=y[h],g===d&&Math.abs(i.x-e)<threshold&&Math.abs(i.y-f)<threshold||a.data(g,r)===i.touchID){b.preventDefault(),b.stopPropagation();return}g=g.parentNode}}},!0)}(jQuery,window,document),function(a,b,c){function d(b,c,d){var e=d.type;d.type=c,a.event.handle.call(b,d),d.type=e}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn[c]=!0});var e=a.support.touch,f=e?"touchstart":"mousedown",g=e?"touchend":"mouseup",h=e?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){e=b,d(c,e?"scrollstart":"scrollstop",a)}var c=this,e,f;a(c).bind("touchmove scroll",function(c){a.event.special.scrollstart.enabled&&(e||b(c,!0),clearTimeout(f),f=setTimeout(function(){b(c,!1)},50))})}},a.event.special.tap={setup:function(){var b=this,c=a(b);c.bind("vmousedown",function(e){function f(){clearTimeout(j)}function g(){f(),c.unbind("vclick",h).unbind("vmouseup",f).unbind("vmousecancel",g)}function h(a){g(),i==a.target&&d(b,"tap",a)}if(e.which&&e.which!==1)return!1;var i=e.target,j;c.bind("vmousecancel",g).bind("vmouseup",f).bind("vclick",h),j=setTimeout(function(){d(b,"taphold",a.Event("taphold"))},750)})}},a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var b=a(this);b.bind(f,function(d){function e(b){if(i){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;j={time:(new Date).getTime(),coords:[c.pageX,c.pageY]},Math.abs(i.coords[0]-j.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var f=d.originalEvent.touches?d.originalEvent.touches[0]:d,i={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:a(d.target)},j;b.bind(h,e).one(g,function(){b.unbind(h,e),i&&j&&j.time-i.time<a.event.special.swipe.durationThreshold&&Math.abs(i.coords[0]-j.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(i.coords[1]-j.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&i.origin.trigger("swipe").trigger(i.coords[0]>j.coords[0]?"swipeleft":"swiperight"),i=j=c})})}},function(a,b){function c(){var a=e();a!==f&&(f=a,d.trigger("orientationchange"))}var d=a(b),e,f;a.event.special.orientationchange={setup:function(){if(a.support.orientation&&a.mobile.orientationChangeEnabled)return!1;f=e(),d.bind("throttledresize",c)},teardown:function(){if(a.support.orientation&&a.mobile.orientationChangeEnabled)return!1;d.unbind("throttledresize",c)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}},a.event.special.orientationchange.orientation=e=function(){var c=!0,c=document.documentElement;return(c=a.support.orientation?b.orientation%180==0:c&&c.clientWidth/c.clientHeight<1.1)?"portrait":"landscape"}}(jQuery,b),function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",b)},teardown:function(){a(this).unbind("resize",b)}};var b=function(){e=(new Date).getTime(),f=e-c,f>=250?(c=e,a(this).trigger("throttledresize")):(d&&clearTimeout(d),d=setTimeout(b,250-f))},c=0,d,e,f}(),a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})}(jQuery,this),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e="hashchange",f=document,g,h=a.event.special,i=f.documentMode,j="on"+e in b&&(i===c||i>7);a.fn[e]=function(a){return a?this.bind(e,a):this.trigger(e)},a.fn[e].delay=50,h[e]=a.extend(h[e],{setup:function(){if(j)return!1;a(g.start)},teardown:function(){if(j)return!1;a(g.stop)}}),g=function(){function g(){var c=d(),f=o(l);c!==l?(n(l=c,f),a(b).trigger(e)):f!==l&&(location.href=location.href.replace(/#.*/,"")+f),i=setTimeout(g,a.fn[e].delay)}var h={},i,l=d(),m=function(a){return a},n=m,o=m;return h.start=function(){i||g()},h.stop=function(){i&&clearTimeout(i),i=c},a.browser.msie&&!j&&function(){var b,c;h.start=function(){b||(c=(c=a.fn[e].src)&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||n(d()),g()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{event.propertyName==="title"&&(b.document.title=f.title)}catch(a){}})},h.stop=m,o=function(){return d(b.location.href)},n=function(c,d){var g=b.document,h=a.fn[e].domain;c!==d&&(g.title=f.title,g.open(),h&&g.write('<script>document.domain="'+h+'"</script>'),g.close(),b.location.hash=c)}}(),h}()}(jQuery,this),function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate"),this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var b=this.options;return b.keepNative&&a.trim(b.keepNative)&&b.keepNative!==b.keepNativeDefault?[b.keepNative,b.keepNativeDefault].join(", "):b.keepNativeDefault}})}(jQuery),function(a,b){var c={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:!0,pushStateEnabled:!0,orientationChangeEnabled:!0,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(c){a.type(c)!=="number"&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a(document).trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:c,nsNormalize:function(b){return b?c[b]||(c[b]=a.camelCase(a.mobile.ns+b)):void 0},getInheritedTheme:function(a,b){for(var c=a[0],d="",e=/ui-(bar|body)-([a-z])\b/,f,g;c;){f=c.className||"";if((g=e.exec(f))&&(d=g[2]))break;c=c.parentNode}return d||b||"a"}}),a.fn.jqmData=function(b,c){var d;return typeof b!="undefined"&&(d=this.data(b?a.mobile.nsNormalize(b):b,c)),d},a.jqmData=function(b,c,d){var e;return typeof c!="undefined"&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.fn.removeWithDependents=function(){a.removeWithDependents(this)},a.removeWithDependents=function(b){b=a(b),(b.jqmData("dependents")||a()).remove(),b.remove()},a.fn.addDependents=function(b){a.addDependents(a(this),b)},a.addDependents=function(b,c){var d=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(d,c))},a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var d=a.find,e=/:jqmData\(([^)]*)\)/g;a.find=function(b,c,g,h){return b=b.replace(e,"[data-"+(a.mobile.ns||"")+"$1]"),d.call(this,b,c,g,h)},a.extend(a.find,d),a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(jQuery,this),function(a,b){function c(a){var b=a.find(".ui-title:eq(0)");b.length?b.focus():a.focus()}function d(b){p&&(!p.closest(".ui-page-active").length||b)&&p.removeClass(a.mobile.activeBtnClass),p=null}function e(){s=!1,r.length>0&&a.mobile.changePage.apply(null,r.pop())}function f(b,d,e,f){var h=a.mobile.urlHistory.getActive(),i=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,j=h.lastScroll||(i?0:a.mobile.defaultHomeScroll),h=g();return window.scrollTo(0,a.mobile.defaultHomeScroll),d&&d.data("page")._trigger("beforehide",null,{nextPage:b}),i||b.height(h+j),b.data("page")._trigger("beforeshow",null,{prevPage:d||a("")}),a.mobile.hidePageLoadingMsg(),i&&j&&(b.addClass("ui-mobile-pre-transition"),c(b),b.is(".ui-native-fixed")?b.find(".ui-content").scrollTop(j):b.scrollTop(j)),e=(a.mobile.transitionHandlers[e||"none"]||a.mobile.defaultTransitionHandler)(e,f,b,d),e.done(function(){i||(b.height(""),c(b)),i||a.mobile.silentScroll(j),d&&(i||d.height(""),d.data("page")._trigger("hide",null,{nextPage:b})),b.data("page")._trigger("show",null,{prevPage:d||a("")})}),e}function g(){var b=a.event.special.orientationchange.orientation()==="portrait",c=b?screen.availHeight:screen.availWidth,b=Math.max(b?480:320,a(window).height());return Math.min(c,b)}function h(){(!a.support.touchOverflow||!a.mobile.touchOverflowEnabled)&&a("."+a.mobile.activePageClass).css("min-height",g())}function i(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c),b.page()}function j(a){for(;a;){if(typeof a.nodeName=="string"&&a.nodeName.toLowerCase()=="a")break;a=a.parentNode}return a}function k(b){var b=a(b).closest(".ui-page").jqmData("url"),c=w.hrefNoHash;if(!b||!o.isPath(b))b=c;return o.makeUrlAbsolute(b,c)}var l=a(window),m=a("html"),n=a("head"),o={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(b){return a.type(b)==="object"?b:(b=o.urlParseRE.exec(b||"")||[],{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""})},makePathAbsolute:function(a,b){if(a&&a.charAt(0)==="/")return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var f=d[e];switch(f){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}}return"/"+c.join("/")},isSameDomain:function(a,b){return o.parseUrl(a).domain===o.parseUrl(b).domain},isRelativeUrl:function(a){return o.parseUrl(a).protocol===""},isAbsoluteUrl:function(a){return o.parseUrl(a).protocol!==""},makeUrlAbsolute:function(a,b){if(!o.isRelativeUrl(a))return a;var c=o.parseUrl(a),d=o.parseUrl(b),e=c.protocol||d.protocol,f=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,h=c.pathname!=="",i=o.makePathAbsolute(c.pathname||d.filename,d.pathname);return e+f+g+i+(c.search||!h&&d.search||"")+c.hash},addSearchParams:function(b,c){var d=o.parseUrl(b),e=typeof c=="object"?a.param(c):c,f=d.search||"?";return d.hrefNoSearch+f+(f.charAt(f.length-1)!=="?"?"&":"")+e+(d.hash||"")},convertUrlToDataUrl:function(a){var b=o.parseUrl(a);return o.isEmbeddedPage(b)?b.hash.split(t)[0].replace(/^#/,""):o.isSameDomain(b,w)?b.hrefNoHash.replace(w.domain,""):a},get:function(a){return a===b&&(a=location.hash),o.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(t)[0]},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(w.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},cleanHash:function(a){return o.stripHash(a.replace(/\?.*$/,"").replace(t,""))},isExternal:function(a){return a=o.parseUrl(a),a.protocol&&a.domain!==v.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(c){var c=o.parseUrl(o.makeUrlAbsolute(c,w)),d=a.mobile.firstPage,d=d&&d[0]?d[0].id:b;return(c.hrefNoHash===v.hrefNoHash||x&&c.hrefNoHash===w.hrefNoHash)&&(!c.hash||c.hash==="#"||d&&c.hash.replace(/^#/,"")===d)},isEmbeddedPage:function(a){return a=o.parseUrl(a),a.protocol!==""?a.hash&&(a.hrefNoHash===v.hrefNoHash||x&&a.hrefNoHash===w.hrefNoHash):/^#/.test(a.href)}},p=null,q={stack:[],activeIndex:0,getActive:function(){return q.stack[q.activeIndex]},getPrev:function(){return q.stack[q.activeIndex-1]},getNext:function(){return q.stack[q.activeIndex+1]},addNew:function(a,b,c,d,e){q.getNext()&&q.clearForward(),q.stack.push({url:a,transition:b,title:c,pageUrl:d,role:e}),q.activeIndex=q.stack.length-1},clearForward:function(){q.stack=q.stack.slice(0,q.activeIndex+1)},directHashChange:function(c){var d,e,f;this.getActive(),a.each(q.stack,function(a,b){c.currentUrl===b.url&&(d=a<q.activeIndex,e=!d,f=a)}),this.activeIndex=f!==b?f:this.activeIndex,d?(c.either||c.isBack)(!0):e&&(c.either||c.isForward)(!1)},ignoreNextHashChange:!1},r=[],s=!1,t="&ui-state=dialog",u=n.children("base"),v=o.parseUrl(location.href),w=u.length?o.parseUrl(o.makeUrlAbsolute(u.attr("href"),v.href)):v,x=v.hrefNoHash!==w.hrefNoHash,y=a.support.dynamicBaseTag?{element:u.length?u:a("<base>",{href:w.hrefNoHash}).prependTo(n),set:function(a){y.element.attr("href",o.makeUrlAbsolute(a,w))},reset:function(){y.element.attr("href",w.hrefNoHash)}}:b,z=!0,A,B,C;A=function(){var b=l;return a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&(b=a(".ui-page-active"),b=b.is(".ui-native-fixed")?b.find(".ui-content"):b),b},B=function(b){if(z){var c=a.mobile.urlHistory.getActive();c&&(b=b&&b.scrollTop(),c.lastScroll=b<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:b)}},C=function(){setTimeout(B,100,a(this))},l.bind(a.support.pushState?"popstate":"hashchange",function(){z=!1}),l.one(a.support.pushState?"popstate":"hashchange",function(){z=!0}),l.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){var a=A();z=!0,a.unbind("scrollstop",C),a.bind("scrollstop",C)})}),A().bind("scrollstop",C),a.mobile.getScreenHeight=g,a.fn.animationComplete=function(b){return a.support.cssTransitions?a(this).one("webkitAnimationEnd",b):(setTimeout(b,0),a(this))},a.mobile.path=o,a.mobile.base=y,a.mobile.urlHistory=q,a.mobile.dialogHashKey=t,a.mobile.noneTransitionHandler=function(b,c,d,e){return e&&e.removeClass(a.mobile.activePageClass),d.addClass(a.mobile.activePageClass),a.Deferred().resolve(b,c,d,e).promise()},a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler,a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler},a.mobile.allowCrossDomainPages=!1,a.mobile.getDocumentUrl=function(b){return b?a.extend({},v):v.href},a.mobile.getDocumentBase=function(b){return b?a.extend({},w):w.href},a.mobile._bindPageRemove=function(){var b=a(this);!b.data("page").options.domCache&&b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c),c.isDefaultPrevented()||b.removeWithDependents()})},a.mobile.loadPage=function(c,d){var e=a.Deferred(),f=a.extend({},a.mobile.loadPage.defaults,d),g=null,h=null,j=o.makeUrlAbsolute(c,a.mobile.activePage&&k(a.mobile.activePage)||w.hrefNoHash);f.data&&f.type==="get"&&(j=o.addSearchParams(j,f.data),f.data=b),f.data&&f.type==="post"&&(f.reloadPage=!0);var m=o.getFilePath(j),n=o.convertUrlToDataUrl(j);f.pageContainer=f.pageContainer||a.mobile.pageContainer,g=f.pageContainer.children(":jqmData(url='"+n+"')"),g.length===0&&n&&!o.isPath(n)&&(g=f.pageContainer.children("#"+n).attr("data-"+a.mobile.ns+"url",n));if(g.length===0)if(a.mobile.firstPage&&o.isFirstPageUrl(m))a.mobile.firstPage.parent().length&&(g=a(a.mobile.firstPage));else if(o.isEmbeddedPage(m))return e.reject(j,d),e.promise();y&&y.reset();if(g.length){if(!f.reloadPage)return i(g,f.role),e.resolve(j,d,g),e.promise();h=g}var p=f.pageContainer,q=new a.Event("pagebeforeload"),r={url:c,absUrl:j,dataUrl:n,deferred:e,options:f};p.trigger(q,r);if(q.isDefaultPrevented())return e.promise();if(f.showLoadMsg)var s=setTimeout(function(){a.mobile.showPageLoadingMsg()},f.loadMsgDelay);return!a.mobile.allowCrossDomainPages&&!o.isSameDomain(v,j)?e.reject(j,d):a.ajax({url:m,type:f.type,data:f.data,dataType:"html",success:function(b,k,l){var p=a("<div></div>"),q=b.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,t=RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(b)&&RegExp.$1&&t.test(RegExp.$1)&&RegExp.$1&&(c=m=o.getFilePath(RegExp.$1)),y&&y.set(m),p.get(0).innerHTML=b,g=p.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),g.length||(g=a("<div data-"+a.mobile.ns+"role='page'>"+b.split(/<\/?body[^>]*>/gmi)[1]+"</div>")),q&&!g.jqmData("title")&&(~q.indexOf("&")&&(q=a("<div>"+q+"</div>").text()),g.jqmData("title",q));if(!a.support.dynamicBaseTag){var u=o.get(m);g.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||a(this).attr(b,u+c)})}g.attr("data-"+a.mobile.ns+"url",o.convertUrlToDataUrl(m)).attr("data-"+a.mobile.ns+"external-page",!0).appendTo(f.pageContainer),g.one("pagecreate",a.mobile._bindPageRemove),i(g,f.role),j.indexOf("&"+a.mobile.subPageUrlKey)>-1&&(g=f.pageContainer.children(":jqmData(url='"+n+"')")),f.showLoadMsg&&(clearTimeout(s),a.mobile.hidePageLoadingMsg()),r.xhr=l,r.textStatus=k,r.page=g,f.pageContainer.trigger("pageload",r),e.resolve(j,d,g,h)},error:function(b,c,g){y&&y.set(o.get()),r.xhr=b,r.textStatus=c,r.errorThrown=g,b=new a.Event("pageloadfailed"),f.pageContainer.trigger(b,r),b.isDefaultPrevented()||(f.showLoadMsg&&(clearTimeout(s),a.mobile.hidePageLoadingMsg(),a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+"</h1></div>").css({display:"block",opacity:.96,top:l.scrollTop()+100}).appendTo(f.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})),e.reject(j,d))}}),e.promise()},a.mobile.loadPage.defaults={type:"get",data:b,reloadPage:!1,role:b,showLoadMsg:!1,pageContainer:b,loadMsgDelay:50},a.mobile.changePage=function(c,g){if(s)r.unshift(arguments);else{var h=a.extend({},a.mobile.changePage.defaults,g);h.pageContainer=h.pageContainer||a.mobile.pageContainer,h.fromPage=h.fromPage||a.mobile.activePage;var j=h.pageContainer,k=new a.Event("pagebeforechange"),l={toPage:c,options:h};j.trigger(k,l);if(!k.isDefaultPrevented())if(c=l.toPage,s=!0,typeof c=="string")a.mobile.loadPage(c,h).done(function(b,c,d,e){s=!1,c.duplicateCachedPage=e,a.mobile.changePage(d,c)}).fail(function(){s=!1,d(!0),e(),h.pageContainer.trigger("pagechangefailed",l)});else{c[0]===a.mobile.firstPage[0]&&!h.dataUrl&&(h.dataUrl=v.hrefNoHash);var k=h.fromPage,n=h.dataUrl&&o.convertUrlToDataUrl(h.dataUrl)||c.jqmData("url"),p=n;o.getFilePath(n);var u=q.getActive(),w=q.activeIndex===0,x=0,y=document.title,z=h.role==="dialog"||c.jqmData("role")==="dialog";if(k&&k[0]===c[0]&&!h.allowSamePageTransition)s=!1,j.trigger("pagechange",l);else{i(c,h.role),h.fromHashChange&&q.directHashChange({currentUrl:n,isBack:function(){x=-1},isForward:function(){x=1}});try{document.activeElement&&document.activeElement.nodeName.toLowerCase()!="body"?a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(A){}z&&u&&(n=(u.url||"")+t),h.changeHash!==!1&&n&&(q.ignoreNextHashChange=!0,o.set(n));var B=u?c.jqmData("title")||c.children(":jqmData(role='header')").find(".ui-title").getEncodedText():y;B&&y==document.title&&(y=B),c.jqmData("title")||c.jqmData("title",y),h.transition=h.transition||(x&&!w?u.transition:b)||(z?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),x||q.addNew(n,h.transition,y,p,h.role),document.title=q.getActive().title,a.mobile.activePage=c,h.reverse=h.reverse||x<0,f(c,k,h.transition,h.reverse).done(function(){d(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),m.removeClass("ui-mobile-rendering"),e(),j.trigger("pagechange",l)})}}}},a.mobile.changePage.defaults={transition:b,reverse:!1,changeHash:!0,fromHashChange:!1,role:b,duplicateCachedPage:b,pageContainer:b,showLoadMsg:!0,dataUrl:b,fromPage:b,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){a("form").live("submit",function(b){var c=a(this);if(a.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")){var d=c.attr("method"),e=c.attr("target"),f=c.attr("action");!f&&(f=k(c),f===w.hrefNoHash)&&(f=v.hrefNoSearch),f=o.makeUrlAbsolute(f,k(c)),!o.isExternal(f)&&!e&&(a.mobile.changePage(f,{type:d&&d.length&&d.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),direction:c.jqmData("direction"),reloadPage:!0}),b.preventDefault())}}),a(document).bind("vclick",function(b){!(b.which>1)&&a.mobile.linkBindingEnabled&&(b=j(b.target))&&o.parseUrl(b.getAttribute("href")||"#").hash!=="#"&&(d(!0),p=a(b).closest(".ui-btn").not(".ui-disabled"),p.addClass(a.mobile.activeBtnClass),a("."+a.mobile.activePageClass+" .ui-btn").not(b).blur())}),a(document).bind("click",function(c){if(a.mobile.linkBindingEnabled){var e=j(c.target);if(e&&!(c.which>1)){var f=a(e),g=function(){window.setTimeout(function(){d(!0)},200)};if(f.is(":jqmData(rel='back')"))return window.history.back(),!1;var h=k(f),e=o.makeUrlAbsolute(f.attr("href")||"#",h);if(!a.mobile.ajaxEnabled&&!o.isEmbeddedPage(e))g();else{if(e.search("#")!=-1)if(e=e.replace(/[^#]*#/,""))e=o.isPath(e)?o.makeUrlAbsolute(e,h):o.makeUrlAbsolute("#"+e,v.hrefNoHash);else{c.preventDefault();return}var h=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),i=a.mobile.allowCrossDomainPages&&v.protocol==="file:"&&e.search(/^https?:/)!=-1;h||o.isExternal(e)&&!i?g():(g=f.jqmData("transition"),h=(h=f.jqmData("direction"))&&h==="reverse"||f.jqmData("back"),f=f.attr("data-"+a.mobile.ns+"rel")||b,a.mobile.changePage(e,{transition:g,reverse:h,role:f}),c.preventDefault())}}}}),a(".ui-page").live("pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&a.inArray(d,b)===-1&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel")}))})}),a.mobile._handleHashChange=function(c){var d=o.stripHash(c),e={transition:a.mobile.urlHistory.stack.length===0?"none":b,changeHash:!1,fromHashChange:!0};if(!a.mobile.hashListeningEnabled||q.ignoreNextHashChange)q.ignoreNextHashChange=!1;else{if(q.stack.length>1&&d.indexOf(t)>-1)if(a.mobile.activePage.is(".ui-dialog"))q.directHashChange({currentUrl:d,either:function(b){var c=a.mobile.urlHistory.getActive();d=c.pageUrl,a.extend(e,{role:c.role,transition:c.transition
,reverse:b})}});else{q.directHashChange({currentUrl:d,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}});return}d?(d=typeof d=="string"&&!o.isPath(d)?o.makeUrlAbsolute("#"+d,w):d,a.mobile.changePage(d,e)):a.mobile.changePage(a.mobile.firstPage,e)}},l.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)}),a(document).bind("pageshow",h),a(window).bind("throttledresize",h)}}(jQuery),function(a,b){var c={},d=a(b),e=a.mobile.path.parseUrl(location.href);a.extend(c,{initialFilePath:e.pathname+e.search,initialHref:e.hrefNoHash,hashchangeFired:!1,state:function(){return{hash:location.hash||"#"+c.initialFilePath,title:document.title,initialHref:c.initialHref}},resetUIKeys:function(b){var c="&"+a.mobile.subPageUrlKey,d=b.indexOf(a.mobile.dialogHashKey);return d>-1?b=b.slice(0,d)+"#"+b.slice(d):b.indexOf(c)>-1&&(b=b.split(c).join("#"+c)),b},nextHashChangePrevented:function(b){a.mobile.urlHistory.ignoreNextHashChange=b,c.onHashChangeDisabled=b},onHashChange:function(){if(!c.onHashChangeDisabled){var b,d;b=location.hash;var e=a.mobile.path.isPath(b),f=e?location.href:a.mobile.getDocumentUrl();b=e?b.replace("#",""):b,d=c.state(),b=a.mobile.path.makeUrlAbsolute(b,f),e&&(b=c.resetUIKeys(b)),history.replaceState(d,document.title,b)}},onPopState:function(b){var d=b.originalEvent.state;d&&(c.nextHashChangePrevented(!0),setTimeout(function(){c.nextHashChangePrevented(!1),a.mobile._handleHashChange(d.hash)},100))},init:function(){d.bind("hashchange",c.onHashChange),d.bind("popstate",c.onPopState),location.hash===""&&history.replaceState(c.state(),document.title,location.href)}}),a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&c.init()})}(jQuery,this),function(a){function b(b,c,d,e){var f=new a.Deferred,g=c?" reverse":"",h="ui-mobile-viewport-transitioning viewport-"+b;return d.animationComplete(function(){d.add(e).removeClass("out in reverse "+b),e&&e[0]!==d[0]&&e.removeClass(a.mobile.activePageClass),d.parent().removeClass(h),f.resolve(b,c,d,e)}),d.parent().addClass(h),e&&e.addClass(b+" out"+g),d.addClass(a.mobile.activePageClass+" "+b+" in"+g),f.promise()}a.mobile.css3TransitionHandler=b,a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler&&(a.mobile.defaultTransitionHandler=b)}(jQuery,this),function(a){a.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a(document).bind("pagecreate create",function(b){var c=a(b.target).closest(':jqmData(role="page")').data("page"),d;c&&(d=c.options,a(b.target).find("input").not(c.keepNativeSelector()).each(function(){var b=a(this),c=this.getAttribute("type"),e=d.degradeInputs[c]||"text";if(d.degradeInputs[c]){var f=a("<div>").html(b.clone()).html(),g=f.indexOf(" type=")>-1;b.replaceWith(f.replace(g?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+e+'" data-'+a.mobile.ns+'type="'+c+'"'+(g?"":">")))}}))})}(jQuery),function(a,b){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var b=this,c=this.element,d=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");c.addClass("ui-overlay-"+this.options.overlayTheme),c.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom"),d.bind("vclick",function(){b.close()}),c.bind("vclick submit",function(b){var b=a(b.target).closest(b.type==="vclick"?"a":"form"),c;b.length&&!b.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},b.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){b.history.back()}}),a(a.mobile.dialog.prototype.options.initSelector).live("pagecreate",function(){a(this).dialog()})}(jQuery,this),function(a){a.mobile.page.prototype.options.backBtnText="Back",a.mobile.page.prototype.options.addBackBtn=!1,a.mobile.page.prototype.options.backBtnTheme=null,a.mobile.page.prototype.options.headerTheme="a",a.mobile.page.prototype.options.footerTheme="a",a.mobile.page.prototype.options.contentTheme=null,a(":jqmData(role='page'), :jqmData(role='dialog')").live("pagecreate",function(){var b=a(this),c=b.data("page").options,d=b.jqmData("role"),e=c.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).each(function(){var b=a(this),g=b.jqmData("role"),h=b.jqmData("theme"),i=h||c.contentTheme||d==="dialog"&&e,j;b.addClass("ui-"+g);if(g==="header"||g==="footer"){var k=h||(g==="header"?c.headerTheme:c.footerTheme)||e;b.addClass("ui-bar-"+k).attr("role",g==="header"?"banner":"contentinfo"),h=b.children("a"),i=h.hasClass("ui-btn-left"),j=h.hasClass("ui-btn-right"),i=i||h.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,j||h.eq(1).addClass("ui-btn-right"),c.addBackBtn&&g==="header"&&a(".ui-page").length>1&&b.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!i&&a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+c.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",c.backBtnTheme||k).prependTo(b),b.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else g==="content"&&(i&&b.addClass("ui-body-"+i),b.attr("role","main"))})})}(jQuery),function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var b=this.element,c=this.options,d=b.addClass("ui-collapsible"),e=b.children(c.heading).first(),f=d.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),g=b.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),b=g.children(":jqmData(role='collapsible')");e.is("legend")&&(e=a("<div role='heading'>"+e.html()+"</div>").insertBefore(e),e.next().remove()),g.length&&(c.theme||(c.theme=g.jqmData("theme")),c.contentTheme||(c.contentTheme=g.jqmData("content-theme"))),f.addClass(c.contentTheme?"ui-body-"+c.contentTheme:""),e.insertBefore(f).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconPos:"left",icon:"plus",theme:c.theme}),g.length?(g.jqmData("collapsiblebound")||g.jqmData("collapsiblebound",!0).bind("expand",function(b){a(b.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")}),b.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),b.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"),d.jqmData("collapsible-last")&&e.find("a").first().add(e.find(".ui-btn-inner")).addClass("ui-corner-bottom")):e.find("a").first().add(e.find(".ui-btn-inner")).addClass("ui-corner-top ui-corner-bottom"),d.bind("expand collapse",function(b){if(!b.isDefaultPrevented()){b.preventDefault();var i=a(this),b=b.type==="collapse",j=c.contentTheme;e.toggleClass("ui-collapsible-heading-collapsed",b).find(".ui-collapsible-heading-status").text(b?c.expandCueText:c.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!b).toggleClass("ui-icon-plus",b),i.toggleClass("ui-collapsible-collapsed",b),f.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b),j&&(!g.length||d.jqmData("collapsible-last"))&&(e.find("a").first().add(e.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",b),f.toggleClass("ui-corner-bottom",!b)),f.trigger("updatelayout")}}).trigger(c.collapsed?"collapse":"expand"),e.bind("click",function(a){var b=e.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";d.trigger(b),a.preventDefault()})}}),a(document).bind("pagecreate create",function(b){a(a.mobile.collapsible.prototype.options.initSelector,b.target).collapsible()})}(jQuery),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")},a(document).bind("pagecreate create",function(b){a(":jqmData(role='fieldcontain')",b.target).fieldcontain()})}(jQuery),function(a){a.fn.grid=function(b){return this.each(function(){var c=a(this),d=a.extend({grid:null},b),f=c.children(),g={solo:1,a:2,b:3,c:4,d:5},d=d.grid;if(!d)if(f.length<=5)for(var h in g)g[h]===f.length&&(d=h);else d="a";g=g[d],c.addClass("ui-grid-"+d),f.filter(":nth-child("+g+"n+1)").addClass("ui-block-a"),g>1&&f.filter(":nth-child("+g+"n+2)").addClass("ui-block-b"),g>2&&f.filter(":nth-child(3n+3)").addClass("ui-block-c"),g>3&&f.filter(":nth-child(4n+4)").addClass("ui-block-d"),g>4&&f.filter(":nth-child(5n+5)").addClass("ui-block-e")})}}(jQuery),function(a,b){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var c=this.element,d=c.find("a"),f=d.filter(":jqmData(icon)").length?this.options.iconpos:b;c.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid}),f||c.addClass("ui-navbar-noicons"),d.buttonMarkup({corners:!1,shadow:!1,iconpos:f}),c.delegate("a","vclick",function(){d.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass)})}}),a(document).bind("pagecreate create",function(b){a(a.mobile.navbar.prototype.options.initSelector,b.target).navbar()})}(jQuery),function(a){var b={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a=this;a.element.addClass(function(b,c){return c+" ui-listview "+(a.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")}),a.refresh(!0)},_removeCorners:function(a,b){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),b==="top"?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):b==="bottom"?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(a){var b,c;this.options.inset&&(b=this.element.children("li"),c=a?b.not(".ui-screen-hidden"):b.filter(":visible"),this._removeCorners(b),b=c.first().addClass("ui-corner-top"),b.add(b.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),c=c.last().addClass("ui-corner-bottom"),c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")),a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_getChildrenByTagName:function(b,c,d){var e=[],f={};f[c]=f[d]=!0;for(b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;c<e;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&(d.addClass("ui-li-thumb"),a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(b){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var c=this.options,d=this.element,e=d.jqmData("dividertheme")||c.dividerTheme,f=d.jqmData("splittheme"),g=d.jqmData("spliticon"),h=this._getChildrenByTagName(d[0],"li","LI"),i=a.support.cssPseudoElement||!a.nodeName(d[0],"ol")?0:1,j={},k,l,m,n,o;i&&d.find(".ui-li-dec").remove(),c.theme||(c.theme=a.mobile.getInheritedTheme(this.element,"c"));for(var p=0,q=h.length;p<q;p++){k=h.eq(p),l="ui-li";if(b||!k.hasClass("ui-li"))m=k.jqmData("theme")||c.theme,n=this._getChildrenByTagName(k[0],"a","A"),n.length?(o=k.jqmData("icon"),k.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:n.length>1||o===!1?!1:o||"arrow-r",theme:m}),o!=0&&n.length==1&&k.addClass("ui-li-has-arrow"),n.first().addClass("ui-link-inherit"),n.length>1&&(l+=" ui-li-has-alt",n=n.last(),o=f||n.jqmData("theme")||c.splitTheme,n.appendTo(k).attr("title",n.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:m,icon:!1,iconpos:!1}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:o,iconpos:"notext",icon:g||n.jqmData("icon")||c.splitIcon})))):k.jqmData("role")==="list-divider"?(l+=" ui-li-divider ui-btn ui-bar-"+e,k.attr("role","heading"),i&&(i=1)):l+=" ui-li-static ui-body-"+m;i&&l.indexOf("ui-li-divider")<0&&(m=k.is(".ui-li-static:first")?k:k.find(".ui-link-inherit"),m.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+i++ +". </span>")),j[l]||(j[l]=[]),j[l].push(k[0])}for(l in j)a(j[l]).addClass(l).children(".ui-btn-inner").addClass(l);d.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(d.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(h),this._addThumbClasses(d.find(".ui-link-inherit")),this._refreshCorners(b)},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var c=this.element,d=c.closest(".ui-page"),f=d.jqmData("url"),g=f||d[0][a.expando],h=c.attr("id"),i=this.options,j="data-"+a.mobile.ns,k=this,l=d.find(":jqmData(role='footer')").jqmData("id"),m;typeof b[g]=="undefined"&&(b[g]=-1),h=h||++b[g],a(c.find("li>ul, li>ol").toArray().reverse()).each(function(b){var d=a(this),e=d.attr("id")||h+"-"+b,b=d.parent(),g=a(d.prevAll().toArray().reverse()),g=g.length?g:a("<span>"+a.trim(b.contents()[0].nodeValue)+"</span>"),k=g.first().getEncodedText(),e=(f||"")+"&"+a.mobile.subPageUrlKey+"="+e,n=d.jqmData("theme")||i.theme,p=d.jqmData("counttheme")||c.jqmData("counttheme")||i.countTheme;m=!0,d.detach().wrap("<div "+j+"role='page' "+j+"url='"+e+"' "+j+"theme='"+n+"' "+j+"count-theme='"+p+"'><div "+j+"role='content'></div></div>").parent().before("<div "+j+"role='header' "+j+"theme='"+i.headerTheme+"'><div class='ui-title'>"+k+"</div></div>").after(l?a("<div "+j+"role='footer' "+j+"id='"+l+"'>"):"").parent().appendTo(a.mobile.pageContainer).page(),d=b.find("a:first"),d.length||(d=a("<a/>").html(g||k).prependTo(b.empty())),d.attr("href","#"+e)}).listview(),m&&d.is(":jqmData(external-page='true')")&&d.data("page").options.domCache===!1&&d.unbind("pagehide.remove").bind("pagehide.remove",function(b,c){var e=c.nextPage;c.nextPage&&(e=e.jqmData("url"),e.indexOf(f+"&"+a.mobile.subPageUrlKey)!==0&&(k.childPages().remove(),d.remove()))})},childPages:function(){var b=this.parentPage.jqmData("url");return a(":jqmData(url^='"+b+"&"+a.mobile.subPageUrlKey+"')")}}),a(document).bind("pagecreate create",function(b){a(a.mobile.listview.prototype.options.initSelector,b.target).listview()})}(jQuery),function(a){a.mobile.listview.prototype.options.filter=!1,a.mobile.listview.prototype.options.filterPlaceholder="Filter items...",a.mobile.listview.prototype.options.filterTheme="c",a.mobile.listview.prototype.options.filterCallback=function(a,b){return a.toLowerCase().indexOf(b)===-1},a(":jqmData(role='listview')").live("listviewcreate",function(){var b=a(this),c=b.data("listview");if(c.options.filter){var d=a("<form>",{"class":"ui-listview-filter ui-bar-"+c.options.filterTheme,role:"search"});a("<input>",{placeholder:c.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var d=a(this),f=this.value.toLowerCase(),g=null,g=d.jqmData("lastval")+"",h=!1,i="";d.jqmData("lastval",f),i=f.substr(0,g.length-1).replace(g,""),g=f.length<g.length||i.length!=f.length-g.length?b.children():b.children(":not(.ui-screen-hidden)");if(f){for(var j=g.length-1;j>=0;j--)d=a(g[j]),i=d.jqmData("filtertext")||d.text(),d.is("li:jqmData(role=list-divider)")?(d.toggleClass("ui-filter-hidequeue",!h),h=!1):c.options.filterCallback(i,f)?d.toggleClass("ui-filter-hidequeue",!0):h=!0;g.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),g.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else g.toggleClass("ui-screen-hidden",!1);c._refreshCorners()}).appendTo(d).textinput(),a(this).jqmData("inset")&&d.addClass("ui-listview-filter-inset"),d.bind("submit",function(){return!1}).insertBefore(b)}})}(jQuery),function(a){a(document).bind("pagecreate create",function(b){a(":jqmData(role='nojs')",b.target).addClass("ui-nojs")})}(jQuery),function(a,b){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var c=this,d=this.element,f=d.closest("form,fieldset,:jqmData(role='page')").find("label[for='"+d[0].id+"']"),g=d.attr("type"),h=g+"-on",i=g+"-off",j=d.parents(":jqmData(type='horizontal')").length?b:i;if(g==="checkbox"||g==="radio")a.extend(this,{label:f,inputtype:g,checkedClass:"ui-"+h+(j?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+i,checkedicon:"ui-icon-"+h,uncheckedicon:"ui-icon-"+i}),this.options.theme||(this.options.theme=this.element.jqmData("theme")),f.buttonMarkup({theme:this.options.theme,icon:j,shadow:!1}),d.add(f).wrapAll("<div class='ui-"+g+"'></div>"),f.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&b.stopPropagation()},vclick:function(a){if(d.is(":disabled"))a.preventDefault();else return c._cacheVals(),d.prop("checked",g==="radio"&&!0||!d.prop("checked")),d.triggerHandler("click"),c._getInputSet().not(d).prop("checked",!1),c._updateAll(),!1}}),d.bind({vmousedown:function(){c._cacheVals()},vclick:function(){var b=a(this);b.is(":checked")?(b.prop("checked",!0),c._getInputSet().not(b).prop("checked",!1)):b.prop("checked",!1),c._updateAll()},focus:function(){f.addClass("ui-focus")},blur:function(){f.removeClass("ui-focus")}}),this.refresh()},_cacheVals:function(){this._getInputSet().each(function(){var b=a(this);b.jqmData("cacheVal",b.is(":checked"))})},_getInputSet:function(){return this.inputtype=="checkbox"?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var b=this;this._getInputSet().each(function(){var c=a(this);(c.is(":checked")||b.inputtype==="checkbox")&&c.trigger("change")}).checkboxradio("refresh")},refresh:function(){var b=this.element,c=this.label,d=c.find(".ui-icon");a(b[0]).prop("checked")?(c.addClass(this.checkedClass).removeClass(this.uncheckedClass),d.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(c.removeClass(this.checkedClass).addClass(this.uncheckedClass),d.removeClass(this.checkedicon).addClass(this.uncheckedicon)),b.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.checkboxradio.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var c=this.element,d=this.options,f,g;this.button=a("<div></div>").text(c.text()||c.val()).insertBefore(c).buttonMarkup({theme:d.theme,icon:d.icon,iconpos:d.iconpos,inline:d.inline,corners:d.corners,shadow:d.shadow,iconshadow:d.iconshadow}).append(c.addClass("ui-btn-hidden")),d=c.attr("type"),f=c.attr("name"),d!=="button"&&d!=="reset"&&f&&c.bind("vclick",function(){g===b&&(g=a("<input>",{type:"hidden",name:c.attr("name"),value:c.attr("value")}).insertBefore(c),a(document).one("submit",function(){g.remove(),g=b}))}),this.refresh()},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var a=this.element;a.prop("disabled")?this.disable():this.enable(),this.button.data("textWrapper").text(a.text()||a.val())}}),a(document).bind("pagecreate create",function(b){a.mobile.button.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var c=this,d=this.element,f=a.mobile.getInheritedTheme(d,"c"),g=this.options.theme||f,h=this.options.trackTheme||f,i=d[0].nodeName.toLowerCase(),f=i=="select"?"ui-slider-switch":"",j=d.attr("id"),k=j+"-label",j=a("[for='"+j+"']").attr("id",k),l=function(){return i=="input"?parseFloat(d.val()):d[0].selectedIndex},m=i=="input"?parseFloat(d.attr("min")):0,n=i=="input"?parseFloat(d.attr("max")):d.find("option").length-1,o=window.parseFloat(d.attr("step")||1),p=a("<div class='ui-slider "+f+" ui-btn-down-"+h+" ui-btn-corner-all' role='application'></div>"),q=a("<a href='#' class='ui-slider-handle'></a>").appendTo(p).buttonMarkup({corners:!0,theme:g,shadow:!0}).attr({role:"slider","aria-valuemin":m,"aria-valuemax":n,"aria-valuenow":l(),"aria-valuetext":l(),title:l(),"aria-labelledby":k});a.extend(this,{slider:p,handle:q,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),i=="select"&&(p.wrapInner("<div class='ui-slider-inneroffset'></div>"),q.addClass("ui-slider-handle-snapping"),d.find("option"),d.find("option").each(function(b){var c=b?"a":"b",d=b?"left":"right",b=b?" "+a.mobile.activeBtnClass:" ui-btn-down-"+h;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+c+b+" ui-btn-corner-"+d+"'></div>").prependTo(p),a("<span class='ui-slider-label ui-slider-label-"+c+b+" ui-btn-corner-"+d+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(q)})),j.addClass("ui-slider"),d.addClass(i==="input"?"ui-slider-input":"ui-slider-switch").change(function(){c.mouseMoved||c.refresh(l(),!0)}).keyup(function(){c.refresh(l(),!0,!0)}).blur(function(){c.refresh(l(),!0)}),a(document).bind("vmousemove",function(a){if(c.dragging)return c.mouseMoved=!0,i==="select"&&q.removeClass("ui-slider-handle-snapping"),c.refresh(a),c.userModified=c.beforeStart!==d[0].selectedIndex,!1}),p.bind("vmousedown",function(a){return c.dragging=!0,c.userModified=!1,c.mouseMoved=!1,i==="select"&&(c.beforeStart=d[0].selectedIndex),c.refresh(a),!1}),p.add(document).bind("vmouseup",function(){if(c.dragging)return c.dragging=!1,i==="select"&&(q.addClass("ui-slider-handle-snapping"),c.mouseMoved?c.userModified?c.refresh(c.beforeStart==0?1:0):c.refresh(c.beforeStart):c.refresh(c.beforeStart==0?1:0)),c.mouseMoved=!1}),p.insertAfter(d),this.handle.bind("vmousedown",function(){a(this).focus()}).bind("vclick",!1),this.handle.bind("keydown",function(b){var d=l();if(!c.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:if(b.preventDefault(),!c._keySliding)c._keySliding=!0,a(this).addClass("ui-state-active")}switch(b.keyCode){case a.mobile.keyCode.HOME:c.refresh(m);break;case a.mobile.keyCode.END:c.refresh(n);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:c.refresh(d+o);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:c.refresh(d-o)}}}).keyup(function(){c._keySliding&&(c._keySliding=!1,a(this).removeClass("ui-state-active"))}),this.refresh(b,b,!0)},refresh:function(a,b,c){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var d=this.element,e,f=d[0].nodeName.toLowerCase(),g=f==="input"?parseFloat(d.attr("min")):0,h=f==="input"?parseFloat(d.attr("max")):d.find("option").length-1;if(typeof a=="object"){if(!this.dragging||a.pageX<this.slider.offset().left-8||a.pageX>this.slider.offset().left+this.slider.width()+8)return;e=Math.round((a.pageX-this.slider.offset().left)/this.slider.width()*100)}else a==null&&(a=f==="input"?parseFloat(d.val()):d[0].selectedIndex),e=(parseFloat(a)-g)/(h-g)*100;!isNaN(e)&&(e<0&&(e=0),e>100&&(e=100),a=Math.round(e/100*(h-g))+g,a<g&&(a=g),a>h&&(a=h),this.handle.css("left",e+"%"),this.handle.attr({"aria-valuenow":f==="input"?a:d.find("option").eq(a).attr("value"),"aria-valuetext":f==="input"?a:d.find("option").eq(a).getEncodedText(),title:a}),f==="select"&&(a===0?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a")),!c)&&(c=!1,f==="input"?(c=d.val()!==a,d.val(a)):(c=d[0].selectedIndex!==a,d[0].selectedIndex=a),!b&&c&&d.trigger("change"))},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),a(document).bind("pagecreate create",function(b){a.mobile.slider.prototype.enhanceWithin(b.target)})}(jQuery),function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var b=this.element,c=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),d=" ui-body-"+c,e,f;a("label[for='"+b.attr("id")+"']").addClass("ui-input-text"),e=b.addClass("ui-input-text ui-body-"+c),typeof b[0].autocorrect!="undefined"&&!a.support.touchOverflow&&(b[0].setAttribute("autocorrect","off"),b[0].setAttribute("autocomplete","off")),b.is("[type='search'],:jqmData(type='search')")?(e=b.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+d+"'></div>").parent(),f=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(a){b.val("").focus(),b.trigger("change"),f.addClass("ui-input-clear-hidden"),a.preventDefault()}).appendTo(e).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0}),c=function(){setTimeout(function(){f.toggleClass("ui-input-clear-hidden",!b.val())},0)},c(),b.bind("paste cut keyup focus change blur",c)):b.addClass("ui-corner-all ui-shadow-inset"+d),b.focus(function(){e.addClass("ui-focus")}).blur(function(){e.removeClass("ui-focus")});if(b.is("textarea")){var g=function(){var a=b[0].scrollHeight;b[0].clientHeight<a&&b.height(a+15)},h;b.keyup(function(){clearTimeout(h),h=setTimeout(g,100)}),a.trim(b.val())&&(a(window).load(g),a(document).one("pagechange",g))}},disable:function(){(this.element.attr("disabled",!0).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",!1).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.textinput.prototype.enhanceWithin(b.target)})}(jQuery),function(a){var b=function(b){var c=b.selectID,d=b.label,e=b.select.closest(".ui-page"),f=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(e),g=b._selectOptions(),h=b.isMultiple=b.select[0].multiple,i=c+"-button",j=c+"-menu",k=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+b.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+b.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+d.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),l=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+b.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(f),m=a("<ul>",{"class":"ui-selectmenu-list",id:j,role:"listbox","aria-labelledby":i}).attr("data-"+a.mobile.ns+"theme",b.options.theme).appendTo(l),n=a("<div>",{"class":"ui-header ui-bar-"+b.options.theme}).prependTo(l),o=a("<h1>",{"class":"ui-title"}).appendTo(n),p=a("<a>",{text:b.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(n).buttonMarkup(),q=k.find(".ui-content"),r=k.find(".ui-header a");a.extend(b,{select:b.select,selectID:c,buttonId:i,menuId:j,thisPage:e,menuPage:k,label:d,screen:f,selectOptions:g,isMultiple:h,theme:b.options.theme,listbox:l,list:m,header:n,headerTitle:o,headerClose:p,menuPageContent:q,menuPageClose:r,placeholder:"",build:function(){var b=this;b.refresh(),b.select.attr("tabindex","-1").focus(function(){a(this).blur(),b.button.focus()}),b.button.bind("vclick keydown",function(c){if(c.type=="vclick"||c.keyCode&&(c.keyCode===a.mobile.keyCode.ENTER||c.keyCode===a.mobile.keyCode.SPACE))b.open(),c.preventDefault()}),b.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(c){var d=b.select[0].selectedIndex,e=b.list.find("li:not(.ui-li-divider)").index(this),f=b._selectOptions().eq(e)[0];f.selected=b.isMultiple?!f.selected:!0,b.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",f.selected).toggleClass("ui-icon-checkbox-off",!f.selected),(b.isMultiple||d!==e)&&b.select.trigger("change"),b.isMultiple||b.close(),c.preventDefault()}).keydown(function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return b=d.prev(),b.length&&(c.blur().attr("tabindex","-1"),b.find("a").first().focus()),!1;case 40:return b=d.next(),b.length&&(c.blur().attr("tabindex","-1"),b.find("a").first().focus()),!1;case 13:case 32:return c.trigger("click"),!1}}),b.menuPage.bind("pagehide",function(){b.list.appendTo(b.listbox),b._focusButton(),a.mobile._bindPageRemove.call(b.thisPage)}),b.screen.bind("vclick",function(){b.close()}),b.headerClose.click(function(){if(b.menuType=="overlay")return b.close(),!1}),b.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},refresh:function(b){var c=this;this._selectOptions(),this.selected();var d=this.selectedIndices();(b||this._isRebuildRequired())&&c._buildList(),c.setButtonText(),c.setButtonCount(),c.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",!1).each(function(b){a.inArray(b,d)>-1&&(b=a(this),b.attr("aria-selected",!0),c.isMultiple?b.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):b.addClass(a.mobile.activeBtnClass))})},close:function(){!this.options.disabled&&this.isOpen&&(this.menuType=="page"?window.history.back():(this.screen.addClass("ui-screen-hidden"),this.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=!1)},open:function(){if(!this.options.disabled){var b=this,c=b.list.parent().outerHeight(),d=b.list.parent().outerWidth(),e=a(".ui-page-active"),f=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,e=e.is(".ui-native-fixed")?e.find(".ui-content"):e;scrollTop=f?e.scrollTop():a(window).
scrollTop(),btnOffset=b.button.offset().top,screenHeight=window.innerHeight,screenWidth=window.innerWidth,b.button.addClass(a.mobile.activeBtnClass),setTimeout(function(){b.button.removeClass(a.mobile.activeBtnClass)},300);if(c>screenHeight-80||!a.support.scrollTop)b.thisPage.unbind("pagehide.remove"),scrollTop==0&&btnOffset>screenHeight&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",btnOffset)}),b.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){b.list.find(a.mobile.activeBtnClass).focus()}),b.isOpen=!0}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.text()),a.mobile.changePage(b.menuPage,{transition:a.mobile.defaultDialogTransition});else{b.menuType="overlay",b.screen.height(a(document).height()).removeClass("ui-screen-hidden");var e=btnOffset-scrollTop,g=scrollTop+screenHeight-btnOffset,h=c/2,f=parseFloat(b.list.parent().css("max-width")),c=e>c/2&&g>c/2?btnOffset+b.button.outerHeight()/2-h:e>g?scrollTop+screenHeight-c-30:scrollTop+30;d<f?f=(screenWidth-d)/2:(f=b.button.offset().left+b.button.outerWidth()/2-d/2,f<30?f=30:f+d>screenWidth&&(f=screenWidth-d-30)),b.listbox.append(b.list).removeClass("ui-selectmenu-hidden").css({top:c,left:f}).addClass("in"),b.list.find(a.mobile.activeBtnClass).focus(),b.isOpen=!0}}},_buildList:function(){var b=this,c=this.options,d=this.placeholder,e=[],f=[],g=b.isMultiple?"checkbox-off":"false";b.list.empty().filter(".ui-listview").listview("destroy"),b.select.find("option").each(function(h){var i=a(this),j=i.parent(),k=i.getEncodedText(),l="<a href='#'>"+k+"</a>",m=[],n=[];j.is("optgroup")&&(j=j.attr("label"),a.inArray(j,e)===-1&&(f.push("<li data-"+a.mobile.ns+"role='list-divider'>"+j+"</li>"),e.push(j)));if(!this.getAttribute("value")||k.length==0||i.jqmData("placeholder"))c.hidePlaceholderMenuItems&&m.push("ui-selectmenu-placeholder"),d=b.placeholder=k;this.disabled&&(m.push("ui-disabled"),n.push("aria-disabled='true'")),f.push("<li data-"+a.mobile.ns+"option-index='"+h+"' data-"+a.mobile.ns+"icon='"+g+"' class='"+m.join(" ")+"' "+n.join(" ")+">"+l+"</li>")}),b.list.html(f.join(" ")),b.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0"),this.isMultiple||this.headerClose.hide(),!this.isMultiple&&!d.length?this.header.hide():this.headerTitle.text(this.placeholder),b.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a("select").live("selectmenubeforecreate",function(){var c=a(this).data("selectmenu");c.options.nativeMenu||b(c)})}(jQuery),function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:null,corners:!0,shadow:!0,iconshadow:!0,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>"),this.selectID=this.select.attr("id"),this.label=a("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var b=this,c=this.options,d=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:c.theme,icon:c.icon,iconpos:c.iconpos,inline:c.inline,corners:c.corners,shadow:c.shadow,iconshadow:c.iconshadow});c.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(d.addClass("ui-li-has-count"))),(c.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){b.refresh()}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){b.button.removeClass("ui-btn-down-"+b.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,c=this.selected();this.button.find(".ui-btn-text").text(function(){return b.isMultiple?c.length?c.map(function(){return a(this).text()}).get().join(", "):b.placeholder:c.text()})},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.selectmenu.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){function c(b){for(var c;b;){if((c=typeof b.className=="string"&&b.className.split(" "))&&a.inArray("ui-btn",c)>-1&&a.inArray("ui-disabled",c)<0)break;b=b.parentNode}return b}a.fn.buttonMarkup=function(c){for(var c=c||{},f=0;f<this.length;f++){var g=this.eq(f),h=g[0],i=a.extend({},a.fn.buttonMarkup.defaults,{icon:c.icon!==b?c.icon:g.jqmData("icon"),iconpos:c.iconpos!==b?c.iconpos:g.jqmData("iconpos"),theme:c.theme!==b?c.theme:g.jqmData("theme"),inline:c.inline!==b?c.inline:g.jqmData("inline"),shadow:c.shadow!==b?c.shadow:g.jqmData("shadow"),corners:c.corners!==b?c.corners:g.jqmData("corners"),iconshadow:c.iconshadow!==b?c.iconshadow:g.jqmData("iconshadow")},c),j="ui-btn-inner",k,l,m=document.createElement(i.wrapperEls),n=document.createElement(i.wrapperEls),o=i.icon?document.createElement("span"):null;d&&d(),i.theme||(i.theme=a.mobile.getInheritedTheme(g,"c")),k="ui-btn ui-btn-up-"+i.theme,i.inline&&(k+=" ui-btn-inline"),i.icon&&(i.icon="ui-icon-"+i.icon,i.iconpos=i.iconpos||"left",l="ui-icon "+i.icon,i.iconshadow&&(l+=" ui-icon-shadow")),i.iconpos&&(k+=" ui-btn-icon-"+i.iconpos,i.iconpos=="notext"&&!g.attr("title")&&g.attr("title",g.getEncodedText())),i.corners&&(k+=" ui-btn-corner-all",j+=" ui-btn-corner-all"),i.shadow&&(k+=" ui-shadow"),h.setAttribute("data-"+a.mobile.ns+"theme",i.theme),g.addClass(k),m.className=j,m.setAttribute("aria-hidden","true"),n.className="ui-btn-text",m.appendChild(n),o&&(o.className=l,m.appendChild(o));for(;h.firstChild;)n.appendChild(h.firstChild);h.appendChild(m),a.data(h,"textWrapper",a(n))}return this},a.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,inline:!1,wrapperEls:"span"};var d=function(){a(document).bind({vmousedown:function(b){var b=c(b.target),d;b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-up-"+d).addClass("ui-btn-down-"+d))},"vmousecancel vmouseup":function(b){var b=c(b.target),d;b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-down-"+d).addClass("ui-btn-up-"+d))},"vmouseover focus":function(b){var b=c(b.target),d;b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-up-"+d).addClass("ui-btn-hover-"+d))},"vmouseout blur":function(b){var b=c(b.target),d;b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-hover-"+d+" ui-btn-down-"+d).addClass("ui-btn-up-"+d))}}),d=null};a(document).bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",b.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(jQuery),function(a){a.fn.controlgroup=function(b){return this.each(function(){function c(a){a.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(h[0]).end().last().addClass(h[1]).addClass("ui-controlgroup-last")}var d=a(this),f=a.extend({direction:d.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0},b),g=d.children("legend"),h=f.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];d.find("input").first().attr("type"),g.length&&(d.wrapInner("<div class='ui-controlgroup-controls'></div>"),a("<div role='heading' class='ui-controlgroup-label'>"+g.html()+"</div>").insertBefore(d.children(0)),g.remove()),d.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+f.direction),c(d.find(".ui-btn"+(f.excludeInvisible?":visible":""))),c(d.find(".ui-btn-inner")),f.shadow&&d.addClass("ui-shadow")})},a(document).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",b.target).controlgroup({excludeInvisible:!1})})}(jQuery),function(a){a(document).bind("pagecreate create",function(b){a(b.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(jQuery),function(a,b){a.fn.fixHeaderFooter=function(){return!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled?this:this.each(function(){var b=a(this);b.jqmData("fullscreen")&&b.addClass("ui-page-fullscreen"),b.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade"),b.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})},a.mobile.fixedToolbars=function(){function c(){!j&&i==="overlay"&&(h||a.mobile.fixedToolbars.hide(!0),a.mobile.fixedToolbars.startShowTimer())}function d(a){var b=0,c,d;if(a){d=document.body,c=a.offsetParent;for(b=a.offsetTop;a&&a!=d;)b+=a.scrollTop||0,a==c&&(b+=c.offsetTop,c=a.offsetParent),a=a.parentNode}return b}function f(b){var c=a(window).scrollTop(),e=d(b[0]),f=b.css("top")=="auto"?0:parseFloat(b.css("top")),g=window.innerHeight,h=b.outerHeight(),i=b.parents(".ui-page:not(.ui-page-fullscreen)").length;return b.is(".ui-header-fixed")?(f=c-e+f,f<e&&(f=0),b.css("top",i?f:c)):b.css("top",i?c+g-h-(e-f):c+g-h)}if(a.support.scrollTop&&(!a.support.touchOverflow||!a.mobile.touchOverflowEnabled)){var g,h,i="inline",j=!1,k=null,l=!1,m=!0;return a(function(){var b=a(document),d=a(window);b.bind("vmousedown",function(){m&&(k=i)}).bind("vclick",function(b){m&&!a(b.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length&&!l&&(a.mobile.fixedToolbars.toggle(k),k=null)}).bind("silentscroll",c),(b.scrollTop()===0?d:b).bind("scrollstart",function(){l=!0,k===null&&(k=i);var b=k=="overlay";if(j=b||!!h)a.mobile.fixedToolbars.clearShowTimer(),b&&a.mobile.fixedToolbars.hide(!0)}).bind("scrollstop",function(b){a(b.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length||(l=!1,j&&(a.mobile.fixedToolbars.startShowTimer(),j=!1),k=null)}),d.bind("resize updatelayout",c)}),a(".ui-page").live("pagebeforeshow",function(b,c){var d=a(b.target).find(":jqmData(role='footer')"),e=d.data("id"),h=c.prevPage,h=h&&h.find(":jqmData(role='footer')"),h=h.length&&h.jqmData("id")===e;e&&h&&(g=d,f(g.removeClass("fade in out").appendTo(a.mobile.pageContainer)))}).live("pageshow",function(){var b=a(this);g&&g.length&&setTimeout(function(){f(g.appendTo(b).addClass("fade")),g=null},500),a.mobile.fixedToolbars.show(!0,this)}),a(".ui-collapsible-contain").live("collapse expand",c),{show:function(b,c){return a.mobile.fixedToolbars.clearShowTimer(),i="overlay",(c?a(c):a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var c=a(this),e=a(window).scrollTop(),g=d(c[0]),h=window.innerHeight,i=c.outerHeight(),e=c.is(".ui-header-fixed")&&e<=g+i||c.is(".ui-footer-fixed")&&g<=e+h;c.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline"),!e&&!b&&c.animationComplete(function(){c.removeClass("in")}).addClass("in"),f(c)})},hide:function(b){return i="inline",(a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var c=a(this),d=c.css("top"),d=d=="auto"?0:parseFloat(d);c.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay");if(d<0||c.is(".ui-header-fixed")&&d!==0)b?c.css("top",0):c.css("top")!=="auto"&&parseFloat(c.css("top"))!==0&&c.animationComplete(function(){c.removeClass("out reverse").css("top",0)}).addClass("out reverse")})},startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();var c=[].slice.call(arguments);h=setTimeout(function(){h=b,a.mobile.fixedToolbars.show.apply(null,c)},100)},clearShowTimer:function(){h&&clearTimeout(h),h=b},toggle:function(b){return b&&(i=b),i==="overlay"?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(a){m=a}}}}(),a(document).bind("pagecreate create",function(b){a(":jqmData(position='fixed')",b.target).length&&a(b.target).each(function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;var b=a(this);b.jqmData("fullscreen")&&b.addClass("ui-page-fullscreen"),b.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade"),b.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})}(jQuery),function(a){a.mobile.touchOverflowEnabled=!1,a.mobile.touchOverflowZoomEnabled=!1,a(document).bind("pagecreate",function(b){a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&(b=a(b.target),b.is(":jqmData(role='page')")&&b.each(function(){var b=a(this),c=b.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),d=b.jqmData("fullscreen"),e=c.length?b.find(".ui-content"):b;b.addClass("ui-mobile-touch-overflow"),e.bind("scrollstop",function(){e.scrollTop()>0&&window.scrollTo(0,a.mobile.defaultHomeScroll)}),c.length&&(b.addClass("ui-native-fixed"),d&&(b.addClass("ui-native-fullscreen"),c.addClass("fade in"),a(document).bind("vclick",function(){c.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})))}))})}(jQuery),function(a,b){function c(){var b=a("meta[name='viewport']");b.length?b.attr("content",b.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var d=a("html");a("head");var e=a(b);a(b.document).trigger("mobileinit");if(a.mobile.gradeA()){a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),d.addClass("ui-mobile ui-mobile-rendering");var f=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var b=a("."+a.mobile.activeBtnClass).first();f.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&e.scrollTop()+e.height()/2||b.length&&b.offset().top||100})}d.addClass("ui-loading")},hidePageLoadingMsg:function(){d.removeClass("ui-loading")},initializePage:function(){var b=a(":jqmData(role='page')");b.length||(b=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),b.add(":jqmData(role='dialog')").each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)}),a.mobile.firstPage=b.first(),a.mobile.pageContainer=b.first().parent().addClass("ui-mobile-viewport"),e.trigger("pagecontainercreate"),a.mobile.showPageLoadingMsg(),!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}):e.trigger("hashchange",[!0])}}),a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&c(),a.mobile._registerInternalEvents(),a(function(){b.scrollTo(0,1),a.mobile.defaultHomeScroll=!a.support.scrollTop||a(b).scrollTop()===1?0:1,a.mobile.autoInitializePage&&a.mobile.initializePage(),e.load(a.mobile.silentScroll)})}}(jQuery,this);var showErrorDialog=function(a){a==null&&(a="Ein Fehler ist aufgetreten!"),$("#errorDialog p").html(a),$("#showErrorDialog").click()},swiperightHandler=function(a){var b=$(this);if(b.hasClass("done"))return;var c=b.data("taskid");$.mobile.showPageLoadingMsg(),$.ajax({url:"/jquery_mobile/tasks/"+c+"/complete",type:"POST",data:{_method:"put"},success:function(a,c,d){b.addClass("done"),$.mobile.hidePageLoadingMsg()},error:function(a,b,c){$.mobile.hidePageLoadingMsg(),showErrorDialog()}})},swipeleftHandler=function(a){var b=$(this);if(!b.hasClass("done"))return;var c=b.data("taskid");$.mobile.showPageLoadingMsg(),$.ajax({url:"/jquery_mobile/tasks/"+c+"/incomplete",type:"POST",data:{_method:"put"},success:function(a,c,d){b.removeClass("done"),$.mobile.hidePageLoadingMsg()},error:function(a,b,c){$.mobile.hidePageLoadingMsg(),showErrorDialog()}})},deleteHandler=function(a){console.log($(this).parent().data("taskid")),$("#deleteDialog p span").html(""),$("#showDeleteDialog").click();var b=$(this).closest("li");return $.mobile.showPageLoadingMsg(),$.ajax({url:$(this).attr("href"),type:"post",data:{_method:"delete"},success:function(){console.log($(':jqmData(taskid="'+b.data("taskid")+'")')),$.mobile.hidePageLoadingMsg()},error:function(){$.mobile.hidePageLoadingMsg(),showErrorDialog()}}),!1};$("#indexPage, #donePage, #undonePage").live("pageinit",function(a){$(':jqmData(role="page") ul').on({swiperight:swiperightHandler,swipeleft:swipeleftHandler},"li"),$(':jqmData(role="page") ul').on({click:deleteHandler},'a:jqmData(method="delete")')}),$("body").live("pagechange",function(a,b){$("nav ul li a.ui-btn-active").removeClass("ui-btn-active"),$("nav ul li a."+$.mobile.activePage[0].id).addClass("ui-btn-active")}),$.preparePerformanceTest=function(a){var b="";for(var c=0;c<a;c++)b+='<li data-taskid="'+c+'"><a href="#">task'+c+'</a><a href="/jquery_mobile/tasks/'+c+'/edit" data-icon="gear" data-theme="c">Bearbeiten</a></li>';$.testPreparations=b},$.testPerformance=function(){$($(".ui-listview")[0]).append($.testPreparations).listview("refresh")},typeof Ext=="undefined"&&(Ext={}),Ext.apply=function(){for(var a in{valueOf:1})return function(a,b,c){c&&Ext.apply(a,c);if(a&&b&&typeof b=="object")for(var d in b)a[d]=b[d];return a};return function(a,b,c){c&&Ext.apply(a,c);if(a&&b&&typeof b=="object"){for(var d in b)a[d]=b[d];b.toString!==Object.prototype.toString&&(a.toString=b.toString),b.valueOf!==Object.prototype.valueOf&&(a.valueOf=b.valueOf)}return a}}(),Ext.apply(Ext,{platformVersion:"1.0",platformVersionDetail:{major:1,minor:0,patch:3},userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",isStrict:document.compatMode=="CSS1Compat",windowId:"ext-window",documentId:"ext-document",emptyFn:function(){},isSecure:/^https/i.test(window.location.protocol),isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,applyIf:function(a,b){var c,d;if(a)for(c in b)a[c]===d&&(a[c]=b[c]);return a},repaint:function(){var a=Ext.getBody().createChild({cls:"x-mask x-mask-transparent"});setTimeout(function(){a.remove()},0)},id:function(a,b){return a=Ext.getDom(a)||{},a===document?a.id=this.documentId:a===window&&(a.id=this.windowId),a.id=a.id||(b||"ext-gen")+ ++Ext.idSeed,a.id},extend:function(){var a=function(a){for(var b in a){if(!a.hasOwnProperty(b))continue;this[b]=a[b]}},b=Object.prototype.constructor;return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!=b?e.constructor:function(){d.apply(this,arguments)});if(!d)throw"Attempting to extend from a class which has not been loaded on the page.";var f=function(){},g,h=d.prototype;return f.prototype=h,g=c.prototype=new f,g.constructor=c,c.superclass=h,h.constructor==b&&(h.constructor=d),c.override=function(a){Ext.override(c,a)},g.superclass=g.supr=function(){return h},g.override=a,g.proto=g,c.override(e),c.extend=function(a){return Ext.extend(c,a)},c}}(),override:function(a,b){Ext.apply(a.prototype,b)},namespace:function(){var a=arguments.length,b,c,d,e,f,g,h;for(b=0;b<a;b++){c=arguments[b],g=c.split("."),window.Ext?h=window[g[0]]=Object(window[g[0]]):h=arguments.callee.caller.arguments[0];for(e=1,f=g.length;e<f;e++)h=h[g[e]]=Object(h[g[e]])}return h},urlEncode:function(a,b){var c,d=[],e=encodeURIComponent;return Ext.iterate(a,function(a,b){c=Ext.isEmpty(b),Ext.each(c?a:b,function(b){d.push("&",e(a),"=",!Ext.isEmpty(b)&&(b!=a||!c)?Ext.isDate(b)?Ext.encode(b).replace(/"/g,""):e(b):"")})}),b||(d.shift(),b=""),b+d.join("")},urlDecode:function(a,b){if(Ext.isEmpty(a))return{};var c={},d=a.split("&"),e=decodeURIComponent,f,g;return Ext.each(d,function(a){a=a.split("="),f=e(a[0]),g=e(a[1]),c[f]=b||!c[f]?g:[].concat(c[f]).concat(g)}),c},htmlEncode:function(a){return Ext.util.Format.htmlEncode(a)},htmlDecode:function(a){return Ext.util.Format.htmlDecode(a)},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(a.indexOf("?")===-1?"?":"&")+b},toArray:function(a,b,c){return Array.prototype.slice.call(a,b||0,c||a.length)},each:function(a,b,c){if(Ext.isEmpty(a,!0))return 0;if(!Ext.isIterable(a)||Ext.isPrimitive(a))a=[a];for(var d=0,e=a.length;d<e;d++)if(b.call(c||a[d],a[d],d,a)===!1)return d;return!0},iterate:function(a,b,c){if(Ext.isEmpty(a))return;if(Ext.isIterable(a)){Ext.each(a,b,c);return}if(Ext.isObject(a))for(var d in a)if(a.hasOwnProperty(d)&&b.call(c||a,d,a[d],a)===!1)return},pluck:function(a,b){var c=[];return Ext.each(a,function(a){c.push(a[b])}),c},getBody:function(){return Ext.get(document.body||!1)},getHead:function(){var a;return function(){return a==undefined&&(a=Ext.get(DOC.getElementsByTagName("head")[0])),a}}(),getDoc:function(){return Ext.get(document)},getCmp:function(a){return Ext.ComponentMgr.get(a)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},isIterable:function(a){return a?Ext.isArray(a)||a.callee?!0:/NodeList|HTMLCollection/.test(Object.prototype.toString.call(a))?!0:(typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length)||!1:!1},num:function(a,b){return a=Number(Ext.isEmpty(a)||Ext.isArray(a)||typeof a=="boolean"||typeof a=="string"&&Ext.util.Format.trim(a).length==0?NaN:a),isNaN(a)?b:a},isEmpty:function(a,b){var c=a==null,d=Ext.isArray(a)&&!a.length,e=b?!1:a==="";return c||d||e},isArray:function(a){return Object.prototype.toString.apply(a)==="[object Array]"},isDate:function(a){return Object.prototype.toString.apply(a)==="[object Date]"},isObject:function(a){return!!a&&!a.tagName&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return Object.prototype.toString.apply(a)==="[object Function]"},isNumber:function(a){return Object.prototype.toString.apply(a)==="[object Number]"&&isFinite(a)},isString:function(a){return typeof a=="string"},isBoolean:function(a){return Object.prototype.toString.apply(a)==="[object Boolean]"},isElement:function(a){return a?!!a.tagName:!1},isDefined:function(a){return typeof a!="undefined"},destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)c=arguments[b],c&&(Ext.isArray(c)?this.destroy.apply(this,c):Ext.isFunction(c.destroy)?c.destroy():c.dom&&c.remove())}}),Ext.SSL_SECURE_URL=Ext.isSecure&&"about:blank",Ext.ns=Ext.namespace,Ext.ns("Ext.util","Ext.data","Ext.list","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.plugins","Ext.direct","Ext.lib","Ext.gesture"),Ext.util.Observable=Ext.extend(Object,{isObservable:!0,constructor:function(a){var b=this;Ext.apply(b,a),b.listeners&&(b.on(b.listeners),delete b.listeners),b.events=b.events||{},this.bubbleEvents&&this.enableBubble(this.bubbleEvents)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal)$/,addManagedListener:function(a,b,c,d,e){var f=this,g=f.managedListeners=f.managedListeners||[],h;if(Ext.isObject(b)){e=b;for(b in e){if(!e.hasOwnProperty(b))continue;h=e[b],f.eventOptionsRe.test(b)||f.addManagedListener(a,b,h.fn||h,h.scope||e.scope,h.fn?h:e)}}else g.push({item:a,ename:b,fn:c,scope:d,options:e}),a.on(b,c,d,e)},removeManagedListener:function(a,b,c,d){var e=this,f,g,h,i,j,k;if(Ext.isObject(b)){f=b;for(b in f){if(!f.hasOwnProperty(b))continue;g=f[b],e.eventOptionsRe.test(b)||e.removeManagedListener(a,b,g.fn||g,g.scope||f.scope)}}h=this.managedListeners?this.managedListeners.slice():[],j=h.length;for(k=0;k<j;k++)i=h[k],i.item===a&&i.ename===b&&(!c||i.fn===c)&&(!d||i.scope===d)&&(this.managedListeners.remove(i),a.un(i.ename,i.fn,i.scope))},fireEvent:function(){var a=this,b=Ext.toArray(arguments),c=b[0].toLowerCase(),d=!0,e=a.events[c],f=a.eventQueue,g;if(a.eventsSuspended===!0)return f&&f.push(b),!1;if(e&&Ext.isObject(e)&&e.bubble){if(e.fire.apply(e,b.slice(1))===!1)return!1;g=a.getBubbleTarget&&a.getBubbleTarget();if(g&&g.isObservable)return(!g.events[c]||!Ext.isObject(g.events[c])||!g.events[c].bubble)&&g.enableBubble(c),g.fireEvent.apply(g,b)}else e&&Ext.isObject(e)&&(b.shift(),d=e.fire.apply(e,b));return d},addListener:function(a,b,c,d){var e=this,f,g;if(Ext.isObject(a)){d=a;for(a in d){if(!d.hasOwnProperty(a))continue;f=d[a],e.eventOptionsRe.test(a)||e.addListener(a,f.fn||f,f.scope||d.scope,f.fn?f:d)}}else a=a.toLowerCase(),e.events[a]=e.events[a]||!0,g=e.events[a]||!0,Ext.isBoolean(g)&&(e.events[a]=g=new Ext.util.Event(e,a)),g.addListener(b,c,Ext.isObject(d)?d:{})},removeListener:function(a,b,c){var d=this,e,f;if(Ext.isObject(a)){var g=a;for(a in g){if(!g.hasOwnProperty(a))continue;e=g[a],d.eventOptionsRe.test(a)||d.removeListener(a,e.fn||e,e.scope||g.scope)}}else a=a.toLowerCase(),f=d.events[a],f.isEvent&&f.removeListener(b,c)},clearListeners:function(){var a=this.events,b,c;for(c in a){if(!a.hasOwnProperty(c))continue;b=a[c],b.isEvent&&b.clearListeners()}this.clearManagedListeners()},purgeListeners:function(){return console.warn("MixedCollection: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var a=this.managedListeners||[],b=a.length,c,d;for(c=0;c<b;c++)d=a[c],d.item.un(d.ename,d.fn,d.scope);this.managedListener=[]},purgeManagedListeners:function(){return console.warn("MixedCollection: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},addEvents:function(a){var b=this;b.events=b.events||{};if(Ext.isString(a)){var c=arguments,d=c.length;while(d--)b.events[c[d]]=b.events[c[d]]||!0}else Ext.applyIf(b.events,a)},hasListener:function(a){var b=this.events[a];return b.isEvent===!0&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=!0,a&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=!1,delete a.eventQueue,Ext.each(b,function(b){a.fireEvent.apply(a,b)})},relayEvents:function(a,b,c){function h(a){return function(){return d.fireEvent.apply(d,[c+a].concat(Array.prototype.slice.call(arguments,0,-1)))}}c=c||"";var d=this,e=b.length,f,g;for(f=0,e=b.length;f<e;f++)g=b[f].substr(c.length),d.events[g]=d.events[g]||!0,a.on(g,h(g),d)},enableBubble:function(a){var b=this;Ext.isEmpty(a)||(a=Ext.isArray(a)?a:Ext.toArray(arguments),Ext.each(a,function(a){a=a.toLowerCase();var c=b.events[a]||!0;Ext.isBoolean(c)&&(c=new Ext.util.Event(b,a),b.events[a]=c),c.bubble=!0}))}}),Ext.override(Ext.util.Observable,{on:Ext.util.Observable.prototype.addListener,un:Ext.util.Observable.prototype.removeListener,mon:Ext.util.Observable.prototype.addManagedListener,mun:Ext.util.Observable.prototype.removeManagedListener}),Ext.util.Observable.releaseCapture=function(a){a.fireEvent=Ext.util.Observable.prototype.fireEvent},Ext.util.Observable.capture=function(a,b,c){a.fireEvent=Ext.createInterceptor(a.fireEvent,b,c)},Ext.util.Observable.observe=function(a,b){if(a)return a.isObservable||(Ext.applyIf(a,new Ext.util.Observable),Ext.util.Observable.capture(a.prototype,a.fireEvent,a)),typeof b=="object"&&a.on(b),a},Ext.util.Observable.observeClass=Ext.util.Observable.observe,Ext.util.Event=Ext.extend(Object,function(){function a(a,b,c,d){return b.task=new Ext.util.DelayedTask,function(){b.task.delay(c.buffer,a,d,Ext.toArray(arguments))}}function b(a,b,c,d){return function(){var h=new Ext.util.DelayedTask;b.tasks||(b.tasks=[]),b.tasks.push(h),h.delay(c.delay||10,a,d,Ext.toArray(arguments))}}function c(a,b,c,d){return function(){return b.ev.removeListener(b.fn,d),a.apply(d,arguments)}}return{isEvent:!0,constructor:function(a,b){this.name=b,this.observable=a,this.listeners=[]},addListener:function(a,b,c){var d=this,e;b=b||d.observable,d.isListening(a,b)||(e=d.createListener(a,b,c),d.firing&&(d.listeners=d.listeners.slice(0)),d.listeners.push(e))},createListener:function(d,e,f){f=f||{},e=e||this.observable;var g={fn:d,scope:e,o:f,ev:this},h=d;return f.delay&&(h=b(h,g,f,e)),f.buffer&&(h=a(h,g,f,e)),f.single&&(h=c(h,g,f,e)),g.fireFn=h,g},findListener:function(a,b){var c=this.listeners,d=c.length,e,f;while(d--){e=c[d];if(e){f=e.scope;if(e.fn==a&&(f==b||f==this.observable))return d}}return-1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(a,b){var c=this,d,e,f;d=c.findListener(a,b);if(d!=-1){e=c.listeners[d],c.firing&&(c.listeners=c.listeners.slice(0)),e.task&&(e.task.cancel(),delete e.task),f=e.tasks&&e.tasks.length;if(f){while(f--)e.tasks[f].cancel();delete e.tasks}return c.listeners.splice(d,1),!0}return!1},clearListeners:function(){var a=this.listeners,b=a.length;while(b--)this.removeListener(a[b].fn,a[b].scope)},fire:function(){var a=this,b=a.listeners,c=b.length,d,e,f;if(c>0){a.firing=!0;for(d=0;d<c;d++){f=b[d],e=arguments.length?Array.prototype.slice.call(arguments,0):[],f.o&&e.push(f.o);if(f&&f.fireFn.apply(f.scope||a.observable,e)===!1)return a.firing=!1}}return a.firing=!1,!0}}}()),Ext.util.Stateful=Ext.extend(Ext.util.Observable,{editing:!1,dirty:!1,persistanceProperty:"data",constructor:function(a){Ext.applyIf(this,{data:{}}),this.modified={},this[this.persistanceProperty]={},Ext.util.Stateful.superclass.constructor.call(this,a)},get:function(a){return this[this.persistanceProperty][a]},set:function(a,b){var c=this,d=c.fields,e=c.modified,f=[],g,h,i;if(arguments.length==1&&Ext.isObject(a)){for(h in a){if(!a.hasOwnProperty(h))continue;g=d.get(h);if(g&&g.convert!==g.type.convert){f.push(h);continue}c.set(h,a[h])}for(i=0;i<f.length;i++)g=f[i],c.set(g,a[g])}else{d&&(g=d.get(a),g&&g.convert&&(b=g.convert(b,c))),c[c.persistanceProperty][a]=b;if(g&&g.persist&&!c.isEqual(currentValue,b))if(c.isModified(a)){if(c.isEqual(e[a],b)){delete e[a],c.dirty=!1;for(h in e)if(e.hasOwnProperty(h)){c.dirty=!0;break}}}else c.dirty=!0,e[a]=currentValue;c.editing||c.afterEdit()}},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=this[this.persistanceProperty][c]);return b},isModified:function(a){return!!this.modified&&!!this.modified.hasOwnProperty(a)},setDirty:function(){this.dirty=!0,this.modified||(this.modified={}),this.fields.each(function(a){this.modified[a.name]=this[this.persistanceProperty][a.name]},this)},markDirty:function(){throw new Error("Stateful: markDirty has been deprecated. Please use setDirty.")},reject:function(a){var b=this.modified,c;for(c in b){if(!b.hasOwnProperty(c))continue;typeof b[c]!="function"&&(this[this.persistanceProperty][c]=b[c])}this.dirty=!1,this.editing=!1,delete this.modified,a!==!0&&this.afterReject()},commit:function(a){this.dirty=!1,this.editing=!1,delete this.modified,a!==!0&&this.afterCommit()},copy:function(a){return new this.constructor(Ext.apply({},this[this.persistanceProperty]),a||this.internalId)}}),Ext.util.HashMap=Ext.extend(Ext.util.Observable,{constructor:function(a){this.addEvents("add","clear","remove","replace"),Ext.util.HashMap.superclass.constructor.call(this,a),this.clear(!0)},getCount:function(){return this.length},getData:function(a,b){return b===undefined&&(b=a,a=this.getKey(b)),[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this,d;if(c.containsKey(a))throw new Error("This key already exists in the HashMap"
);return d=this.getData(a,b),a=d[0],b=d[1],c.map[a]=b,++c.length,c.fireEvent("add",c,a,b),b},replace:function(a,b){var c=this,d=c.map,e;return c.containsKey(a)||c.add(a,b),e=d[a],d[a]=b,c.fireEvent("replace",c,a,b,e),b},remove:function(a){var b=this.findKey(a);return b!==undefined?this.removeByKey(b):!1},removeByKey:function(a){var b=this,c;return b.containsKey(a)?(c=b.map[a],delete b.map[a],--b.length,b.fireEvent("remove",b,a,c),!0):!1},get:function(a){return this.map[a]},clear:function(a){var b=this;return b.map={},b.length=0,a!==!0&&b.fireEvent("clear",b),b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c)if(c.hasOwnProperty(d)&&a.call(b,d,c[d],e)===!1)break;return this},clone:function(){var a=new Ext.util.HashMap,b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);return a.resumeEvents(),a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b;return undefined}}),Ext.util.MixedCollection=function(a,b){this.items=[],this.map={},this.keys=[],this.length=0,this.addEvents("clear","add","replace","remove","sort"),this.allowFunctions=a===!0,b&&(this.getKey=b),Ext.util.MixedCollection.superclass.constructor.call(this)},Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:!1,add:function(a,b){var c=b,d=a;arguments.length==1&&(c=d,d=this.getKey(c));if(typeof d!="undefined"&&d!==null){var e=this.map[d];if(typeof e!="undefined")return this.replace(d,c);this.map[d]=c}return this.length++,this.items.push(c),this.keys.push(d),this.fireEvent("add",this.length-1,c,d),c},getKey:function(a){return a.id},replace:function(a,b){arguments.length==1&&(b=arguments[0],a=this.getKey(b));var c=this.map[a];if(typeof a=="undefined"||a===null||typeof c=="undefined")return this.add(a,b);var d=this.indexOfKey(a);return this.items[d]=b,this.map[a]=b,this.fireEvent("replace",a,c,b),b},addAll:function(a){if(arguments.length>1||Ext.isArray(a)){var b=arguments.length>1?arguments:a;for(var c=0,d=b.length;c<d;c++)this.add(b[c])}else for(var e in a){if(!a.hasOwnProperty(e))continue;(this.allowFunctions||typeof a[e]!="function")&&this.add(e,a[e])}},each:function(a,b){var c=[].concat(this.items);for(var d=0,e=c.length;d<e;d++)if(a.call(b||c[d],c[d],d,e)===!1)break},eachKey:function(a,b){for(var c=0,d=this.keys.length;c<d;c++)a.call(b||window,this.keys[c],this.items[c],c,d)},findBy:function(a,b){for(var c=0,d=this.items.length;c<d;c++)if(a.call(b||window,this.items[c],this.keys[c]))return this.items[c];return null},insert:function(a,b,c){var d=b,e=c;return arguments.length==2&&(e=d,d=this.getKey(e)),this.containsKey(d)&&(this.suspendEvents(),this.removeByKey(d),this.resumeEvents()),a>=this.length?this.add(d,e):(this.length++,this.items.splice(a,0,e),typeof d!="undefined"&&d!==null&&(this.map[d]=e),this.keys.splice(a,0,d),this.fireEvent("add",a,e,d),e)},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){return Ext.each(a||[],function(a){this.remove(a)},this),this},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var b=this.items[a];this.items.splice(a,1);var c=this.keys[a];return typeof c!="undefined"&&delete this.map[c],this.keys.splice(a,1),this.fireEvent("remove",b,c),b}return!1},removeByKey:function(a){return this.removeAt(this.indexOfKey(a))},removeKey:function(){return console.warn("MixedCollection: removeKey has been deprecated. Please use removeByKey."),this.removeByKey.apply(this,arguments)},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},get:function(a){var b=this.map[a],c=b!==undefined?b:typeof a=="number"?this.items[a]:undefined;return typeof c!="function"||this.allowFunctions?c:null},item:function(){return console.warn("MixedCollection: item has been deprecated. Please use get."),this.get.apply(this,arguments)},getAt:function(a){return this.items[a]},itemAt:function(){return console.warn("MixedCollection: itemAt has been deprecated. Please use getAt."),this.getAt.apply(this,arguments)},getByKey:function(a){return this.map[a]},key:function(){return console.warn("MixedCollection: key has been deprecated. Please use getByKey."),this.getByKey.apply(this,arguments)},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0,this.items=[],this.keys=[],this.map={},this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(a,b,c){var d,e,f=String(b).toUpperCase()=="DESC"?-1:1,g=[],h=this.keys,i=this.items;c=c||function(a,b){return a-b};for(d=0,e=i.length;d<e;d++)g[g.length]={key:h[d],value:i[d],index:d};g.sort(function(b,d){var e=c(b[a],d[a])*f;return e===0&&(e=b.index<d.index?-1:1),e});for(d=0,e=g.length;d<e;d++)i[d]=g[d].value,h[d]=g[d].key;this.fireEvent("sort",this)},sort:function(a,b){var c=a;Ext.isString(a)?c=[new Ext.util.Sorter({property:a,direction:b||"ASC"})]:a instanceof Ext.util.Sorter?c=[a]:Ext.isObject(a)&&(c=[new Ext.util.Sorter(a)]);var d=c.length;if(d==0)return;var e=function(a,b){var d=c[0].sort(a,b),e=c.length,f;for(f=1;f<e;f++)d=d||c[f].sort.call(this,a,b);return d};this.sortBy(e)},sortBy:function(a){var b=this.items,c=this.keys,d=b.length,e=[],f;for(f=0;f<d;f++)e[f]={key:c[f],value:b[f],index:f};e.sort(function(b,c){var d=a(b.value,c.value);return d===0&&(d=b.index<c.index?-1:1),d});for(f=0;f<d;f++)b[f]=e[f].value,c[f]=e[f].key;this.fireEvent("sort",this)},reorder:function(a){this.suspendEvents();var b=this.items,c=0,d=b.length,e=[],f=[],g;for(g in a)e[a[g]]=b[g];for(c=0;c<d;c++)a[c]==undefined&&f.push(b[c]);for(c=0;c<d;c++)e[c]==undefined&&(e[c]=f.shift());this.clear(),this.addAll(e),this.resumeEvents(),this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:c<d?-1:0})},keySort:function(){return console.warn("MixedCollection: keySort has been deprecated. Please use sortByKey."),this.sortByKey.apply(this,arguments)},getRange:function(a,b){var c=this.items;if(c.length<1)return[];a=a||0,b=Math.min(typeof b=="undefined"?this.length-1:b,this.length-1);var d,e=[];if(a<=b)for(d=a;d<=b;d++)e[e.length]=c[d];else for(d=a;d>=b;d--)e[e.length]=c[d];return e},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);var f=function(a){var b=!0,c=e.length,d;for(d=0;d<c;d++){var f=e[d],g=f.filterFn,h=f.scope;b=b&&g.call(h,a)}return b};return this.filterBy(f)},filterBy:function(a,b){var c=new Ext.util.MixedCollection,d=this.keys,e=this.items,f=e.length,g;c.getKey=this.getKey;for(g=0;g<f;g++)a.call(b||this,e[g],d[g])&&c.add(d[g],e[g]);return c},findIndex:function(a,b,c,d,e){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,e),this.findIndexBy(function(c){return c&&b.test(c[a])},null,c))},findIndexBy:function(a,b,c){var d=this.keys,e=this.items;for(var f=c||0,g=e.length;f<g;f++)if(a.call(b||this,e[f],d[f]))return f;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.util.Format.escapeRegex;a=String(a),b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$")),a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=new Ext.util.MixedCollection,b=this.keys,c=this.items;for(var d=0,e=c.length;d<e;d++)a.add(b[d],c[d]);return a.getKey=this.getKey,a}}),Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(a){Ext.apply(this,a||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];if(d==undefined)throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",c));return new d(a)},onAvailable:function(a,b,c){var d=this.all;d.on("add",function(e,f){f.id==a&&(b.call(c||f,f),d.un("add",b,c))})},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}}),Ext.util.DelayedTask=function(a,b,c){var d=this,e,f=function(){clearInterval(e),e=null,a.apply(b,c||[])};this.delay=function(g,h,i,j){d.cancel(),a=h||a,b=i||b,c=j||c,e=setInterval(f,g)},this.cancel=function(){e&&(clearInterval(e),e=null)}},Ext.util.GeoLocation=Ext.extend(Ext.util.Observable,{autoUpdate:!0,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:!1,timeout:Infinity,maximumAge:0,setMaximumAge:function(a){this.maximumAge=a,this.setAutoUpdate(this.autoUpdate)},setTimeout:function(a){this.timeout=a,this.setAutoUpdate(this.autoUpdate)},setAllowHighAccuracy:function(a){this.allowHighAccuracy=a,this.setAutoUpdate(this.autoUpdate)},provider:null,watchOperation:null,constructor:function(a){Ext.apply(this,a),this.coords=this,Ext.supports.GeoLocation&&(this.provider=this.provider||(navigator.geolocation?navigator.geolocation:(window.google||{}).gears?google.gears.factory.create("beta.geolocation"):null)),this.addEvents("update","locationerror","locationupdate"),Ext.util.GeoLocation.superclass.constructor.call(this);if(this.autoUpdate){var b=this;setTimeout(function(){b.setAutoUpdate(b.autoUpdate)},0)}},setAutoUpdate:function(a){this.watchOperation!==null&&(this.provider.clearWatch(this.watchOperation),this.watchOperation=null);if(!a)return!0;if(!Ext.supports.GeoLocation)return this.fireEvent("locationerror",this,!1,!1,!0,null),!1;try{this.watchOperation=this.provider.watchPosition(Ext.createDelegate(this.fireUpdate,this),Ext.createDelegate(this.fireError,this),this.parseOptions())}catch(b){return this.autoUpdate=!1,this.fireEvent("locationerror",this,!1,!1,!0,b.message),!1}return!0},updateLocation:function(a,b,c){var d=this,e=function(c,e){e?d.fireError(e):d.fireEvent("locationerror",d,!1,!1,!0,c),a&&a.call(b||d,null,d),d.fireEvent("update",!1,d)};if(!Ext.supports.GeoLocation){setTimeout(function(){e(null)},0);return}try{this.provider.getCurrentPosition(function(c){d.fireUpdate(c),a&&a.call(b||d,d,d),d.fireEvent("update",d,d)},function(a){e(null,a)},c?c:this.parseOptions())}catch(f){setTimeout(function(){e(f.message)},0)}},fireUpdate:function(a){this.timestamp=a.timestamp,this.latitude=a.coords.latitude,this.longitude=a.coords.longitude,this.accuracy=a.coords.accuracy,this.altitude=a.coords.altitude,this.altitudeAccuracy=a.coords.altitudeAccuracy,this.heading=typeof a.coords.heading=="undefined"?null:a.coords.heading,this.speed=typeof a.coords.speed=="undefined"?null:a.coords.speed,this.fireEvent("locationupdate",this)},fireError:function(a){this.fireEvent("locationerror",this,a.code==a.TIMEOUT,a.code==a.PERMISSION_DENIED,a.code==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var a={maximumAge:this.maximumAge,allowHighAccuracy:this.allowHighAccuracy};return this.timeout!==Infinity&&(a.timeout=this.timeout),a},getLocation:function(a,b){var c=this;this.latitude!==null?a.call(b||c,c,c):c.updateLocation(a,b)}}),Ext.util.Region=Ext.extend(Object,{constructor:function(a,b,c,d){var e=this;e.top=a,e[1]=a,e.right=b,e.bottom=c,e.left=d,e[0]=d},contains:function(a){var b=this;return a.left>=b.left&&a.right<=b.right&&a.top>=b.top&&a.bottom<=b.bottom},intersect:function(a){var b=this,c=Math.max(b.top,a.top),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.left,a.left);return e>c&&d>f?new Ext.util.Region(c,d,e,f):!1},union:function(a){var b=this,c=Math.min(b.top,a.top),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.left,a.left);return new Ext.util.Region(c,d,e,f)},constrainTo:function(a){var b=this,c=Ext.util.Numbers.constrain;return b.top=c(b.top,a.top,a.bottom),b.bottom=c(b.bottom,a.top,a.bottom),b.left=c(b.left,a.left,a.right),b.right=c(b.right,a.left,a.right),b},adjust:function(a,b,c,d){var e=this;return e.top+=a,e.left+=d,e.right+=b,e.bottom+=c,e},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a))return a=="x"?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b);b=a;var c=new Ext.util.Offset;return c.x=this.getOutOfBoundOffsetX(b.x),c.y=this.getOutOfBoundOffsetY(b.y),c},getOutOfBoundOffsetX:function(a){return a<=this.left?this.left-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.top?this.top-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,b){return Ext.isObject(a)?(b=a,this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)):a=="x"?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.left||a>this.right},isOutOfBoundY:function(a){return a<this.top||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){var d;return c=b,b=a,b.copy?d=b.copy():d={x:b.x,y:b.y},d.x=this.restrictX(b.x,c),d.y=this.restrictY(b.y,c),d}return a=="x"?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){return b||(b=1),a<=this.left?a-=(a-this.left)*b:a>=this.right&&(a-=(a-this.right)*b),a},restrictY:function(a,b){return b||(b=1),a<=this.top?a-=(a-this.top)*b:a>=this.bottom&&(a-=(a-this.bottom)*b),a},getSize:function(){return{width:this.right-this.left,height:this.bottom-this.top}},copy:function(){return new Ext.util.Region(this.top,this.right,this.bottom,this.left)},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a){return this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y,this},round:function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}}),Ext.util.Region.getRegion=function(a){return Ext.fly(a).getPageBox(!0)},Ext.util.Region.from=function(a){return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},Ext.util.Point=Ext.extend(Object,{constructor:function(a,b){return this.x=a!=null&&!isNaN(a)?a:0,this.y=b!=null&&!isNaN(b)?b:0,this},copy:function(){return new Ext.util.Point(this.x,this.y)},copyFrom:function(a){return this.x=a.x,this.y=a.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){return Ext.isObject(b)||(b={x:b},b.y=b.x),this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},translate:function(a,b){a!=null&&!isNaN(a)&&(this.x+=a),b!=null&&!isNaN(b)&&(this.y+=b)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}}),Ext.util.Point.fromEvent=function(a){var b=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new Ext.util.Point(b.pageX,b.pageY)},Ext.util.Offset=Ext.extend(Object,{constructor:function(a,b){return this.x=a!=null&&!isNaN(a)?a:0,this.y=b!=null&&!isNaN(b)?b:0,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x,this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){if(a instanceof Ext.util.Offset)return this.x==a.x&&this.y==a.y;throw new Error("offset must be an instance of Ext.util.Offset")},round:function(a){if(!isNaN(a)){var b=Math.pow(10,a);this.x=Math.round(this.x*b)/b,this.y=Math.round(this.y*b)/b}else this.x=Math.round(this.x),this.y=Math.round(this.y)},isZero:function(){return this.x==0&&this.y==0}}),Ext.util.Offset.fromObject=function(a){return new Ext.util.Offset(a.x,a.y)},Ext.Template=Ext.extend(Object,{constructor:function(a){var b=this,c=arguments,d=[],e,f,g;b.initialConfig={};if(Ext.isArray(a))a=a.join("");else if(c.length>1){for(f=0,g=c.length;f<g;f++)e=c[f],typeof e=="object"?(Ext.apply(b.initialConfig,e),Ext.apply(b,e)):d.push(e);a=d.join("")}b.html=a,b.compiled&&b.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(a){function f(b,f,g,h){return g&&c?(h?h=[a[f]].concat((new Function("return ["+h+"];"))()):h=[a[f]],g.substr(0,5)=="this."?e[g.substr(5)].apply(e,h):d[g].apply(d,h)):a[f]!==undefined?a[f]:""}var b=this,c=b.disableFormats!==!0,d=Ext.util.Format,e=b;return b.compiled?b.compiled(a):b.html.replace(b.re,f)},set:function(a,b){var c=this;return c.html=a,c.compiled=null,b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(a,b,c,d){return c&&useFormat?(d=d?","+d:"",c.substr(0,5)!="this."?c="fm."+c+"(":c="this."+c.substr(5)+"("):(d="",c="(values['"+b+"'] == undefined ? '' : "),"',"+c+"values['"+b+"']"+d+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'].join('');};",eval(body),me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);var e=Ext.DomHelper.insertHtml(a,b,this.applyTemplate(c));return d?Ext.get(e,!0):e},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.applyTemplate(b),c?Ext.get(a.firstChild,!0):a.firstChild}}),Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate,Ext.Template.from=function(a,b){return a=Ext.getDom(a),new Ext.Template(a.value||a.innerHTML,b||"")},Ext.XTemplate=Ext.extend(Ext.Template,{argsRe:/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,nameRe:/^<tpl\b[^>]*?for="(.*?)"/,ifRe:/^<tpl\b[^>]*?if="(.*?)"/,execRe:/^<tpl\b[^>]*?exec="(.*?)"/,constructor:function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var a=this,b=a.html,c=a.argsRe,d=a.nameRe,e=a.ifRe,f=a.execRe,g=0,h=[],i="values",j="parent",k="xindex",l="xcount",m="return ",n="with(values){ ",o,p,q,r,s,t,u,v,w;b=["<tpl>",b,"</tpl>"].join("");while(o=b.match(c))s=null,t=null,u=null,p=o[0].match(d),q=o[0].match(e),r=o[0].match(f),s=q?q[1]:null,s&&(t=new Function(i,j,k,l,n+"try{"+m+Ext.util.Format.htmlDecode(s)+";}catch(e){return;}}")),s=r?r[1]:null,s&&(u=new Function(i,j,k,l,n+Ext.util.Format.htmlDecode(s)+";}")),v=p?p[1]:null,v&&(v==="."?v=i:v===".."&&(v=j),v=new Function(i,j,"try{"+n+m+v+";}}catch(e){return;}")),h.push({id:g,target:v,exec:u,test:t,body:o[1]||""}),b=b.replace(o[0],"{xtpl"+g+"}"),g+=1;for(w=h.length-1;w>=0;--w)a.compileTpl(h[w]);a.master=h[h.length-1],a.tpls=h},applySubTemplate:function(a,b,c,d,e){var f=this,g=f.tpls[a];return g.compiled.call(f,b,c,d,e)},codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,compileTpl:function(tpl){function fn(a,b,c,d,e){var f;return b.substr(0,4)=="xtpl"?"',this.applySubTemplate("+b.substr(4)+", values, parent, xindex, xcount),'":(b=="."?f='typeof values == "string" ? values : ""':b=="#"?f="xindex":b.substr(0,7)=="parent."?f=b:b.indexOf(".")!=-1?f="values."+b:f="values['"+b+"']",e&&(f="("+f+e+")"),c&&useFormat?(d=d?","+d:"",c.substr(0,5)!="this."?c="fm."+c+"(":c="this."+c.substr(5)+"("):(d="",c="("+f+" === undefined ? '' : "),"',"+c+f+d+"),'")}function codeFn(a,b){return"',("+b.replace(me.compileARe,"'")+"),'"}var fm=Ext.util.Format,me=this,useFormat=me.disableFormats!==!0,body,bodyReturn,evaluatedFn;return bodyReturn=tpl.body.replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn).replace(me.codeRe,codeFn),body="evaluatedFn = function(values, parent, xindex, xcount){return ['"+bodyReturn+"'].join('');};",eval(body),tpl.compiled=function(a,b,c,d){var e,f,g,h;if(tpl.test&&!tpl.test.call(me,a,b,c,d))return"";e=tpl.target?tpl.target.call(me,a,b):a;if(!e)return"";b=tpl.target?a:b;if(tpl.target&&Ext.isArray(e)){g=[],f=e.length;if(tpl.exec)for(h=0;h<f;h++)g[g.length]=evaluatedFn.call(me,e[h],b,h+1,f),tpl.exec.call(me,e[h],b,h+1,f);else for(h=0;h<f;h++)g[g.length]=evaluatedFn.call(me,e[h],b,h+1,f);return g.join("")}return tpl.exec&&tpl.exec.call(me,e,b,c,d),evaluatedFn.call(me,e,b,c,d)},this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}}),Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate,Ext.XTemplate.from=function(a,b){return a=Ext.getDom(a),new Ext.XTemplate(a.value||a.innerHTML,b||{})},Ext.util.Sorter=Ext.extend(Object,{direction:"ASC",constructor:function(a){Ext.apply(this,a);if(this.property==undefined&&this.sorterFn==undefined)throw"A Sorter requires either a property or a sorter function";this.sort=this.createSortFunction(this.sorterFn||this.defaultSorterFn)},createSortFunction:function(a){var b=this,c=b.property,d=b.direction,e=d.toUpperCase()=="DESC"?-1:1;return function(c,d){return e*a.call(b,c,d)}},defaultSorterFn:function(a,b){var c=this.getRoot(a)[this.property],d=this.getRoot(b)[this.property];return c>d?1:c<d?-1:0},getRoot:function(a){return this.root==undefined?a:a[this.root]}}),Ext.util.Filter=Ext.extend(Object,{anyMatch:!1,exactMatch:!1,caseSensitive:!1,constructor:function(a){Ext.apply(this,a),this.filter=this.filter||this.filterFn,this.filter==undefined&&(this.property!=undefined&&this.value!=undefined&&(this.filter=this.createFilterFn()),this.filterFn=this.filter)},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return function(d){return b.test(a.getRoot.call(a,d)[c])}},getRoot:function(a){return this.root==undefined?a:a[this.root]},createValueMatcher:function(){var a=this,b=a.value,c=a.anyMatch,d=a.exactMatch,e=a.caseSensitive,f=Ext.util.Format.escapeRegex;return b.exec||(b=String(b),c===!0?b=f(b):(b="^"+f(b),d===!0&&(b+="$")),b=new RegExp(b,e?"":"i")),b}}),Ext.util.Functions={createInterceptor:function(a,b,c,d){var e=a;return Ext.isFunction(b)?function(){var e=this,f=arguments;return b.target=e,b.method=a,b.apply(c||e||window,f)!==!1?a.apply(e||window,f):d||null}:a},createDelegate:function(a,b,c,d){return Ext.isFunction(a)?function(){var e=c||arguments;if(d===!0)e=Array.prototype.slice.call(arguments,0),e=e.concat(c);else if(Ext.isNumber(d)){e=Array.prototype.slice.call(arguments,0);var f=[d,0].concat(c);Array.prototype.splice.apply(e,f)}return a.apply(b||window,e)}:a},defer:function(a,b,c,d,e){return a=Ext.util.Functions.createDelegate(a,c,d,e),b>0?setTimeout(a,b):(a(),0)},createSequence:function(a,b,c){return Ext.isFunction(b)?function(){var d=a.apply(this||window,arguments);return b.apply(c||this||window,arguments),d}:a}},Ext.defer=Ext.util.Functions.defer,Ext.createInterceptor=Ext.util.Functions.createInterceptor,Ext.createSequence=Ext.util.Functions.createSequence,Ext.createDelegate=Ext.util.Functions.createDelegate,Ext.util.Date={getElapsed:function(a,b){return Math.abs(a-(b||new Date))}},Ext.util.Numbers={toFixedBroken:.9.toFixed()!=1,constrain:function(a,b,c){return a=parseFloat(a),isNaN(b)||(a=Math.max(a,b)),isNaN(c)||(a=Math.min(a,c)),a},toFixed:function(a,b){if(Ext.util.Numbers.toFixedBroken){b=b||0;var c=Math.pow(10,b);return Math.round(a*c)/c}return a.toFixed(b)}},Ext.util.Format={defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));if(e!=-1&&e>=b-15)return d.substr(0,e)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(a,b,c){return a==b?c:b},trim:function(a){return a.replace(Ext.util.Format.trimRe,"")},leftPad:function(a,b,c){var d=String(a);c=c||" ";while(d.length<b)d=c+d;return d},format:function(a){var b=Ext.toArray(arguments,1);return a.replace(Ext.util.Format.formatRe,function(a,c){return b[c]})},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):a},htmlDecode:function(a){return a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},date:function(a,b){return a?(Ext.isDate(a)||(a=new Date(Date.parse(a))),a.dateFormat(b||Ext.util.Format.defaultDateFormat)):""}},Ext.LoadMask=Ext.extend(Ext.util.Observable,{msg:"Loading...",msgCls:"x-mask-loading",disabled:!1,constructor:function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.addEvents("show","hide"),this.store&&this.bindStore(this.store,!0),Ext.LoadMask.superclass.constructor.call(this)},bindStore:function(a,b){!b&&this.store&&(this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad}),a||(this.store=null)),a&&(a=Ext.StoreMgr.lookup(a),this.mon(a,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad})),this.store=a,a&&a.isLoading()&&this.onBeforeLoad()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},isDisabled:function(){return this.disabled},onLoad:function(){this.el.unmask(),this.fireEvent("hide",this,this.el,this.store)},onBeforeLoad:function(){this.disabled||(this.el.mask(Ext.LoadingSpinner+'<div class="x-loading-msg">'+this.msg+"</div>",this.msgCls,!1),this.fireEvent("show",this,this.el,this.store))},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){this.hide(),this.clearListeners()}}),Ext.LoadingSpinner='<div class="x-loading-spinner"><span class="x-loading-top"></span><span class="x-loading-right"></span><span class="x-loading-bottom"></span><span class="x-loading-left"></span></div>',Ext.applyIf(Array.prototype,{indexOf:function(a,b){var c=this.length;b=b||0,b+=b<0?c:0;for(;b<c;++b)if(this[b]===a)return b;return-1},remove:function(a){var b=this.indexOf(a);return b!=-1&&this.splice(b,1),this},contains:function(a){return this.indexOf(a)!==-1}}),Ext.ComponentMgr=new Ext.AbstractManager({typeName:"xtype",create:function(a,b){if(a.isComponent)return a;var c=a.xtype||b,d=this.types[c];if(!d)throw"Attempting to create a component with an xtype that has not been registered: "+c;return new d(a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a,b.prototype[this.typeName]=a}}),Ext.reg=function(){return Ext.ComponentMgr.registerType.apply(Ext.ComponentMgr,arguments)},Ext.create=function(){return Ext.ComponentMgr.create.apply(Ext.ComponentMgr,arguments)},Ext.ComponentQuery=new function(){var a=this,b=["var r = [],","i = 0,","it = arguments[0],","l = it.length,","c;","for (; i < l; i++) {","c = it[i].{0};","if (c) {","r.push(c);","}","}","return r;"].join(""),c=function(a,b){return b.method.apply(this,[a].concat(b.args))},d=function(a,b){var c=[],d,e=a.length,f,g=b!=">";for(d=0;d<e;d++)f=a[d],f.getRefItems&&(c=c.concat(f.getRefItems(g)));return c},e=function(a){var b=[],c,d=a.length,e;for(c=0;c<d;c++){e=a[c];while(!!(e=e.ownerCt))b.push(e)}return b},f=function(a,b,c){if(b=="*")return a.slice();var d=[],e,f=a.length,g;for(e=0;e<f;e++)g=a[e],g.isXType(b,c)&&d.push(g);return d},g=function(a,b){var c=[],d,e=a.length,f;for(d=0;d<e;d++)f=a[d],(f.el?f.el.hasCls(b):f.initCls().contains(b))&&c.push(f);return c},h=function(a,b,c,d){var e=[],f,g=a.length,h;for(f=0;f<g;f++)h=a[f],(d===undefined?!!h[b]:h[b]==d)&&e.push(h);return e},i=function(a,b){var c=[],d,e=a.length,f;for(d=0;d<e;d++)f=a[d],f.getItemId()==b&&c.push(f);return c},j=function(b,c,d){return a.pseudos[c](b,d)},k=/^(\s?([>\^])\s?|\s|$)/,l=/^(?:(#)?([\w-]+|\*)(?:\((true|false)\))?)|(?:\{([^\}]+)\})/,m=[{re:/^\.([\w-]+)(?:\((true|false)\))?/,method:f},{re:/^(?:[\[\{](?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,method:h},{re:/^#([\w-]+)/,method:i},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,method:j}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{},Ext.apply(this,a)},execute:function(a){var b=this.operations,f=b.length,g,h,i;a||(i=Ext.ComponentMgr.all.getArray());for(h=0;h<f;h++){g=b[h],g.mode=="^"?i=e(i||[a]):g.mode?i=d(i||[a],g.mode):i=c(i||d([a]),g);if(h==f-1)return i}return[]},is:function(a){var b=this.operations,d=b.length,e,f=Ext.isArray(a)?a:[a];for(e=0;e<d&&f.length;e++)f=c(f,b[e]);return f.length!=0}}),Ext.apply(this,{cache:{},pseudos:{},query:function(a,b){var c=a.split(","),d=c.length,e,f,g=[],h=[],i={},j,k;for(e=0;e<d;e++)a=Ext.util.Format.trim(c[e]),f=this.cache[a],f||(this.cache[a]=f=this.parse(a)),g=g.concat(f.execute(b));if(d>1){j=g.length;for(e=0;e<j;e++)k=g[e],i[k.id]||(h.push(k),i[k.id]=!0);g=h}return g},is:function(a,b){if(!b)return!0;var c=this.cache[b];return c||(this.cache[b]=c=this.parse(b)),c.is(a)},parse:function(c){var d=[],e=m.length,h,j,n,o,p,q,r,s;while(c&&h!=c){h=c,j=c.match(l),j&&(n=j[1],n=="#"?d.push({method:i,args:[Ext.util.Format.trim(j[2])]}):n=="."?d.push({method:g,args:[Ext.util.Format.trim(j[2])]}):j[4]?d.push({method:new Function(Ext.util.Format.format(b,j[4])),args:[]}):d.push({method:f,args:[Ext.util.Format.trim(j[2]),Boolean(j[3])]}),c=c.replace(j[0],""));while(!(o=c.match(k)))for(r=0;c&&r<e;r++){s=m[r],p=c.match(s.re);if(p){d.push({method:s.method,args:p.splice(1)}),c=c.replace(p[0],"");break}if(r==e-1)throw'Invalid ComponentQuery selector: "'+arguments[0]+'"'}o[1]&&(d.push({mode:o[2]||o[1]}),c=c.replace(o[0],""))}return new a.Query({operations:d})}})},Ext.PluginMgr=new Ext.AbstractManager({typeName:"ptype",create:function(a,b){var c=this.types[a.ptype||b];return c.init?c:new c(a)},findByType:function(a,b){var c=[],d=this.types;for(var e in d){if(!d.hasOwnProperty(e))continue;var f=d[e];f.type==a&&(!b||b===!0&&f.isDefault)&&c.push(f)}return c}}),Ext.preg=function(){return Ext.PluginMgr.registerType.apply(Ext.PluginMgr,arguments)},Ext.EventManager={optionsRe:/^(?:capture|scope|delay|buffer|single|stopEvent|disableLocking|preventDefault|stopPropagation|normalized|args|delegate|horizontal|vertical|dragThreshold|holdThreshold|doubleTapThreshold|cancelThreshold|singleTapThreshold|fireClickEvent)$/,touchRe:/^(?:pinch|pinchstart|pinchend|tap|singletap|doubletap|swipe|swipeleft|swiperight|drag|dragstart|dragend|touchdown|touchstart|touchmove|touchend|taphold|tapstart|tapcancel)$/i,addListener:function(a,b,c,d,e){if(Ext.isObject(b)){this.handleListenerConfig(a,b);return}var f=Ext.getDom(a);if(!f)throw'Error listening for "'+b+'". Element "'+a+"\" doesn't exist.";if(!c)throw'Error listening for "'+b+'". No handler function specified';var g=this.touchRe.test(b),h=this.createListenerWrap(f,b,c,d,e,g);this.getEventListenerCache(f,b).push({fn:c,wrap:h,scope:d}),g?Ext.gesture.Manager.addEventListener(f,b,h,e):(e=e||{},f.addEventListener(b,h,e.capture||!1))},removeListener:function(a,b,c,d){if(Ext.isObject(b)){this.handleListenerConfig(a,b,!0);return}var e=Ext.getDom(a),f=this.getEventListenerCache(e,b),g=f.length,h,i,j,k;while(g--){i=f[g];if(i&&(!c||i.fn==c)&&(!d||i.scope===d)){j=i.wrap,j.task&&(clearTimeout(j.task),delete j.task),h=j.tasks&&j.tasks.length;if(h){while(h--)clearTimeout(j.tasks[h]);delete j.tasks}this.touchRe.test(b)?Ext.gesture.Manager.removeEventListener(e,b,j):e.removeEventListener(b,j,!1),f.splice(g,1)}}},removeAll:function(a){var b=Ext.getDom(a),c=this.getElementEventCache(b),d;for(d in c){if(!c.hasOwnProperty(d))continue;this.removeListener(b,d)}Ext.cache[b.id].events={}},purgeElement:function(a,b,c){var d=Ext.getDom(a),e=0,f;c?this.removeListener(d,c):this.removeAll(d);if(b&&d&&d.childNodes)for(f=a.childNodes.length;e<f;e++)this.purgeElement(a.childNodes[e],b,c)},handleListenerConfig:function(a,b,c){var d,e;for(d in b){if(!b.hasOwnProperty(d))continue;this.optionsRe.test(d)||(e=b[d],Ext.isFunction(e)?this[(c?"remove":"add")+"Listener"](a,d,e,b.scope,b):this[(c?"remove":"add")+"Listener"](a,d,b.fn,b.scope,b))}},getId:function(a){var b=!1,c;a=Ext.getDom(a);if(a===document||a===window)b=!0;return c=Ext.id(a),Ext.cache[c]||(Ext.Element.addToCache(new Ext.Element(a),c),b&&(Ext.cache[c].skipGarbageCollection=!0
)),c},createListenerWrap:function(a,b,c,d,e,f){e=Ext.isObject(e)?e:{};var g=["if(!window.Ext) {return;}"];f?g.push("e = new Ext.TouchEventObjectImpl(e, args);"):e.buffer||e.delay?g.push("e = new Ext.EventObjectImpl(e);"):g.push("e = Ext.EventObject.setEvent(e);"),e.delegate?(g.push('var t = e.getTarget("'+e.delegate+'", this);'),g.push("if(!t) {return;}")):g.push("var t = e.target;"),e.target&&g.push("if(e.target !== o.target) {return;}"),e.stopEvent?g.push("e.stopEvent();"):(e.preventDefault&&g.push("e.preventDefault();"),e.stopPropagation&&g.push("e.stopPropagation();")),e.normalized===!1&&g.push("e = e.browserEvent;"),e.buffer&&(g.push("(wrap.task && clearTimeout(wrap.task));"),g.push("wrap.task = setTimeout(function(){")),e.delay&&(g.push("wrap.tasks = wrap.tasks || [];"),g.push("wrap.tasks.push(setTimeout(function(){")),g.push("fn.call(scope || dom, e, t, o);"),e.single&&g.push("Ext.EventManager.removeListener(dom, ename, fn, scope);"),e.delay&&g.push("}, "+e.delay+"));"),e.buffer&&g.push("}, "+e.buffer+");");var h=new Function("e","o","fn","scope","ename","dom","wrap","args",g.join("\n"));return function(f,g){h.call(a,f,e,c,d,b,a,arguments.callee,g)}},getEventListenerCache:function(a,b){var c=this.getElementEventCache(a);return c[b]||(c[b]=[])},getElementEventCache:function(a){var b=Ext.cache[this.getId(a)];return b.events||(b.events={})},onDocumentReady:function(a,b,c){var d=this,e=d.readyEvent,f;if(Ext.isReady)e||(e=new Ext.util.Event),e.addListener(a,b,c),e.fire(),e.listeners=[];else{if(!e){e=d.readyEvent=new Ext.util.Event;var g=function(){Ext.isReady=!0,window.removeEventListener("load",arguments.callee,!1),f&&clearInterval(f),setTimeout(function(){Ext.supports.init(),Ext.gesture.Manager.init(),Ext.orientation=Ext.Element.getOrientation(),e.fire({orientation:Ext.orientation,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}),e.listeners=[]},50)};f=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(f),f=null,g())},10),window.addEventListener("load",g,!1)}c=c||{},c.delay=c.delay||1,e.addListener(a,b,c)}},onWindowResize:function(a,b,c){var d=this,e=d.resizeEvent;if(!e){d.resizeEvent=e=new Ext.util.Event;var f=function(){e.fire(Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight())};this.addListener(window,"resize",f,this)}e.addListener(a,b,c)},onOrientationChange:function(a,b,c){var d=this,e=d.orientationEvent;if(!e){d.orientationEvent=e=new Ext.util.Event;var f=function(a,b){Ext.orientation=Ext.Viewport.getOrientation(),e.fire(Ext.orientation,b.width,b.height)};Ext.Viewport.on("resize",f,this)}e.addListener(a,b,c)},unOrientationChange:function(a,b,c){var d=this,e=d.orientationEvent;e&&e.removeListener(a,b,c)}},Ext.EventManager.on=Ext.EventManager.addListener,Ext.EventManager.un=Ext.EventManager.removeListener,Ext.onReady=Ext.EventManager.onDocumentReady,Ext.EventObjectImpl=Ext.extend(Object,{constructor:function(a){a&&this.setEvent(a.browserEvent||a)},setEvent:function(a){var b=this;if(a==b||a&&a.browserEvent)return a;b.browserEvent=a;if(a){b.type=a.type;var c=a.target;b.target=c&&c.nodeType==3?c.parentNode:c,b.xy=[a.pageX,a.pageY],b.timestamp=a.timeStamp}else b.target=null,b.xy=[0,0];return b},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&this.browserEvent.preventDefault()},stopPropagation:function(){this.browserEvent&&this.browserEvent.stopPropagation()},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getTime:function(){return this.timestamp}}),Ext.EventObject=new Ext.EventObjectImpl,Ext.is={init:function(a){var b=this,c=b.platforms,d=c.length,e,f;a=a||window.navigator;for(e=0;e<d;e++)f=c[e],b[f.identity]=f.regex.test(a[f.property]);b.Desktop=b.Mac||b.Windows||b.Linux&&!b.Android,b.iOS=b.iPhone||b.iPad||b.iPod,b.Standalone=!!a.standalone,e=b.Android&&/Android\s(\d+\.\d+)/.exec(a.userAgent),e&&(b.AndroidVersion=e[1],b.AndroidMajorVersion=parseInt(e[1],10)),b.Tablet=b.iPad||b.Android&&b.AndroidMajorVersion===3,b.Phone=!b.Desktop&&!b.Tablet,b.MultiTouch=!b.Blackberry&&!b.Desktop&&!(b.Android&&b.AndroidVersion<3)},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),Ext.supports={init:function(){var a=document,b=a.createElement("div"),c=this.tests,d=c.length,e,f;b.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="float:left; background-color:transparent;"></div>'].join(""),a.body.appendChild(b);for(e=0;e<d;e++)f=c[e],this[f.identity]=f.fn.call(this,a,b);a.body.removeChild(b)},OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,tests:[{identity:"Transitions",fn:function(a,b){var c=["webkit","Moz","o","ms","khtml"],d="TransitionEnd",e=[c[0]+d,"transitionend",c[2]+d,c[3]+d,c[4]+d],f=c.length,g=0,h=!1;b=Ext.get(b);for(;g<f;g++)if(b.getStyle(c[g]+"TransitionProperty")){Ext.supports.CSS3Prefix=c[g],Ext.supports.CSS3TransitionEnd=e[g],h=!0;break}return h}},{identity:"RightMargin",fn:function(a,b,c){return c=a.defaultView,!c||c.getComputedStyle(b.firstChild.firstChild,null).marginRight=="0px"}},{identity:"TransparentColor",fn:function(a,b,c){return c=a.defaultView,!c||c.getComputedStyle(b.lastChild,null).backgroundColor=="transparent"}},{identity:"SVG",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"VML",fn:function(a){var b=a.createElement("div");return b.innerHTML="<!--[if vml]><br><br><![endif]-->",b.childNodes.length==2}},{identity:"Float",fn:function(a,b){return!!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){return!!window.history&&!!history.pushState}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,b){var c="background-image:",d="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",e="linear-gradient(left top, black, white)",f="-moz-"+e,g=[c+d,c+e,c+f];return b.style.cssText=g.join(";"),(""+b.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(a,b){var c=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],d=!1,e;for(e=0;e<c.length;e++)if(document.body.style[c[e]]!==undefined)return d=!0;return d}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined"||typeof google!="undefined"&&typeof google.gears!="undefined"}}]},Ext.data.Batch=Ext.extend(Ext.util.Observable,{autoStart:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,pauseOnException:!0,constructor:function(a){this.addEvents("complete","exception","operationcomplete","operation-complete"),Ext.data.Batch.superclass.constructor.call(this,a),this.operations=[]},add:function(a){this.total++,a.setBatch(this),this.operations.push(a)},start:function(){this.hasException=!1,this.isRunning=!0,this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=!1},runOperation:function(a){var b=this.operations,c=b[a];if(c==undefined)this.isRunning=!1,this.isComplete=!0,this.fireEvent("complete",this,b[b.length-1]);else{this.current=a;var d=function(a){var b=a.hasException();b?(this.hasException=!0,this.fireEvent("exception",this,a)):(this.fireEvent("operation-complete",this,a),this.fireEvent("operationcomplete",this,a)),b&&this.pauseOnException?this.pause():(a.setCompleted(),this.runNextOperation())};c.setStarted(),this.proxy[c.action](c,d,this)}}}),Ext.data.Model=Ext.extend(Ext.util.Stateful,{evented:!1,isModel:!0,phantom:!1,idProperty:"id",constructor:function(a,b){a=a||{},this.internalId=b||b===0?b:Ext.data.Model.id(this),Ext.data.Model.superclass.constructor.apply(this);var c=this.fields.items,d=c.length,e,f,g;for(g=0;g<d;g++)e=c[g],f=e.name,a[f]==undefined&&(a[f]=e.defaultValue);this.set(a),this.dirty=!1,this.getId()&&(this.phantom=!1),typeof this.init=="function"&&this.init()},validate:function(){var a=new Ext.data.Errors,b=this.validations,c=Ext.data.validations,d,e,f,g,h,i;if(b){d=b.length;for(i=0;i<d;i++)e=b[i],f=e.field||e.name,h=e.type,g=c[h](e,this.get(f)),g||a.add({field:f,message:e.message||c[h+"Message"]})}return a},getProxy:function(){return this.constructor.proxy},save:function(a){var b=this,c=b.phantom?"create":"update";a=a||{},Ext.apply(a,{records:[b],action:c});var d=new Ext.data.Operation(a),e=a.success,f=a.failure,g=a.callback,h=a.scope,i,j=function(a){i=a.getRecords()[0],a.wasSuccessful()?(b.set(i.data),i.dirty=!1,typeof e=="function"&&e.call(h,i,a)):typeof f=="function"&&f.call(h,i,a),typeof g=="function"&&g.call(h,i,a)};return b.getProxy()[c](d,j,b),b},getId:function(){return this.get(this.idProperty)},setId:function(a){this.set(this.idProperty,a)},join:function(a){this.store=a},unjoin:function(a){delete this.store},afterEdit:function(){this.callStore("afterEdit")},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(a){var b=this.store;b!=undefined&&typeof b[a]=="function"&&b[a](this)}}),Ext.apply(Ext.data.Model,{setProxy:function(a){return a=Ext.data.ProxyMgr.create(a),a.setModel(this),this.proxy=a,a},load:function(a,b){b=Ext.applyIf(b||{},{action:"read",id:a});var c=new Ext.data.Operation(b),d=b.callback,e=b.success,f=b.failure,g=b.scope,h,i;i=function(a){h=a.getRecords()[0],a.wasSuccessful()?typeof e=="function"&&e.call(g,h,a):typeof f=="function"&&f.call(g,h,a),typeof d=="function"&&d.call(g,h,a)},this.proxy.read(c,i,this)}}),Ext.data.Model.id=function(a){return a.phantom=!0,[Ext.data.Model.PREFIX,"-",Ext.data.Model.AUTO_ID++].join("")},Ext.ns("Ext.data.Record"),Ext.data.Record.id=Ext.data.Model.id,Ext.data.Model.PREFIX="ext-record",Ext.data.Model.AUTO_ID=1,Ext.data.Model.EDIT="edit",Ext.data.Model.REJECT="reject",Ext.data.Model.COMMIT="commit",Ext.data.Association=Ext.extend(Object,{primaryKey:"id",constructor:function(a){Ext.apply(this,a);var b=Ext.ModelMgr.types,c=a.ownerModel,d=a.associatedModel,e=b[c],f=b[d],g;if(e==undefined)throw new Error("The configured ownerModel was not valid (you tried "+c+")");if(f==undefined)throw new Error("The configured associatedModel was not valid (you tried "+d+")");this.ownerModel=e,this.associatedModel=f,Ext.applyIf(this,{ownerName:c,associatedName:d})}}),Ext.data.HasManyAssociation=Ext.extend(Ext.data.Association,{constructor:function(a){Ext.data.HasManyAssociation.superclass.constructor.apply(this,arguments);var b=this.ownerModel.prototype,c=this.name;Ext.applyIf(this,{storeName:c+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"}),b[c]=this.createStore()},createStore:function(){var a=this.associatedModel,b=this.storeName,c=this.foreignKey,d=this.primaryKey,e=this.filterProperty,f=this.storeConfig||{};return function(){var g=this,h,i,j={};return g[b]==undefined&&(e?i={property:e,value:g.get(e),exactMatch:!0}:i={property:c,value:g.get(d),exactMatch:!0},j[c]=g.get(d),h=Ext.apply({},f,{model:a,filters:[i],remoteFilter:!1,modelDefaults:j}),g[b]=new Ext.data.Store(h)),g[b]}}}),Ext.data.BelongsToAssociation=Ext.extend(Ext.data.Association,{constructor:function(a){Ext.data.BelongsToAssociation.superclass.constructor.apply(this,arguments);var b=this,c=b.ownerModel.prototype,d=b.associatedName,e=b.getterName||"get"+d,f=b.setterName||"set"+d;Ext.applyIf(b,{name:d,foreignKey:d.toLowerCase()+"_id",instanceName:d+"BelongsToInstance"}),c[e]=b.createGetter(),c[f]=b.createSetter()},createSetter:function(){var a=this,b=a.ownerModel,c=a.associatedModel,d=a.foreignKey,e=a.primaryKey;return function(a,b,c){this.set(d,a),typeof b=="function"&&(b={callback:b,scope:c||this});if(Ext.isObject(b))return this.save(b)}},createGetter:function(){var a=this,b=a.ownerModel,c=a.associatedName,d=a.associatedModel,e=a.foreignKey,f=a.primaryKey,g=a.instanceName;return function(a,b){a=a||{};var h=this.get(e),i,j;if(this[g]==undefined)i=Ext.ModelMgr.create({},c),i.set(f,h),typeof a=="function"&&(a={callback:a,scope:b||this}),d.load(h,a);else return i=this[g],typeof a=="function"&&a.call(b||this,i),a.success&&a.success.call(b||this,i),a.callback&&a.callback.call(b||this,i),i}}}),Ext.data.PolymorphicAssociation=Ext.extend(Ext.data.Association,{constructor:function(a){Ext.data.PolymorphicAssociation.superclass.constructor.call(this,a);var b=this.ownerModel.prototype,c=this.name;Ext.applyIf(this,{associationIdField:this.ownerName.toLowerCase()+"_id"}),b[c]=this.createStore()},createStore:function(){var a=this,b=this.ownerName,c=this.name+"Store",d=this.associatedModel,e=this.primaryKey,f="associated_id",g="associated_model";return function(){var h=this,i={},j,k;return h[c]==undefined&&(k=[{property:f,value:h.get(e),exactMatch:!0},{property:g,value:b,exactMatch:!0}],i[f]=h.get(e),i[g]=b,j=Ext.apply({},a.storeConfig||{},{model:d,filters:k,remoteFilter:!1,modelDefaults:i}),h[c]=new Ext.data.Store(j)),h[c]}}}),Ext.data.validations={presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",presence:function(a,b){return b==undefined&&(b=a),!!b},length:function(a,b){if(b==undefined)return!1;var c=b.length,d=a.min,e=a.max;return d&&c<d||e&&c>e?!1:!0},format:function(a,b){return!!a.matcher&&!!a.matcher.test(b)},inclusion:function(a,b){return a.list&&a.list.indexOf(b)!=-1},exclusion:function(a,b){return a.list&&a.list.indexOf(b)==-1}},Ext.data.Errors=Ext.extend(Ext.util.MixedCollection,{isValid:function(){return this.length==0},getByField:function(a){var b=[],c,d,e;for(e=0;e<this.length;e++)c=this.items[e],c.field==a&&b.push(c);return b}}),Ext.data.Field=Ext.extend(Object,{constructor:function(a){Ext.isString(a)&&(a={name:a}),Ext.apply(this,a);var b=Ext.data.Types,c=this.sortType,d;this.type?Ext.isString(this.type)&&(this.type=b[this.type.toUpperCase()]||b.AUTO):this.type=b.AUTO,Ext.isString(c)?this.sortType=Ext.data.SortTypes[c]:Ext.isEmpty(c)&&(this.sortType=this.type.sortType),this.convert||(this.convert=this.type.convert)},dateFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0}),Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}},Ext.data.Types=new function(){var a=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:a.none,type:"auto"},STRING:{convert:function(a){return a===undefined||a===null?"":String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return a===!0||a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b=this.dateFormat;if(!a)return null;if(Ext.isDate(a))return a;if(b)return b=="timestamp"?new Date(a*1e3):b=="time"?new Date(parseInt(a,10)):Date.parseDate(a,b);var c=Date.parse(a);return c?new Date(c):null},sortType:a.asDate,type:"date"}}),Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})},Ext.ModelMgr=new Ext.AbstractManager({typeName:"mtype",defaultProxyType:"ajax",associationStack:[],registerType:function(a,b){var c=Ext.PluginMgr,d=c.findByType("model",!0),e=b.fields||[],f=b.associations||[],g=b.belongsTo,h=b.hasMany,i=b.extend,j=b.plugins||[],k,l,m,n,o,p,q,r;if(g){Ext.isArray(g)||(g=[g]);for(n=0;n<g.length;n++)k=g[n],Ext.isObject(k)||(k={model:k}),Ext.apply(k,{type:"belongsTo"}),f.push(k);delete b.belongsTo}if(h){Ext.isArray(h)||(h=[h]);for(n=0;n<h.length;n++)k=h[n],Ext.isObject(k)||(k={model:k}),Ext.apply(k,{type:"hasMany"}),f.push(k);delete b.hasMany}i?(o=this.types[i],p=o.prototype,q=p.validations,r=o.proxy,e=p.fields.items.concat(e),f=p.associations.items.concat(f),b.validations=q?q.concat(b.validations):b.validations):(o=Ext.data.Model,r=b.proxy),l=Ext.extend(o,b);for(n=0,m=j.length;n<m;n++)d.push(c.create(j[n]));this.types[a]=l,Ext.override(l,{plugins:d,fields:this.createFields(e),associations:this.createAssociations(f,a)}),l.modelName=a,Ext.data.Model.setProxy.call(l,r||this.defaultProxyType),l.getProxy=l.prototype.getProxy,l.load=function(){Ext.data.Model.load.apply(this,arguments)};for(n=0,m=d.length;n<m;n++)d[n].bootstrap(l,b);return l.defined=!0,this.onModelDefined(l),l},onModelDefined:function(a){var b=this.associationStack,c=b.length,d=[],e,f;for(f=0;f<c;f++)e=b[f],e.associatedModel==a.modelName&&d.push(e);c=d.length;for(f=0;f<c;f++)this.addAssociation(d[f],this.types[d[f].ownerModel].prototype.associations),b.remove(d[f])},createAssociations:function(a,b){var c=a.length,d,e,f;e=new Ext.util.MixedCollection(!1,function(a){return a.name});for(d=0;d<c;d++)f=a[d],Ext.apply(f,{ownerModel:b,associatedModel:f.model}),this.types[f.model]==undefined?this.associationStack.push(f):this.addAssociation(f,e);return e},addAssociation:function(a,b){var c=a.type;c=="belongsTo"&&b.add(new Ext.data.BelongsToAssociation(a)),c=="hasMany"&&b.add(new Ext.data.HasManyAssociation(a)),c=="polymorphic"&&b.add(new Ext.data.PolymorphicAssociation(a))},createFields:function(a){var b=a.length,c,d;d=new Ext.util.MixedCollection(!1,function(a){return a.name});for(c=0;c<b;c++)d.add(new Ext.data.Field(a[c]));return d},getModel:function(a){var b=a;return typeof b=="string"&&(b=this.types[b]),b},create:function(a,b,c){var d=typeof b=="function"?b:this.types[b||a.name];return new d(a,c)}}),Ext.regModel=function(){return Ext.ModelMgr.registerType.apply(Ext.ModelMgr,arguments)},Ext.data.Operation=Ext.extend(Object,{synchronous:!0,action:undefined,filters:undefined,sorters:undefined,group:undefined,start:undefined,limit:undefined,batch:undefined,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,constructor:function(a){Ext.apply(this,a||{})},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0,this.success=!1,this.running=!1,this.error=a},markStarted:function(){return console.warn("Operation: markStarted has been deprecated. Please use setStarted"),this.setStarted()},markCompleted:function(){return console.warn("Operation: markCompleted has been deprecated. Please use setCompleted"),this.setCompleted()},markSuccessful:function(){return console.warn("Operation: markSuccessful has been deprecated. Please use setSuccessful"),this.setSuccessful()},markException:function(){return console.warn("Operation: markException has been deprecated. Please use setException"),this.setException()},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return a==undefined?this.records:a.records},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}}),Ext.data.ProxyMgr=new Ext.AbstractManager({create:function(a){if(a==undefined||typeof a=="string")a={type:a};if(a instanceof Ext.data.Proxy)return a;Ext.applyIf(a,{type:this.defaultProxyType,model:this.model});var b=a[this.typeName]||a.type,c=this.types[b];if(c==undefined)throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",b));return new c(a)}}),Ext.data.ReaderMgr=new Ext.AbstractManager({typeName:"rtype"}),Ext.data.Request=Ext.extend(Object,{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}}),Ext.data.ResultSet=Ext.extend(Object,{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a),this.totalRecords=this.total,a.count==undefined&&(this.count=this.records.length)}}),Ext.data.AbstractStore=Ext.extend(Ext.util.Observable,{remoteSort:!1,remoteFilter:!1,autoLoad:!1,autoSave:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,defaultSortDirection:"ASC",implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,constructor:function(a){this.addEvents("add","remove","update","datachanged","beforeload","load","beforesync"),Ext.apply(this,a),this.removed=[],this.sortToggle={},Ext.data.AbstractStore.superclass.constructor.apply(this,arguments),this.model=Ext.ModelMgr.getModel(a.model),Ext.applyIf(this,{modelDefaults:{}}),!this.model&&a.fields&&(this.model=Ext.regModel("ImplicitModel-"+this.storeId||Ext.id(),{fields:a.fields}),delete this.fields,this.implicitModel=!0),this.setProxy(a.proxy||this.model.proxy),this.id&&!this.storeId&&(this.storeId=this.id,delete this.id),this.storeId&&Ext.StoreMgr.register(this),this.sorters=new Ext.util.MixedCollection,this.sorters.addAll(this.decodeSorters(a.sorters)),this.filters=new Ext.util.MixedCollection,this.filters.addAll(this.decodeFilters(a.filters))},setProxy:function(a){return a instanceof Ext.data.Proxy?a.setModel(this.model):(Ext.applyIf(a,{model:this.model}),a=Ext.data.ProxyMgr.create(a)),this.proxy=a,this.proxy},getProxy:function(){return this.proxy},create:function(a,b){var c=Ext.ModelMgr.create(Ext.applyIf(a,this.modelDefaults),this.model.modelName),d;return b=b||{},Ext.applyIf(b,{action:"create",records:[c]}),d=new Ext.data.Operation(b),this.proxy.create(d,this.onProxyWrite,this),c},read:function(){return this.load.apply(this,arguments)},onProxyRead:Ext.emptyFn,update:function(a){a=a||{},Ext.applyIf(a,{action:"update",records:this.getUpdatedRecords()});var b=new Ext.data.Operation(a);return this.proxy.update(b,this.onProxyWrite,this)},onProxyWrite:Ext.emptyFn,destroy:function(a){a=a||{},Ext.applyIf(a,{action:"destroy",records:this.getRemovedRecords()});var b=new Ext.data.Operation(a);return this.proxy.destroy(b,this.onProxyWrite,this)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a,b){var c=a.operations,d=c.length,e;this.suspendEvents();for(e=0;e<d;e++)this.onProxyWrite(c[e]);this.resumeEvents(),this.fireEvent("datachanged",this)},onBatchException:function(a,b){},filterNew:function(a){return a.phantom==1||a.needsAdd==1},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},filterDirty:function(a){return a.dirty==1},getRemovedRecords:function(){return this.removed},sort:function(a,b){},decodeSorters:function(a){Ext.isArray(a)||(a==undefined?a=[]:a=[a]);var b=a.length,c=Ext.util.Sorter,d,e;for(e=0;e<b;e++)d=a[e],d instanceof c||(Ext.isString(d)&&(d={property:d}),Ext.applyIf(d,{root:"data",direction:"ASC"}),d.fn&&(d.sorterFn=d.fn),typeof d=="function"&&(d={sorterFn:d}),a[e]=new c(d));return a},filter:function(a,b){},createSortFunction:function(a,b){b=b||"ASC";var c=b.toUpperCase()=="DESC"?-1:1,d=this.model.prototype.fields,e=d.get(a).sortType;return function(b,d){var f=e(b.data[a]),g=e(d.data[a]);return c*(f>g?1:f<g?-1:0)}},decodeFilters:function(a){Ext.isArray(a)||(a==undefined?a=[]:a=[a]);var b=a.length,c=Ext.util.Filter,d,e;for(e=0;e<b;e++)d=a[e],d instanceof c||(Ext.apply(d,{root:"data"}),d.fn&&(d.filterFn=d.fn),typeof d=="function"&&(d={filterFn:d}),a[e]=new c(d));return a},clearFilter:function(a){},isFiltered:function(){},filterBy:function(a,b){},sync:function(){var a=this,b={},c=a.getNewRecords(),d=a.getUpdatedRecords(),e=a.getRemovedRecords(),f=!1;c.length>0&&(b.create=c,f=!0),d.length>0&&(b.update=d,f=!0),e.length>0&&(b.destroy=e,f=!0),f&&a.fireEvent("beforesync",b)!==!1&&a.proxy.batch(b,a.getBatchListeners())},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException};return this.batchUpdateMode=="operation"?a.operationcomplete=this.onBatchOperationComplete:a.complete=this.onBatchComplete,a},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b=this,c;return a=a||{},Ext.applyIf(a,{action:"read",filters:b.filters.items,sorters:b.sorters.items}),c=new Ext.data.Operation(a),b.fireEvent("beforeload",b,c)!==!1&&(b.loading=!0,b.proxy.read(c,b.onProxyLoad,b)),b},afterEdit:function(a){this.fireEvent("update",this,a,Ext.data.Model.EDIT)},afterReject:function(a){this.fireEvent("update",this,a,Ext.data.Model.REJECT)},afterCommit:function(a){this.autoSave&&this.sync(),this.fireEvent("update",this,a,Ext.data.Model.COMMIT)},clearData:Ext.emptyFn,destroyStore:function(){this.isDestroyed||(this.storeId&&Ext.StoreMgr.unregister(this),this.clearData(),this.data=null,this.tree=null,this.reader=this.writer=null,this.clearListeners(),this.isDestroyed=!0,this.implicitModel&&Ext.destroy(this.model))},getSortState:function(){return this.sortInfo},getCount:function(){},getById:function(a){},removeAll:function(){}}),Ext.data.Store=Ext.extend(Ext.data.AbstractStore,{remoteSort:!1,remoteFilter:!1,groupField:undefined,groupDir:"ASC",pageSize:25,currentPage:1,clearOnPageLoad:!0,implicitModel:!1,loading:!1,sortOnFilter:!0,isStore:!0,constructor:function(a){a=a||{},this.data=new Ext.util.MixedCollection(!1,function(a){return a.internalId}),a.data&&(this.inlineData=a.data,delete a.data),Ext.data.Store.superclass.constructor.call(this,a);var b=this.proxy,c=this.inlineData;c?(b instanceof Ext.data.MemoryProxy?(b.data=c,this.read()):this.add.apply(this,c),this.sort(),delete this.inlineData):this.autoLoad&&Ext.defer(this.load,10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])},getGroups:function(){var a=this.data.items,b=a.length,c=[],d={},e,f,g,h;for(h=0;h<b;h++)e=a[h],f=this.getGroupString(e),g=d[f],g==undefined&&(g={name:f,children:[]},c.push(g),d[f]=g),g.children.push(e);return c},getGroupString:function(a){return a.get(this.groupField)},first:function(){return this.data.first()},last:function(){return this.data.last()},insert:function(a,b){var c,d,e;b=[].concat(b);for(c=0,e=b.length;c<e;c++)d=this.createModel(b[c]),d.set(this.modelDefaults),this.data.insert(a+c,d),d.join(this);this.snapshot&&this.snapshot.addAll(b),this.fireEvent("add",this,b,a),this.fireEvent("datachanged",this)},add:function(a){Ext.isArray(a)||(a=Array.prototype.slice.apply(arguments));var b=a.length,c,d;for(d=0;d<b;d++)c=this.createModel(a[d]),c.phantom==0&&(c.needsAdd=!0),a[d]=c;return this.insert(this.data.length,a),a},createModel:function(a){return a instanceof Ext.data.Model||(a=Ext.ModelMgr.create(a,this.model)),a},each:function(a,b){this.data.each(a,b)},remove:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c,d,e;for(c=0;c<b;c++)e=a[c],d=this.data.indexOf(e),d>-1&&(this.removed.push(e),this.snapshot&&this.snapshot.remove(e),e.unjoin(this),this.data.remove(e),this.fireEvent("remove",this,e,d));this.fireEvent("datachanged",this)},removeAt:function(a){var b=this.getAt(a);b&&this.remove(b)},load:function(a){return a=a||{},Ext.isFunction(a)&&(a={callback:a}),Ext.applyIf(a,{group:{field:this.groupField,direction:this.groupDir},start:0,limit:this.pageSize,addRecords:!1}),Ext.data.Store.superclass.load.call(this,a)},isLoading:function(){return this.loading},onProxyLoad:function(a){var b=a.getRecords();this.loadRecords(b,a.addRecords),this.loading=!1,this.fireEvent("load",this,b,a.wasSuccessful()),this.fireEvent("read",this,b,a.wasSuccessful());var c=a.callback;typeof c=="function"&&c.call(a.scope||this,b,a,a.wasSuccessful())},onProxyWrite:function(a){var b=this.data,c=a.action,d=a.getRecords(),e=d.length,f=a.callback,g,h;if(a.wasSuccessful()){if(c=="create"||c=="update")for(h=0;h<e;h++)g=d[h],g.phantom=!1,g.join(this),b.replace(g);else if(c=="destroy"){for(h=0;h<e;h++)g=d[h],g.unjoin(this),b.remove(g);this.removed=[]}this.fireEvent("datachanged")}typeof f=="function"&&f.call(a.scope||this,d,a,a.wasSuccessful())},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterDirty).items},sort:function(a,b){if(Ext.isString(a)){var c=a,d=this.sortToggle,e=Ext.util.Format.toggle;b==undefined&&(d[c]=e(d[c]||"","ASC","DESC"),b=d[c]),a={property:c,direction:b}}arguments.length!=0&&this.sorters.clear(),this.sorters.addAll(this.decodeSorters(a)),this.remoteSort?this.load():(this.data.sort(this.sorters.items),this.fireEvent("datachanged",this))},filter:function(a,b){Ext.isString(a)&&(a={property:a,value:b}),this.filters.addAll(this.decodeFilters(a)),this.remoteFilter?this.load():(this.snapshot=this.snapshot||this.data.clone(),this.data=this.data.filter(this.filters.items),this.sortOnFilter&&!this.remoteSort?this.sort():this.fireEvent("datachanged",this))},clearFilter:function(a){this.filters.clear(),this.isFiltered()&&(this.data=this.snapshot.clone(),delete this.snapshot,a!==!0&&this.fireEvent("datachanged",this))},isFiltered:function(){return!!this.snapshot&&this.snapshot!=this.data},filterBy:function(a,b){this.snapshot=this.snapshot||this.data.clone(),this.data=this.queryBy(a,b||this),this.fireEvent("datachanged",this)},queryBy:function(a,b){var c=this.snapshot||this.data;return c.filterBy(a,b||this)},loadData:function(a,b){var c=this.model,d=a.length,e,f;for(e=0;e<d;e++)f=a[e],f instanceof Ext.data.Model||(a[e]=Ext.ModelMgr.create(f,c));this.loadRecords(a,b)},loadRecords:function(a,b){b||this.data.clear(),this.data.addAll(a);for(var c=0,d=a.length;c<d;c++)a[c].needsAdd=!1,a[c].join(this);this.suspendEvents(),this.filterOnLoad&&!this.remoteFilter&&this.filter(),this.sortOnLoad&&!this.remoteSort&&this.sort(),this.resumeEvents(),this.fireEvent("datachanged",this,a)},loadPage:function(a){this.currentPage=a,this.read({page:a,start:(a-1)*this.pageSize,limit:this.pageSize,addRecords:!this.clearOnPageLoad})},nextPage:function(){this.loadPage(this.currentPage+1)},previousPage:function(){this.loadPage(this.currentPage-1)},clearData:function(){this.data.each(function(a){a.unjoin()}),this.data.clear()},find:function(a,b,c,d,e,f){var g=this.createFilterFn(a,b,d,e,f);return g?this.data.findIndexBy(g,null,c):-1},findRecord:function(){var a=this.find.apply(this,arguments);return a!=-1?this.getAt(a):null},createFilterFn:function(a,b,c,d,e){return Ext.isEmpty(b)?!1:(b=this.data.createValueMatcher(b,c,d,e),function(c){return b.test(c.data[a])})},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.get(a)===b},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){var d=[],e={},f,g,h,i,j;c===!0&&this.snapshot?i=this.snapshot.items:i=this.data.items,f=i.length;for(j=0;j<f;j++)g=i[j].data[a],h=String(g),(b||!Ext.isEmpty(g))&&!e[h]&&(e[h]=!0,d[d.length]=g);return d},sum:function(a,b,c){var d=this.data.items,e=0,f;b=b||0,c=c||c===0?c:d.length-1;for(f=b;f<=c;f++)e+=d[f].data[a]||0;return e},getCount:function(){return this.data.length||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},getById:function(a){return(this.snapshot||this.data).findBy(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},removeAll:function(a){var b=[];this.each(function(a){b.push(a)}),this.clearData(),this.snapshot&&this.snapshot.clear(),a!==!0&&this.fireEvent("clear",this,b)}}),Ext.data.TreeStore=Ext.extend(Ext.data.AbstractStore
,{clearOnLoad:!0,nodeParam:"node",defaultRootId:"root",constructor:function(a){a=a||{};var b=a.root||{};b.id=b.id||this.defaultRootId;var c=new Ext.data.RecordNode(b);this.tree=new Ext.data.Tree(c),this.tree.treeStore=this,Ext.data.TreeStore.superclass.constructor.call(this,a),a.root&&this.read({node:c,doPreload:!0})},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},load:function(a){a=a||{},a.params=a.params||{};var b=a.node||this.tree.getRootNode(),c,d,e=this.proxy.reader,f;if(this.clearOnLoad)while(b.firstChild)b.removeChild(b.firstChild);return a.doPreload?(f=e.getRoot(b.isRoot?b.attributes:b.getRecord().raw),c=e.extractData(f,!0),this.fillNode(b,c),!0):(Ext.applyIf(a,{node:b}),d=b.getRecord(),a.params[this.nodeParam]=d?d.getId():"root",Ext.data.TreeStore.superclass.load.call(this,a))},fillNode:function(a,b){a.loaded=!0;var c=b.length,d,e=0,f,g=a.subStore;for(;e<c;e++)f=b[e].raw,b[e].data.leaf=f.leaf,d=new Ext.data.RecordNode({id:b[e].getId(),leaf:f.leaf,record:b[e],expanded:f.expanded}),a.appendChild(d),b[e].doPreload&&this.load({node:d,doPreload:!0});g&&(this.clearOnLoad&&g.removeAll(),g.add.apply(g,b))},onProxyLoad:function(a){var b=a.getRecords();this.fillNode(a.node,b),this.fireEvent("read",this,a.node,b,a.wasSuccessful());var c=a.callback;typeof c=="function"&&c.call(a.scope||this,b,a,a.wasSuccessful())},getSubStore:function(a){return a&&a.node&&(a=a.node),a.getSubStore()},removeAll:function(){var a=this.getRootNode();a.destroy()}}),Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection,{register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]);if(!c)for(var d=2,e=a[0].length;d<=e;++d)b.push("field"+d);return new Ext.data.ArrayStore({data:a,fields:b,expandData:c,autoDestroy:!0,autoCreated:!0})}return Ext.isObject(a)?a.events?a:Ext.create(a,"store"):this.get(a)},getKey:function(a){return a.storeId}}),Ext.regStore=function(a,b){var c;return Ext.isObject(a)?b=a:b.storeId=a,b instanceof Ext.data.Store?c=b:c=new Ext.data.Store(b),Ext.StoreMgr.register(c)},Ext.getStore=function(a){return Ext.StoreMgr.lookup(a)},Ext.data.WriterMgr=new Ext.AbstractManager({}),Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(a){this.nodeHash={},this.root=null,a&&this.setRootNode(a),this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert"),Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){return this.root=a,a.ownerTree=this,a.isRoot=!0,this.registerNode(a),a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}}),Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(a){this.attributes=a||{},this.leaf=!!this.attributes.leaf,this.id=this.attributes.id,this.id||(this.id=Ext.id(null,"xnode-"),this.attributes.id=this.id),this.childNodes=[],this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null,this.addEvents({append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0}),this.listeners=this.attributes.listeners,Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(a){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===!1)return!1;var b=this.getOwnerTree();return b&&b.proxyNodeEvent.apply(b,arguments)===!1?!1:!0},isLeaf:function(){return this.leaf===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return this.parentNode?this.parentNode.lastChild==this:!0},isFirst:function(){return this.parentNode?this.parentNode.firstChild==this:!0},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(a){var b=!1,c,d;Ext.isArray(a)?b=a:arguments.length>1&&(b=arguments);if(!b){if(this.fireEvent("beforeappend",this.ownerTree,this,a)===!1)return!1;var e=this.childNodes.length,f=a.parentNode;if(f){if(a.fireEvent("beforemove",a.getOwnerTree(),a,f,this,e)===!1)return!1;f.removeChild(a)}e=this.childNodes.length,e===0&&this.setFirstChild(a),this.childNodes.push(a),a.parentNode=this;var g=this.childNodes[e-1];return g?(a.previousSibling=g,g.nextSibling=a):a.previousSibling=null,a.nextSibling=null,this.setLastChild(a),a.setOwnerTree(this.getOwnerTree()),this.fireEvent("append",this.ownerTree,this,a,e),f&&a.fireEvent("move",this.ownerTree,a,f,this,e),a}d=b.length;for(c=0;c<d;c++)this.appendChild(b[c])},removeChild:function(a,b){var c=this.indexOf(a);return c==-1?!1:this.fireEvent("beforeremove",this.ownerTree,this,a)===!1?!1:(this.childNodes.splice(c,1),a.previousSibling&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling&&(a.nextSibling.previousSibling=a.previousSibling),this.firstChild==a&&this.setFirstChild(a.nextSibling),this.lastChild==a&&this.setLastChild(a.previousSibling),this.fireEvent("remove",this.ownerTree,this,a),b?a.destroy(!0):a.clear(),a)},clear:function(a){this.setOwnerTree(null,a),this.parentNode=this.previousSibling=this.nextSibling=null,a&&(this.firstChild=this.lastChild=null)},destroy:function(a){a===!0?(this.clearListeners(),this.clear(!0),Ext.each(this.childNodes,function(a){a.destroy(!0)}),this.childNodes=null):this.remove(!0)},insertBefore:function(a,b){if(!b)return this.appendChild(a);if(a==b)return!1;if(this.fireEvent("beforeinsert",this.ownerTree,this,a,b)===!1)return!1;var c=this.indexOf(b),d=a.parentNode,e=c;d==this&&this.indexOf(a)<c&&e--;if(d){if(a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c,b)===!1)return!1;d.removeChild(a)}e===0&&this.setFirstChild(a),this.childNodes.splice(e,0,a),a.parentNode=this;var f=this.childNodes[e-1];return f?(a.previousSibling=f,f.nextSibling=a):a.previousSibling=null,a.nextSibling=b,b.previousSibling=a,a.setOwnerTree(this.getOwnerTree()),this.fireEvent("insert",this.ownerTree,this,a,b),d&&a.fireEvent("move",this.ownerTree,a,d,this,e,b),a},remove:function(a){var b=this.parentNode;return b&&b.removeChild(this,a),this},removeAll:function(a){var b=this.childNodes,c;while(c=b[0])this.removeChild(c,a);return this},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b){var c=b?b.nextSibling:null;return this.removeChild(b),this.insertBefore(a,c),b},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree){var a=this;while(a){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}}return this.ownerTree},getDepth:function(){var a=0,b=this;while(b.parentNode)++a,b=b.parentNode;return a},setOwnerTree:function(a,b){a!=this.ownerTree&&(this.ownerTree&&this.ownerTree.unregisterNode(this),this.ownerTree=a,b!==!0&&Ext.each(this.childNodes,function(b){b.setOwnerTree(a)}),a&&a.registerNode(this))},setId:function(a){if(a!==this.id){var b=this.ownerTree;b&&b.unregisterNode(this),this.id=this.attributes.id=a,b&&b.registerNode(this),this.onIdChange(a)}},onIdChange:Ext.emptyFn,getPath:function(a){a=a||"id";var b=this.parentNode,c=[this.attributes[a]];while(b)c.unshift(b.attributes[a]),b=b.parentNode;var d=this.getOwnerTree().pathSeparator;return d+c.join(d)},bubble:function(a,b,c){var d=this;while(d){if(a.apply(b||d,c||[d])===!1)break;d=d.parentNode}},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==!1){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++)d[f].cascadeBy(a,b,c)}},eachChild:function(a,b,c){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++)if(a.apply(b||this,c||[d[f]])===!1)break},findChild:function(a,b,c){return this.findChildBy(function(){return this.attributes[a]==b},null,c)},findChildBy:function(a,b,c){var d=this.childNodes,e=d.length,f=0,g,h;for(;f<e;f++){g=d[f];if(a.call(b||g,g)===!0)return g;if(c){h=g.findChildBy(a,b,c);if(h!=null)return h}}return null},sort:function(a,b){var c=this.childNodes,d=c.length,e,f;if(d>0){var g=b?function(){return a.apply(b,arguments)}:a;c.sort(g);for(e=0;e<d;e++)f=c[e],f.previousSibling=c[e-1],f.nextSibling=c[e+1],e===0&&this.setFirstChild(f),e==d-1&&this.setLastChild(f)}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a)return!0;b=b.parentNode}return!1},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}}),Ext.data.RecordNode=Ext.extend(Ext.data.Node,{constructor:function(a){a=a||{},a.record&&(a.record.node=this),Ext.data.RecordNode.superclass.constructor.call(this,a)},getChildRecords:function(){var a=this.childNodes,b=a.length,c=0,d=[],e;for(;c<b;c++)e=a[c].attributes.record,e.data.leaf=a[c].leaf,d.push(e);return d},getRecord:function(){return this.attributes.record},getSubStore:function(){if(this.isLeaf())throw"Attempted to get a substore of a leaf node.";var a=this.getOwnerTree().treeStore;if(!this.subStore){this.subStore=new Ext.data.Store({model:a.model});var b=this.getChildRecords();this.subStore.add.apply(this.subStore,b)}return this.loaded||a.load({node:this}),this.subStore},destroy:function(a){this.subStore&&this.subStore.destroyStore();var b=this.attributes;return b.record&&(delete b.record.node,delete b.record),Ext.data.RecordNode.superclass.destroy.call(this,a)}}),Ext.data.Proxy=Ext.extend(Ext.util.Observable,{batchOrder:"create,update,destroy",defaultReaderType:"json",defaultWriterType:"json",constructor:function(a){a=a||{},a.model==undefined&&delete a.model,Ext.data.Proxy.superclass.constructor.call(this,a),this.model!=undefined&&!(this.model instanceof Ext.data.Model)&&this.setModel(this.model)},setModel:function(a,b){this.model=Ext.ModelMgr.getModel(a);var c=this.reader,d=this.writer;this.setReader(c),this.setWriter(d),b&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(a){if(a==undefined||typeof a=="string")a={type:a};return a instanceof Ext.data.Reader?a.setModel(this.model):(Ext.applyIf(a,{proxy:this,model:this.model,type:this.defaultReaderType}),a=Ext.data.ReaderMgr.create(a)),this.reader=a,this.reader},getReader:function(){return this.reader},setWriter:function(a){if(a==undefined||typeof a=="string")a={type:a};return a instanceof Ext.data.Writer||(Ext.applyIf(a,{model:this.model,type:this.defaultWriterType}),a=Ext.data.WriterMgr.create(a)),this.writer=a,this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c=new Ext.data.Batch({proxy:this,listeners:b||{}});return Ext.each(this.batchOrder.split(","),function(b){a[b]&&c.add(new Ext.data.Operation({action:b,records:a[b]}))},this),c.start(),c}}),Ext.data.DataProxy=Ext.data.Proxy,Ext.data.ProxyMgr.registerType("proxy",Ext.data.Proxy),Ext.data.ServerProxy=Ext.extend(Ext.data.Proxy,{pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(a){a=a||{},Ext.data.ServerProxy.superclass.constructor.call(this,a),this.extraParams=a.extraParams||{},this.nocache=this.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},buildRequest:function(a){var b=Ext.applyIf(a.params||{},this.extraParams||{});b=Ext.applyIf(b,this.getParams(b,a));var c=new Ext.data.Request({params:b,action:a.action,records:a.records,operation:a});return c.url=this.buildUrl(c),a.request=c,c},encodeSorters:function(a){var b=[],c=a.length,d;for(d=0;d<c;d++)b[d]={property:a[d].property,direction:a[d].direction};return Ext.encode(b)},encodeFilters:function(a){var b=[],c=a.length,d;for(d=0;d<c;d++)b[d]={property:a[d].property,value:a[d].value};return Ext.encode(b)},encodeGroupers:function(a){return Ext.encode(a)},getParams:function(a,b){a=a||{};var c=b.group,d=b.sorters,e=b.filters,f=b.page,g=b.start,h=b.limit,i=this.pageParam,j=this.startParam,k=this.limitParam,l=this.groupParam,m=this.sortParam,n=this.filterParam;return i&&f&&(a[i]=f),j&&g&&(a[j]=g),k&&h&&(a[k]=h),l&&c&&c.field&&(a[l]=this.encodeGroupers(c)),m&&d&&d.length>0&&(a[m]=this.encodeSorters(d)),n&&e&&e.length>0&&(a[n]=this.encodeFilters(e)),a},buildUrl:function(a){var b=a.url||this.url;if(!b)throw new Error("You are using a ServerProxy but have not supplied it with a url.");return this.noCache&&(b=Ext.urlAppend(b,Ext.util.Format.format("{0}={1}",this.cacheString,(new Date).getTime()))),b},doRequest:function(a,b,c){throw new Error("The doRequest function has not been implemented on your Ext.data.ServerProxy subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer),Ext.data.ServerProxy.superclass.destroy.apply(this,arguments)}}),Ext.data.AjaxProxy=Ext.extend(Ext.data.ServerProxy,{actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},constructor:function(){this.addEvents("exception"),Ext.data.AjaxProxy.superclass.constructor.apply(this,arguments)},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a,b,c);return a.allowWrite()&&(e=d.write(e)),Ext.apply(e,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:!1}),Ext.Ajax.request(e),e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){if(g===!0){var i=e.getReader(),j=i.read(h),k=j.records,l=k.length,m=new Ext.util.MixedCollection(!0,function(a){return a.getId()}),n,o;m.addAll(b.records);for(o=0;o<l;o++)n=m.get(k[o].getId()),n&&n.set(n.data);Ext.apply(b,{response:h,resultSet:j}),b.setCompleted(),b.setSuccessful()}else e.fireEvent("exception",this,h,b),b.setException();typeof c=="function"&&c.call(d||e,b),e.afterRequest(a,!0)}}}),Ext.data.ProxyMgr.registerType("ajax",Ext.data.AjaxProxy),Ext.data.HttpProxy=Ext.data.AjaxProxy,Ext.data.RestProxy=Ext.extend(Ext.data.AjaxProxy,{appendId:!0,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},api:{create:"create",read:"read",update:"update",destroy:"destroy"},buildUrl:function(a){var b=a.operation.records||[],c=b[0],d=this.format,e=a.url||this.url;return this.appendId&&c&&(e.match(/\/$/)||(e+="/"),e+=c.getId()),d&&(e.match(/\.$/)||(e+="."),e+=d),a.url=e,Ext.data.RestProxy.superclass.buildUrl.apply(this,arguments)}}),Ext.data.ProxyMgr.registerType("rest",Ext.data.RestProxy),Ext.apply(Ext,{getHead:function(){var a;return function(){return a==undefined&&(a=Ext.get(document.getElementsByTagName("head")[0])),a}}()}),Ext.data.ScriptTagProxy=Ext.extend(Ext.data.ServerProxy,{defaultWriterType:"base",callbackParam:"callback",scriptIdPrefix:"stcScript",callbackPrefix:"stcCallback",recordParam:"records",lastRequest:undefined,autoAppendParams:!0,constructor:function(){this.addEvents("exception"),Ext.data.ScriptTagProxy.superclass.constructor.apply(this,arguments)},doRequest:function(a,b,c){var d=Ext.util.Format.format,e=++Ext.data.ScriptTagProxy.TRANS_ID,f=d("{0}{1}",this.scriptIdPrefix,e),g=d("{0}{1}",this.callbackPrefix,e),h=this.getWriter(),i=this.buildRequest(a),j=Ext.urlAppend(i.url,d("{0}={1}",this.callbackParam,g));a.allowWrite()&&(i=h.write(i)),Ext.apply(i,{url:j,transId:e,scriptId:f,stCallback:g}),i.timeoutId=Ext.defer(this.createTimeoutHandler,this.timeout,this,[i,a]),window[g]=this.createRequestCallback(i,a,b,c);var k=document.createElement("script");return k.setAttribute("src",j),k.setAttribute("async",!0),k.setAttribute("type","text/javascript"),k.setAttribute("id",f),Ext.getHead().appendChild(k),a.setStarted(),this.lastRequest=i,i},createRequestCallback:function(a,b,c,d){var e=this;return function(f){var g=e.getReader(),h=g.read(f);Ext.apply(b,{response:f,resultSet:h}),b.setCompleted(),b.setSuccessful(),typeof c=="function"&&c.call(d||e,b),e.afterRequest(a,!0)}},afterRequest:function(){var a=function(a){return function(){window[a]=undefined;try{delete window[a]}catch(c){}}};return function(b,c){Ext.get(b.scriptId).remove(),clearTimeout(b.timeoutId);var d=b.stCallback;c?(a(d)(),this.lastRequest.completed=!0):window[d]=a(d)}}(),buildUrl:function(a){var b=Ext.data.ScriptTagProxy.superclass.buildUrl.call(this,a),c=Ext.apply({},a.params),d=c.filters,e,f;delete c.filters,this.autoAppendParams&&(b=Ext.urlAppend(b,Ext.urlEncode(c)));if(d&&d.length)for(f=0;f<d.length;f++)e=d[f],e.value&&(b=Ext.urlAppend(b,e.property+"="+e.value));var g=a.records;return Ext.isArray(g)&&g.length>0&&(b=Ext.urlAppend(b,Ext.util.Format.format("{0}={1}",this.recordParam,this.encodeRecords(g)))),b},destroy:function(){this.abort(),Ext.data.ScriptTagProxy.superclass.destroy.apply(this,arguments)},isLoading:function(){var a=this.lastRequest;return a!=undefined&&!a.completed},abort:function(){this.isLoading()&&this.afterRequest(this.lastRequest)},encodeRecords:function(a){var b="";for(var c=0,d=a.length;c<d;c++)b+=Ext.urlEncode(a[c].data);return b},createTimeoutHandler:function(a,b){this.afterRequest(a,!1),this.fireEvent("exception",this,a,b),typeof a.callback=="function"&&a.callback.call(a.scope||window,null,a.options,!1)}}),Ext.data.ScriptTagProxy.TRANS_ID=1e3,Ext.data.ProxyMgr.registerType("scripttag",Ext.data.ScriptTagProxy),Ext.data.ClientProxy=Ext.extend(Ext.data.Proxy,{clear:function(){throw new Error("The Ext.data.ClientProxy subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.data.MemoryProxy=Ext.extend(Ext.data.ClientProxy,{constructor:function(a){Ext.data.MemoryProxy.superclass.constructor.call(this,a),this.setReader(this.reader)},read:function(a,b,c){var d=this.getReader(),e=d.read(this.data);Ext.apply(a,{resultSet:e}),a.setCompleted(),typeof b=="function"&&b.call(c||this,a)},clear:Ext.emptyFn}),Ext.data.ProxyMgr.registerType("memory",Ext.data.MemoryProxy),Ext.data.WebStorageProxy=Ext.extend(Ext.data.ClientProxy,{id:undefined,constructor:function(a){Ext.data.WebStorageProxy.superclass.constructor.call(this,a),this.cache={};if(this.getStorageObject()==undefined)throw"Local Storage is not supported in this browser, please use another type of data proxy";this.id=this.id||(this.store?this.store.storeId:undefined);if(this.id==undefined)throw"No unique id was provided to the local storage proxy. See Ext.data.LocalStorageProxy documentation for details";this.initialize()},create:function(a,b,c){var d=a.records,e=d.length,f=this.getIds(),g,h,i;a.setStarted();for(i=0;i<e;i++)h=d[i],h.phantom?(h.phantom=!1,g=this.getNextId()):g=h.getId(),this.setRecord(h,g),f.push(g);this.setIds(f),a.setCompleted(),a.setSuccessful(),typeof b=="function"&&b.call(c||this,a)},read:function(a,b,c){var d=[],e=this.getIds(),f=e.length,g,h,i;if(a.id)i=this.getRecord(a.id),i&&(d.push(i),a.setSuccessful());else{for(g=0;g<f;g++)d.push(this.getRecord(e[g]));a.setSuccessful()}a.setCompleted(),a.resultSet=new Ext.data.ResultSet({records:d,total:d.length,loaded:!0}),typeof b=="function"&&b.call(c||this,a)},update:function(a,b,c){var d=a.records,e=d.length,f=this.getIds(),g,h,i;a.setStarted();for(i=0;i<e;i++)g=d[i],this.setRecord(g),h=g.getId(),h!==undefined&&f.indexOf(h)==-1&&f.push(h);this.setIds(f),a.setCompleted(),a.setSuccessful(),typeof b=="function"&&b.call(c||this,a)},destroy:function(a,b,c){var d=a.records,e=d.length,f=this.getIds(),g=[].concat(f),h;for(h=0;h<e;h++)g.remove(d[h].getId()),this.removeRecord(d[h],!1);this.setIds(g),typeof b=="function"&&b.call(c||this,a)},getRecord:function(a){if(this.cache[a]==undefined){var b=Ext.decode(this.getStorageObject().getItem(this.getRecordKey(a))),c={},d=this.model,e=d.prototype.fields.items,f=e.length,g,h,i,j;for(g=0;g<f;g++)h=e[g],i=h.name,typeof h.decode=="function"?c[i]=h.decode(b[i]):c[i]=b[i];j=new d(c,a),j.phantom=!1,this.cache[a]=j}return this.cache[a]},setRecord:function(a,b){b?a.setId(b):b=a.getId();var c=a.data,d={},e=this.model,f=e.prototype.fields.items,g=f.length,h,i,j;for(h=0;h<g;h++)i=f[h],j=i.name,typeof i.encode=="function"?d[j]=i.encode(c[j],a):d[j]=c[j];var k=this.getStorageObject(),l=this.getRecordKey(b);this.cache[b]=a,k.removeItem(l),k.setItem(l,Ext.encode(d))},removeRecord:function(a,b){a instanceof Ext.data.Model&&(a=a.getId());if(b!==!1){var c=this.getIds();c.remove(a),this.setIds(c)}this.getStorageObject().removeItem(this.getRecordKey(a))},getRecordKey:function(a){return a instanceof Ext.data.Model&&(a=a.getId()),Ext.util.Format.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.util.Format.format("{0}-counter",this.id)},getIds:function(){var a=(this.getStorageObject().getItem(this.id)||"").split(","),b=a.length,c;if(b==1&&a[0]=="")a=[];else for(c=0;c<b;c++)a[c]=parseInt(a[c],10);return a},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");b.removeItem(this.id),Ext.isEmpty(c)||b.setItem(this.id,c)},getNextId:function(){var a=this.getStorageObject(),b=this.getRecordCounterKey(),c=a[b],d,e;return c==undefined&&(d=this.getIds(),c=d[d.length-1]||0),e=parseInt(c,10)+1,a.setItem(b,e),e},initialize:function(){var a=this.getStorageObject();a.setItem(this.id,a.getItem(this.id)||"")},clear:function(){var a=this.getStorageObject(),b=this.getIds(),c=b.length,d;for(d=0;d<c;d++)this.removeRecord(b[d]);a.removeItem(this.getRecordCounterKey()),a.removeItem(this.id)},getStorageObject:function(){throw new Error("The getStorageObject function has not been defined in your Ext.data.WebStorageProxy subclass")}}),Ext.data.LocalStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.localStorage}}),Ext.data.ProxyMgr.registerType("localstorage",Ext.data.LocalStorageProxy),Ext.data.SessionStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.sessionStorage}}),Ext.data.ProxyMgr.registerType("sessionstorage",Ext.data.SessionStorageProxy),Ext.data.Reader=Ext.extend(Object,{idProperty:"id",totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0}),constructor:function(a){Ext.apply(this,a||{}),this.model=Ext.ModelMgr.getModel(a.model),this.model&&this.buildExtractors()},setModel:function(a,b){this.model=Ext.ModelMgr.getModel(a),this.buildExtractors(!0),b&&this.proxy&&this.proxy.setModel(this.model,!0)},read:function(a){var b=a;return a&&a.responseText&&(b=this.getResponseData(a)),b?this.readRecords(b):this.nullResultSet},readRecords:function(a){this.rawData=a,a=this.getData(a);var b=this.getRoot(a),c=b.length,d=!0,e,f,g;this.totalProperty&&(e=parseInt(this.getTotal(a),10),isNaN(e)||(c=e));if(this.successProperty){e=this.getSuccess(a);if(e===!1||e==="false")d=!1}return f=this.extractData(b,!0),g=f.length,new Ext.data.ResultSet({total:c||g,count:g,records:f,success:d})},extractData:function(a,b){var c=[],d=[],e=this.model,f=a.length,g=this.idProperty,h,i,j,k;for(k=0;k<f;k++)h=a[k],c=this.extractValues(h),i=this.getId(h),b===!0?(j=new e(c,i),j.raw=h,d.push(j),this.implicitIncludes&&this.readAssociated(j,h)):(c[g]=i,d.push(c));return d},readAssociated:function(a,b){var c=a.associations.items,d=c.length,e,f,g,h,i,j,k,l,m;for(m=0;m<d;m++)e=c[m],f=e.name,h=this.getAssociatedDataRoot(b,e.associationKey||f),g=e.associatedModel,h&&(j=g.proxy,j?k=j.getReader():k=new this.constructor({model:e.associatedName}),e.type=="hasMany"?(l=a[f](),l.add.apply(l,k.read(h).records),i=g.prototype.associations.findBy(function(b){return b.type=="belongsTo"&&b.associatedName==a.constructor.modelName}),i&&l.data.each(function(b){b[i.instanceName]=a})):e.type=="belongsTo"&&(a[e.instanceName]=k.read([h]).records[0]))},getAssociatedDataRoot:function(a,b){return a[b]},extractValues:function(a){var b=this.model.prototype.fields.items,c=b.length,d={},e,f,g;for(g=0;g<c;g++)e=b[g],f=this.extractorFunctions[g](a)||e.defaultValue,d[e.name]=f;return d},getData:function(a){return a},getRoot:function(a){return a},getResponseData:function(a){throw new Error("getResponseData must be implemented in the Ext.data.Reader subclass")},onMetaChange:function(a){var b=a.fields,c;Ext.apply(this,a),b?(c=Ext.regModel("JsonReader-Model"+Ext.id(),{fields:b}),this.setModel(c,!0)):this.buildExtractors(!0)},buildExtractors:function(a){a===!0&&delete this.extractorFunctions;if(this.extractorFunctions)return;var b=this.id||this.idProperty,c=this.totalProperty,d=this.successProperty,e=this.messageProperty;c&&(this.getTotal=this.createAccessor(c)),d&&(this.getSuccess=this.createAccessor(d)),e&&(this.getMessage=this.createAccessor(e));if(b){var f=this.createAccessor(b);this.getId=function(a){var b=f(a);return b==undefined||b==""?null:b}}else this.getId=function(){return null};this.buildFieldExtractors()},buildFieldExtractors:function(){var a=this.model.prototype.fields.items,b=a.length,c=0,d=[],e,f;for(;c<b;c++)e=a[c],f=e.mapping!==undefined&&e.mapping!==null?e.mapping:e.name,d.push(this.createAccessor(f));this.extractorFunctions=d}}),Ext.data.Writer=Ext.extend(Object,{constructor:function(a){Ext.apply(this,a)},write:function(a){var b=a.operation,c=b.records||[],d=c.length,e=0,f=[];for(;e<d;e++)f.push(this.getRecordData(c[e]));return this.writeRecords(a,f)},getRecordData:function(a){return a.data}}),Ext.data.WriterMgr.registerType("base",Ext.data.Writer),Ext.data.JsonWriter=Ext.extend(Ext.data.Writer,{root:"records",encode:!1,writeRecords:function(a,b){return this.encode===!0&&(b=Ext.encode(b)),a.jsonData=a.jsonData||{},a.jsonData[this.root]=b,a}}),Ext.data.WriterMgr.registerType("json",Ext.data.JsonWriter),Ext.data.JsonReader=Ext.extend(Ext.data.Reader,{root:"",readRecords:function(a){return a.metaData&&this.onMetaChange(a.metaData),this.jsonData=a,Ext.data.JsonReader.superclass.readRecords.call(this,a)},getResponseData:function(a){try{var b=Ext.decode(a.responseText)}catch(c){throw"Ext.data.JsonReader.getResponseData: Unable to parse JSON returned by Server."}if(!b)throw"Ext.data.JsonReader.getResponseData: JSON object not found";return b},buildExtractors:function(){Ext.data.JsonReader.superclass.buildExtractors.apply(this,arguments),this.root?this.getRoot=this.createAccessor(this.root):this.getRoot=function(a){return a}},extractData:function(a,b){var c=this.record,d=[],e,f;if(c){e=a.length;for(f=0;f<e;f++)d[f]=a[f][c]}else d=a;return Ext.data.JsonReader.superclass.extractData.call(this,d,b)},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;var c=String(b).search(a);return c>=0?new Function("obj","return obj"+(c>0?".":"")+b):function(a){return a[b]}}}()}),Ext.data.ReaderMgr.registerType("json",Ext.data.JsonReader),Ext.data.TreeReader=Ext.extend(Ext.data.JsonReader,{extractData:function(a,b){var c=Ext.data.TreeReader.superclass.extractData.call(this,a,b),d=c.length,e=0,f;if(b)for(;e<d;e++)f=c[e],f.doPreload=!!this.getRoot(f.raw);return c}}),Ext.data.ReaderMgr.registerType("tree",Ext.data.TreeReader),Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{buildExtractors:function(){Ext.data.ArrayReader.superclass.buildExtractors.apply(this,arguments);var a=this.model.prototype.fields.items,b=a.length,c=[],d;for(d=0;d<b;d++)c.push(function(a){return function(b){return b[a]}}(a[d].mapping||d));this.extractorFunctions=c}}),Ext.data.ReaderMgr.registerType("array",Ext.data.ArrayReader),Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{},Ext.applyIf(a,{proxy:{type:"memory",reader:"array"}}),Ext.data.ArrayStore.superclass.constructor.call(this,a)},loadData:function(a,b){if(this.expandData===!0){var c=[],d=0,e=a.length;for(;d<e;d++)c[c.length]=[a[d]];a=c}Ext.data.ArrayStore.superclass.loadData.call(this,a,b)}}),Ext.reg("arraystore",Ext.data.ArrayStore),Ext.data.SimpleStore=Ext.data.ArrayStore,Ext.reg("simplestore",Ext.data.SimpleStore),Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{},Ext.applyIf(a,{proxy:{type:"ajax",reader:"json",writer:"json"}}),Ext.data.JsonStore.superclass.constructor.call(this,a)}}),Ext.reg("jsonstore",Ext.data.JsonStore),Ext.data.JsonPStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonPStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a),proxy:new Ext.data.ScriptTagProxy(a)}))}}),Ext.reg("jsonpstore",Ext.data.JsonPStore),Ext.data.XmlWriter=Ext.extend(Ext.data.Writer,{documentRoot:"xmlData",header:"",record:"record",writeRecords:function(a,b){var c=this.buildTpl(a,b);return a.xmlData=c.apply(b),a},buildTpl:function(a,b){if(this.tpl)return this.tpl;var c=[],d=this.documentRoot,e=this.record,f,g;this.header&&c.push(this.header),c.push("<",d,">");if(b.length>0){c.push('<tpl for="."><',e,">"),f=b[0];for(g in f)f.hasOwnProperty(g)&&c.push("<",g,">{",g,"}</",g,">");c.push("</",e,"></tpl>")}return c.push("</",d,">"),this.tpl=new Ext.XTemplate(c.join("")),this.tpl}}),Ext.data.WriterMgr.registerType("xml",Ext.data.XmlWriter),Ext.data.XmlReader=Ext.extend(Ext.data.Reader,{createAccessor:function(){var a=function(a,b,c){var d=Ext.DomQuery.selectNode(a,b),e;return d&&d.firstChild&&(e=d.firstChild.nodeValue),Ext.isEmpty(e)?c:e};return function(b){var c;return b==this.totalProperty?c=function(c,d){var e=a(b,c,d);return parseFloat(e)}:b==this.successProperty?c=function(c,d){var e=a(b,c,!0);return e!==!1&&e!=="false"}:c=function(c,d){return a(b,c,d)},c}}(),getResponseData:function(a){var b=a.responseXML;if(!b)throw{message:"Ext.data.XmlReader.read: XML data not found"};return b},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;return!c||b&&b==c?a:Ext.DomQuery.selectNode(c,a)},constructor:function(a){a=a||{},Ext.applyIf(a,{idProperty:a.idPath||a.id,successProperty:a.success}),Ext.data.XmlReader.superclass.constructor.call(this,a)},extractData:function(a,b){var c=this.record;return c!=a.nodeName?a=Ext.DomQuery.select(c,a):a=[a],Ext.data.XmlReader.superclass.extractData.call(this,a,b)},getAssociatedDataRoot:function(a,b){return Ext.DomQuery.select(b,a)[0]},readRecords:function(a){return Ext.isArray(a)&&(a=a[0]),this.xmlData=a,Ext.data.XmlReader.superclass.readRecords.call(this,a)}}),Ext.data.ReaderMgr.registerType("xml",Ext.data.XmlReader),Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{},a=a||{},Ext.applyIf(a,{proxy:{type:"ajax",reader:"xml",writer:"xml"}}),Ext.data.XmlStore.superclass.constructor.call(this,a)}}),Ext.reg("xmlstore",Ext.data.XmlStore),Ext.History=new Ext.util.Observable({constructor:function(){Ext.History.superclass.constructor.call(this,config),this.addEvents("change")},init:function(){var a=this;a.setToken(window.location.hash),Ext.supports.History?window.addEventListener("hashchange",this.onChange):setInterval(function(){var b=a.cleanToken(window.location.hash),c=a.getToken();b!=c&&a.onChange()},50)},onChange:function(){var a=Ext.History,b=a.cleanToken(window.location.hash);a.token!=b&&a.fireEvent("change",b),a.setToken(b)},setToken:function(a){return this.token=this.cleanToken(a)},cleanToken:function(a){return a[0]=="#"?a.substr(1):a},getToken:function(){return this.token},add:function(a){window.location.hash=this.setToken(a),Ext.supports.History||this.onChange()}}),Ext.ControllerManager=new Ext.AbstractManager({register:function(a,b){b.id=a,Ext.applyIf(b,{application:Ext.ApplicationManager.currentApplication});var c=new Ext.Controller(b);return c.init&&c.init(),this.all.add(c),c}}),Ext.regController=function(){return Ext.ControllerManager.register.apply(Ext.ControllerManager,arguments)},Ext.Controller=Ext.extend(Ext.util.Observable,{constructor:function(a){this.addEvents("instance-created","instance-creation-failed","instance-updated","instance-update-failed","instance-destroyed","instance-destruction-failed"),Ext.Controller.superclass.constructor.call(this,a),Ext.apply(this,a||{}),typeof this.model=="string"&&(this.model=Ext.ModelMgr.getModel(this.model))},index:function(){this.render("index",{listeners:{scope:this,edit:this.edit,build:this.build,create:this.onCreateInstance,destroy:this.onDestroyInstance}})},edit:function(a){var b=this.render("edit",{listeners:this.getEditListeners()});b.loadModel(a)},build:function(){this.render("build",{listeners:this.getBuildListeners()})},create:function(a,b){b=b||{};var c=this.getModel(),d=new c(a),e=b.success,f=b.failure,g=b.scope||this;d.save({scope:this,success:function(a){typeof e=="function"&&e.call(g,a),this
.fireEvent("instance-created",a)},failure:function(a,b){typeof f=="function"&&f.call(g,a,b),this.fireEvent("instance-creation-failed",a,b)}})},update:function(a,b,c){c=c||{};var d=c.success,e=c.failure,f=c.scope||this;Ext.isObject(b)&&a.set(b),a.save({scope:this,success:function(a){typeof d=="function"&&d.call(f,a),this.fireEvent("instance-updated",a)},failure:function(a,b){typeof e=="function"&&e.call(f,a,b),this.fireEvent("instance-update-failed",a,b)}})},destroy:function(a,b){b=b||{};var c=b.success,d=b.failure,e=b.scope||this;a.destroy({scope:this,success:function(a){typeof c=="function"&&c.call(e,a),this.fireEvent("instance-destroyed",a)},failure:function(a,b){typeof d=="function"&&d.call(e,a,b),this.fireEvent("instance-destruction-failed",a,b)}})},getBuildListeners:function(){return{scope:this,save:this.onCreateInstance,cancel:this.onCancelBuild}},getEditListeners:function(){return{scope:this,save:this.onUpdateInstance,cancel:this.onCancelEdit}},onCancelEdit:function(a){return this.closeView(a)},onCancelBuild:function(a){return this.closeView(a)},onCreateInstance:function(a){this.create(a.getValues(),{scope:this,success:function(b){this.closeView(a)},failure:function(a,b){console.log("fail")}})},onUpdateInstance:function(a){this.update(a.getRecord(),a.getValues(),{scope:this,success:function(b){this.closeView(a)},failure:function(a,b){}})},onDestroyInstance:function(a,b){this.destroy(a,{scope:this,success:function(a){},failure:function(a,b){}})},setRenderTarget:function(a){Ext.Controller.renderTarget=a},render:function(a,b){var c=Ext.Controller,d=this.application,e=d?d.currentProfile:undefined,f,g;return Ext.applyIf(a,{profile:e}),g=Ext.ComponentMgr.create(a),b!==!1&&(f=e?e.getRenderTarget(a,d):b,b==undefined&&(b=f||(d?d.defaultTarget:undefined)),typeof b=="string"&&(b=Ext.getCmp(b)),b!=undefined&&b.add&&(e&&e.beforeLayout(g,b,d),b.add(g),b.layout&&b.layout.setActiveItem&&b.layout.setActiveItem(g),b.doComponentLayout(),e&&e.afterLayout(g,b,d))),g},control:function(a,b,c){if(!a||!a.isView)throw"Trying to control a view that doesnt exist";var d=c?a.refs[c]:a,e,f,g,h,i;if(!d)throw"No item called "+c+" found inside the "+a.name+" view.";for(e in b){f=b[e];if(Ext.isObject(f)&&!f.fn)this.control(a,f,e);else{if(d.refs)for(g in d.refs)h=d.refs[g],h.isObservable&&h.events[e]&&h.enableBubble(e);f.fn?(i=f,i.scope===undefined&&(i.scope=this)):(i={},i[e]=f,i.scope=this),d.addListener(i)}}return a},getModel:function(){return Ext.ModelMgr.getModel(this.model)},closeView:function(a){var b=a.ownerCt;b&&(b.remove(a),b.doLayout(),b.setActiveItem(b.items.last()))}}),Ext.util.Dispatcher=Ext.extend(Ext.util.Observable,{constructor:function(a){this.addEvents("before-dispatch","dispatch"),Ext.util.Dispatcher.superclass.constructor.call(this,a)},dispatch:function(a){var b=new Ext.Interaction(a),c=b.controller,d=b.action,e=Ext.History;this.fireEvent("before-dispatch",b)!==!1&&(e&&a.historyUrl&&(e.suspendEvents(!1),e.add(a.historyUrl),Ext.defer(e.resumeEvents,100,e)),c&&d&&(c[d].call(c,b),b.dispatched=!0),this.fireEvent("dispatch",b))},redirect:function(a){if(!(a instanceof Ext.data.Model)&&typeof a=="string"){var b=Ext.Router.recognize(a);if(b)return this.dispatch(b)}return null},createRedirect:function(a){return function(){Ext.Dispatcher.redirect(a)}}}),Ext.Dispatcher=new Ext.util.Dispatcher,Ext.dispatch=function(){return Ext.Dispatcher.dispatch.apply(Ext.Dispatcher,arguments)},Ext.redirect=function(){return Ext.Dispatcher.redirect.apply(Ext.Dispatcher,arguments)},Ext.createRedirect=Ext.Dispatcher.createRedirect,Ext.util.Router=Ext.extend(Ext.util.Observable,{constructor:function(a){a=a||{},Ext.apply(this,a,{defaults:{action:"index"}}),this.routes=[],Ext.util.Router.superclass.constructor.call(this,a)},connect:function(a,b){b=Ext.apply({url:a},b||{},this.defaults);var c=new Ext.util.Route(b);return this.routes.push(c),c},recognize:function(a){var b=this.routes,c=b.length,d,e;for(d=0;d<c;d++){e=b[d].recognize(a);if(e!=undefined)return e}return undefined},draw:function(a){a.call(this,this)}}),Ext.Router=new Ext.util.Router,Ext.util.Route=Ext.extend(Object,{constructor:function(a){Ext.apply(this,a,{conditions:{}}),this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),this.paramsInMatchString=this.url.match(this.paramMatchingRegex)||[],this.matcherRegex=this.createMatcherRegex(this.url)},recognize:function(a){if(this.recognizes(a)){var b=this.matchesFor(a);return Ext.applyIf(b,{controller:this.controller,action:this.action,historyUrl:a})}},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(a){var b={},c=this.paramsInMatchString,d=a.match(this.matcherRegex),e=c.length,f;d.shift();for(f=0;f<e;f++)b[c[f].replace(":","")]=d[f];return b},urlFor:function(a){},createMatcherRegex:function(a){var b=this.paramsInMatchString,c=b.length,d,e,f;for(d=0;d<c;d++)e=this.conditions[b[d]],f=Ext.util.Format.format("({0})",e||"[%a-zA-Z0-9\\_\\s,]+"),a=a.replace(new RegExp(b[d]),f);return new RegExp("^"+a+"$")}}),Ext.Interaction=Ext.extend(Ext.util.Observable,{controller:"",action:"",dispatched:!1,constructor:function(a){Ext.Interaction.superclass.constructor.apply(this,arguments),a=a||{},Ext.applyIf(a,{scope:this}),Ext.apply(this,a),typeof this.controller=="string"&&(this.controller=Ext.ControllerManager.get(this.controller))}}),Ext.Application=Ext.extend(Ext.util.Observable,{scope:undefined,useHistory:!0,autoUpdateComponentProfiles:!0,setProfilesOnLaunch:!0,constructor:function(a){this.addEvents("launch","beforeprofilechange","profilechange"),Ext.Application.superclass.constructor.call(this,a),this.bindReady();var b=this.name;b&&(window[b]=this,Ext.ns(b,b+".views",b+".stores",b+".models",b+".controllers")),Ext.addMetaTags&&Ext.addMetaTags(a)},bindReady:function(){Ext.onReady(this.onReady,this)},launch:Ext.emptyFn,useLoadMask:!1,loadMaskFadeDuration:1e3,loadMaskRemoveDuration:1050,autoInitViewport:!0,dispatch:function(a){return Ext.dispatch(a)},initLoadMask:function(){var a=this.useLoadMask,b="loading-mask",c=typeof a=="string"?a:b;if(a){c==b&&Ext.getBody().createChild({id:b});var d=Ext.get("loading-mask"),e=this.loadMaskFadeDuration,f=this.loadMaskRemoveDuration;Ext.defer(function(){d.addCls("fadeout"),Ext.defer(function(){d.remove()},f)},e)}},onBeforeLaunch:function(){var a=Ext.History,b=a&&this.useHistory,c=this.determineProfile(!0);if(b){this.historyForm=Ext.getBody().createChild({id:"history-form",cls:"x-hide-display",style:"display: none;",tag:"form",action:"#",children:[{tag:"div",children:[{tag:"input",id:a.fieldId,type:"hidden"},{tag:"iframe",id:a.iframeId}]}]}),a.init(),a.on("change",this.onHistoryChange,this);var d=a.getToken();this.launch.call(this.scope||this,c)!==!1&&Ext.redirect(d||this.defaultUrl||{controller:"application",action:"index"})}else this.launch.call(this.scope||this,c);this.launched=!0,this.fireEvent("launch",this),this.setProfilesOnLaunch&&this.updateComponentProfiles(c)},onReady:function(){return this.useLoadMask&&this.initLoadMask(),Ext.EventManager.onOrientationChange(this.determineProfile,this),this.autoInitViewport?Ext.Viewport.init(this.onBeforeLaunch,this):this.onBeforeLaunch(),this},determineProfile:function(a){var b=this.currentProfile,c=this.profiles,d;for(d in c)if(c[d]()===!0){d!=b&&this.fireEvent("beforeprofilechange",d,b)!==!1&&(this.autoUpdateComponentProfiles&&this.updateComponentProfiles(d),a!==!0&&this.fireEvent("profilechange",d,b)),this.currentProfile=d;break}return this.currentProfile},updateComponentProfiles:function(a){Ext.ComponentMgr.each(function(b,c){c.setProfile&&c.setProfile(a)})},getProfile:function(){return this.currentProfile},onHistoryChange:function(a){return Ext.redirect(a)}}),Ext.ApplicationManager=new Ext.AbstractManager({register:function(a,b){Ext.isObject(a)?b=a:b.name=a;var c=new Ext.Application(b);return this.all.add(c),this.currentApplication=c,c}}),Ext.regApplication=function(){return Ext.ApplicationManager.register.apply(Ext.ApplicationManager,arguments)},function(){var a=Ext.Element=Ext.extend(Object,{defaultUnit:"px",constructor:function(a,b){var c=typeof a=="string"?document.getElementById(a):a,d;return c?(d=c.id,!b&&d&&Ext.cache[d]?Ext.cache[d].el:(this.dom=c,this.id=d||Ext.id(c),this)):null},set:function(a,b){var c=this.dom,d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],d=="style"?this.applyStyles(e):d=="cls"?c.className=e:b!==!1?c.setAttribute(d,e):c[d]=e);return this},is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},addListener:function(a,b,c,d){return Ext.EventManager.on(this.dom,a,b,c||this,d),this},removeListener:function(a,b,c){return Ext.EventManager.un(this.dom,a,b,c),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this.dom),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this,!0),this},remove:function(){var a=this,b=a.dom;b&&(delete a.dom,Ext.removeNode(b))},isAncestor:function(a){var b=this.dom;return a=Ext.getDom(a),b&&a?b.contains(a):!1},isDescendent:function(a){return Ext.fly(a,"_internal").isAncestor(this)},contains:function(a){return a?this.isAncestor(a):!1},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},setHTML:function(a){return this.dom&&(this.dom.innerHTML=a),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(b,c){var d=this,e=d.dom,f=this.getVisibilityMode();switch(f){case a.VISIBILITY:this.removeCls(["x-hidden-display","x-hidden-offsets"]),this[b?"removeCls":"addCls"]("x-hidden-visibility");break;case a.DISPLAY:this.removeCls(["x-hidden-visibility","x-hidden-offsets"]),this[b?"removeCls":"addCls"]("x-hidden-display");break;case a.OFFSETS:this.removeCls(["x-hidden-visibility","x-hidden-display"]),this[b?"removeCls":"addCls"]("x-hidden-offsets")}return d},getVisibilityMode:function(){var b=this.dom,c=a.data(b,"visibilityMode");return c===undefined&&a.data(b,"visibilityMode",c=a.DISPLAY),c},setVisibilityMode:function(b){return a.data(this.dom,"visibilityMode",b),this}}),b=a.prototype;a.VISIBILITY=1,a.DISPLAY=2,a.OFFSETS=3,a.addMethods=function(a){Ext.apply(b,a)},b.on=b.addListener,b.un=b.removeListener,b.update=b.setHTML,a.get=function(c){var d,e,f;if(!c)return null;if(typeof c=="string")return(e=document.getElementById(c))?(Ext.cache[c]&&Ext.cache[c].el?(d=Ext.cache[c].el,d.dom=e):d=a.addToCache(new a(e)),d):null;if(c.tagName)return(f=c.id)||(f=Ext.id(c)),Ext.cache[f]&&Ext.cache[f].el?(d=Ext.cache[f].el,d.dom=c):d=a.addToCache(new a(c)),d;if(c instanceof a)return c!=a.docEl&&(c.dom=document.getElementById(c.id)||c.dom),c;if(c.isComposite)return c;if(Ext.isArray(c))return a.select(c);if(c==document){if(!a.docEl){var g=function(){};g.prototype=b,a.docEl=new g,a.docEl.dom=document,a.docEl.id=Ext.id(document)}return a.docEl}return null},a.addToCache=function(a,b){return b=b||a.id,Ext.cache[b]={el:a,data:{},events:{}},a},a.data=function(b,c,d){b=a.get(b);if(!b)return null;var e=Ext.cache[b.id].data;return arguments.length==2?e[c]:e[c]=d},a.garbageCollect=function(){if(!Ext.enableGarbageCollector)clearInterval(a.collectorThreadId);else{var b,c,d=Ext.cache;for(b in d){if(!d.hasOwnProperty(b))continue;if(d[b].skipGarbageCollection)continue;c=d[b].el.dom;if(!c||!c.parentNode||!c.offsetParent&&!document.getElementById(b))Ext.enableListenerCollection&&Ext.EventManager.removeAll(c),delete d[b]}}},a.Flyweight=function(a){this.dom=a};var c=function(){};c.prototype=b,a.Flyweight.prototype=new c,a.Flyweight.prototype.isFlyweight=!0,a._flyweights={},a.fly=function(b,c){var d=null;return c=c||"_global",b=Ext.getDom(b),b&&((a._flyweights[c]=a._flyweights[c]||new a.Flyweight).dom=b,d=a._flyweights[c]),d},Ext.get=a.get,Ext.fly=a.fly}(),Ext.applyIf(Ext.Element,{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){if(a===""||a=="auto"||a===null||a===undefined)a=a||"";else if(!isNaN(a)||!this.unitRe.test(a))a+=b||this.defaultUnit||"px";return a},parseBox:function(a){typeof a!="string"&&(a=a.toString());var b=a.split(" "),c=b.length;return c==1?b[1]=b[2]=b[3]=b[0]:c==2?(b[2]=b[0],b[3]=b[1]):c==3&&(b[3]=b[1]),{top:parseFloat(b[0])||0,right:parseFloat(b[1])||0,bottom:parseFloat(b[2])||0,left:parseFloat(b[3])||0}},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){return this.propertyCache[a]||(this.propertyCache[a]=a=="float"?"cssFloat":a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?window.orientation==0?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))}}),Ext.applyIf(Ext.Element,{getComputedTransformOffset:function(a){a instanceof Ext.Element&&(a=a.dom);var b=window.getComputedStyle(a).webkitTransform,c=b!="none"?new WebKitCSSMatrix(b):new WebKitCSSMatrix;return typeof c.m41!="undefined"?new Ext.util.Offset(c.m41,c.m42):typeof c.d!="undefined"?new Ext.util.Offset(c.d,c.e):new Ext.util.Offset(0,0)},cssTransform:function(a,b){a instanceof Ext.Element&&(a=a.dom);var c=new WebKitCSSMatrix;Ext.iterate(b,function(a,b){b=Ext.isArray(b)?b:[b],c=c[a].apply(c,b)}),Ext.supports.CSS3DTransform?a.style.webkitTransform="matrix3d("+c.m11+", "+c.m12+", "+c.m13+", "+c.m14+", "+c.m21+", "+c.m22+", "+c.m23+", "+c.m24+", "+c.m31+", "+c.m32+", "+c.m33+", "+c.m34+", "+c.m41+", "+c.m42+", "+c.m43+", "+c.m44+")":a.style.webkitTransform=c},cssTranslate:function(a,b){a instanceof Ext.Element&&(a=a.dom),Ext.supports.CSS3DTransform?a.style.webkitTransform="translate3d("+b.x+"px, "+b.y+"px, 0px)":a.style.webkitTransform="translate("+b.x+"px, "+b.y+"px)"}}),Ext.Element.addMethods({getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(){var a=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[a.x,a.y]},getOffsetsTo:function(a){var b=this.getXY(),c=Ext.fly(a,"_internal").getXY();return[b[0]-c[0],b[1]-c[1]]},setXY:function(a){var b=this;arguments.length>1&&(a=[a,arguments[1]]);var c=b.translatePoints(a),d=b.dom.style;for(a in c){if(!c.hasOwnProperty(a))continue;isNaN(c[a])||(d[a]=c[a]+"px")}return b},setX:function(a){return this.setXY([a,this.getY()])},setY:function(a){return this.setXY([this.getX(),a])},setLeft:function(a){return this.setStyle("left",Ext.Element.addUnits(a)),this},setTop:function(a){return this.setStyle("top",Ext.Element.addUnits(a)),this},setTopLeft:function(a,b){var c=Ext.Element.addUnits;return this.setStyle("top",c(a)),this.setStyle("left",c(b)),this},setRight:function(a){return this.setStyle("right",Ext.Element.addUnits(a)),this},setBottom:function(a){return this.setStyle("bottom",Ext.Element.addUnits(a)),this},getLeft:function(a){return parseInt(this.getStyle("left"),10)||0},getRight:function(a){return parseInt(this.getStyle("right"),10)||0},getTop:function(a){return parseInt(this.getStyle("top"),10)||0},getBottom:function(a){return parseInt(this.getStyle("bottom"),10)||0},setBox:function(a,b,c,d){var e;return Ext.isObject(a)&&(c=a.width,d=a.height,b=a.top,a=a.left),a!==e&&this.setLeft(a),b!==e&&this.setTop(b),c!==e&&this.setWidth(c),d!==e&&this.setHeight(d),this},getBox:function(a,b){var c=this,d=c.dom,e=d.offsetWidth,f=d.offsetHeight,g,h,i,j,k,l;return b?a?g=[0,0]:g=[parseInt(c.getStyle("left"),10)||0,parseInt(c.getStyle("top"),10)||0]:g=c.getXY(),a?(i=c.getBorderWidth.call(c,"l")+c.getPadding.call(c,"l"),j=c.getBorderWidth.call(c,"r")+c.getPadding.call(c,"r"),k=c.getBorderWidth.call(c,"t")+c.getPadding.call(c,"t"),l=c.getBorderWidth.call(c,"b")+c.getPadding.call(c,"b"),h={x:g[0]+i,y:g[1]+k,0:g[0]+i,1:g[1]+k,width:e-(i+j),height:f-(k+l)}):h={x:g[0],y:g[1],0:g[0],1:g[1],width:e,height:f},h.left=h.x,h.top=h.y,h.right=h.x+h.width,h.bottom=h.y+h.height,h},getPageBox:function(a){var b=this,c=b.dom,d=c.offsetWidth,e=c.offsetHeight,f=b.getXY(),g=f[1],h=f[0]+d,i=f[1]+e,j=f[0];return c?a?new Ext.util.Region(g,h,i,j):{left:j,top:g,width:d,height:e,right:h,bottom:i}:new Ext.util.Region},translatePoints:function(a,b){b=isNaN(a[1])?b:a[1],a=isNaN(a[0])?a:a[0];var c=this,d=c.isStyle("position","relative"),e=c.getXY(),f=parseInt(c.getStyle("left"),10),g=parseInt(c.getStyle("top"),10);return f=isNaN(f)?d?0:c.dom.offsetLeft:f,g=isNaN(g)?d?0:c.dom.offsetTop:g,{left:a-e[0]+f,top:b-e[1]+g}}}),function(){Ext.Element.classReCache={};var a=Ext.Element,b=document.defaultView;a.addMethods({marginRightRe:/marginRight/i,trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,addCls:function(a){var b=this,c,d,e,f=[];if(!Ext.isArray(a))a&&!this.hasCls(a)&&(b.dom.className+=" "+a);else{for(c=0,d=a.length;c<d;c++)e=a[c],e&&!b.hasCls(e)&&f.push(e);f.length&&(b.dom.className+=" "+f.join(" "))}return b},addClass:function(){throw new Error("Component: addClass has been deprecated. Please use addCls.")},removeCls:function(a){var b=this,c,d,e,f,g;Ext.isArray(a)||(a=[a]);if(b.dom&&b.dom.className){g=b.dom.className.replace(this.trimRe,"").split(this.spacesRe);for(c=0,e=a.length;c<e;c++)f=a[c],typeof f=="string"&&(f=f.replace(this.trimRe,""),d=g.indexOf(f),d!=-1&&g.splice(d,1));b.dom.className=g.join(" ")}return b},removeClass:function(){throw new Error("Component: removeClass has been deprecated. Please use removeCls.")},mask:function(a,b,c){var d=this,e=d.dom,f=Ext.Element.data(e,"mask"),g,h,i="";d.addCls("x-masked"),d.getStyle("position")=="static"&&d.addCls("x-masked-relative"),f&&f.remove(),Ext.isString(b)&&!Ext.isEmpty(b)?i=" "+b:b&&(i=" x-mask-gray"),g=d.createChild({cls:"x-mask"+(c!==!1?"":" x-mask-gray"),html:a?'<div class="'+(b||"x-mask-message")+'">'+a+"</div>":""}),h=d.getSize(),Ext.Element.data(e,"mask",g),e===document.body&&(h.height=window.innerHeight,d.orientationHandler&&Ext.EventManager.unOrientationChange(d.orientationHandler,d),d.orientationHandler=function(){h=d.getSize(),h.height=window.innerHeight,g.setSize(h)},Ext.EventManager.onOrientationChange(d.orientationHandler,d)),g.setSize(h),Ext.is.iPad&&Ext.repaint()},unmask:function(){var a=this,b=a.dom,c=Ext.Element.data(b,"mask");c&&(c.remove(),Ext.Element.data(b,"mask",undefined)),a.removeCls(["x-masked","x-masked-relative"]),b===document.body&&(Ext.EventManager.unOrientationChange(a.orientationHandler,a),delete a.orientationHandler)},radioCls:function(a){var b=this.dom.parentNode.childNodes,c;a=Ext.isArray(a)?a:[a];for(var d=0,e=b.length;d<e;d++)c=b[d],c&&c.nodeType==1&&Ext.fly(c,"_internal").removeCls(a);return this.addCls(a)},radioClass:function(){throw new Error("Component: radioClass has been deprecated. Please use radioCls.")},toggleCls:function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)},toggleClass:function(){throw new Error("Component: toggleClass has been deprecated. Please use toggleCls.")},hasCls:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},hasClass:function(){throw new Error("Element: hasClass has been deprecated. Please use hasCls.")},replaceCls:function(a,b){return this.removeCls(a).addCls(b)},replaceClass:function(){throw new Error("Component: replaceClass has been deprecated. Please use replaceCls.")},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(c){var d=this.dom,e,f,g,h=Ext.is,i=d.style;return c=a.normalize(c),g=b?b.getComputedStyle(d,""):d.currentStyle,e=g?g[c]:null,e&&!h.correctRightMargin&&this.marginRightRe.test(c)&&i.position!="absolute"&&e!="0px"&&(f=i.display,i.display="inline-block",e=b.getComputedStyle(d,null)[c],i.display=f),e||(e=i[c]),!h.correctTransparentColor&&e=="rgba(0, 0, 0, 0)"&&(e="transparent"),e},setStyle:function(b,c){var d,e;typeof b=="string"&&(d={},d[b]=c,b=d);for(e in b)b.hasOwnProperty(e)&&(this.dom.style[a.normalize(e)]=b[e]);return this},applyStyles:function(b){if(b){var c,d,e=this.dom;typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(c=0,d=b.length;c<d;)e.style[a.normalize(b[c++])]=b[c++]}else typeof b=="object"&&this.setStyle(b)}},getHeight:function(a){var b=this.dom,c=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return c>0?c:0},getWidth:function(a){var b=this.dom,c=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return c>0?c:0},setWidth:function(b){var c=this;return c.dom.style.width=a.addUnits(b),c},setHeight:function(b){var c=this;return c.dom.style.height=a.addUnits(b),c},setSize:function(b,c){var d=this,e=d.dom.style;return Ext.isObject(b)&&(c=b.height,b=b.width),e.width=a.addUnits(b),e.height=a.addUnits(c),d},getBorderWidth:function(b){return this.sumStyles(b,a.borders)},getPadding:function(b){return this.sumStyles(b,a.paddings)},getMargin:function(b){return this.sumStyles(b,a.margins)},getViewSize:function(){var b=document,c=this.dom;return c==b||c==b.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;return this.addCls("x-repaint"),a.style.background="transparent none",setTimeout(function(){a.style.background=null,Ext.get(a).removeCls("x-repaint")},1),this},getOuterWidth:function(){return this.getWidth()+this.getMargin("lr")},getOuterHeight:function(){return this.getHeight()+this.getMargin("tb")},sumStyles:function(a,b){var c=0,d=a.match(/\w/g),e=d.length,f,g;for(g=0;g<e;g++)f=d[g]&&parseFloat(this.getStyle(b[d[g]]))||0,f&&(c+=Math.abs(f));return c}})}(),Ext.Element.addMethods({findParent:function(a,b,c){var d=this.dom,e=document.body,f=0,g;b=b||50,isNaN(b)&&(g=Ext.getDom(b),b=Number.MAX_VALUE);while(d&&d.nodeType==1&&f<b&&d!=e&&d!=g){if(Ext.DomQuery.is(d,a))return c?Ext.get(d):d;f++,d=d.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b){return this.findParentNode(a,b,!0)},select:function(a,b){return Ext.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c,d=this,e;return e=Ext.get(d).id,e=e.replace(/[\.:]/g,"\\$0"),c=Ext.DomQuery.selectNode("#"+e+" > "+a,d.dom),b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom)return null;var e=this.dom[b];while(e){if(e.nodeType==1&&(!c||Ext.DomQuery.is(e,c)))return d?e:Ext.get(e);e=e[a]}return null}}),Ext.Element.addMethods({getScrollParent:function(){var a=this.dom,b;while(a&&a!=document.body){if(a.id&&(b=Ext.ScrollManager.get(a.id)))return b;a=a.parentNode}return null}}),Ext.Element.addMethods({appendChild:function(a){return Ext.get(a).appendTo(this)},appendTo:function(a){return Ext.getDom(a).appendChild(this.dom),this},insertBefore:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a),this},insertAfter:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a.nextSibling),this},insertFirst:function(a,b){return a=a||{},a.nodeType||a.dom||typeof a=="string"?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),b?a:Ext.get(a)):this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){var d=this,e,f=(b||"before").toLowerCase()=="after",g;return Ext.isArray(a)?(g=d,Ext.each(a,function(a){e=Ext.fly(g,"_internal").insertSibling(a,b,c),f&&(g=e)}),e):(a=a||{},a.nodeType||a.dom?(e=d.dom.parentNode.insertBefore(Ext.getDom(a),f?d.dom.nextSibling:d.dom),c||(e=Ext.get(e))):f&&!d.dom.nextSibling?e=Ext.DomHelper.append(d.dom.parentNode,a,!c):e=Ext.DomHelper[f?"insertAfter":"insertBefore"](d.dom,a,!c),e)},replace:function(a){return a=Ext.get(a),this.insertBefore(a),a.remove(),this},replaceWith:function(a){var b=this;return a.nodeType||a.dom||typeof a=="string"?(a=Ext.get(a),b.dom.parentNode.insertBefore(a,b.dom)):a=Ext.DomHelper.insertBefore(b.dom,a),delete Ext.cache[b.id],Ext.removeNode(b.dom),b.id=Ext.id(b.dom=a),Ext.Element.addToCache(b.isFlyweight?new Ext.Element(b.dom):b),b},createChild:function(a,b,c){return a=a||{tag:"div"},b?Ext.DomHelper.insertBefore(b,a,c!==!0):Ext.DomHelper[this.dom.firstChild?"append":"overwrite"](this.dom,a,c!==!0)},wrap:function(a,b){var c=Ext.DomHelper.insertBefore(this.dom,a||{tag:"div"},!b);return c.dom?c.dom.appendChild(this.dom):c.appendChild(this.dom),c},insertHtml:function(a,b,c){var d=Ext.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(d):d}}),Ext.Element.addMethods({getAnchorXY:function(a,b,c){a=(a||"tl").toLowerCase(),c=c||{};var d=this,e=d.dom==document.body||d.dom==document,f=c.width||e?window.innerWidth:d.getWidth(),g=c.height||e?window.innerHeight:d.getHeight(),h,i=Math.round,j=d.getXY(),k=e?0:b?0:j[0],l=e?0:b?0:j[1],m={c:[i(f*.5),i(g*.5)],t:[i(f*.5),0],l:[0,i(g*.5)],r:[f,i(g*.5)],b:[i(f*.5),g],tl:[0,0],bl:[0,g],br:[f,g],tr:[f,0]};return h=m[a],[h[0]+k,h[1]+l]},getAlignToXY:function(a,b,c){a=Ext.get(a);if(!a||!a.dom)throw new Error("Element.alignToXY with an element that doesn't exist");c=c||[0,0],!b||b=="?"?b="tl-bl?":!/-/.test(b)&&b!==""&&(b="tl-"+b),b=b.toLowerCase();var d=this,e=b.match(/^([a-z]+)-([a-z]+)(\?)?$/),f=window.innerWidth,g=window.innerHeight,h="",i="",j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(!e)throw"Element.alignTo with an invalid alignment "+b;return h=e[1],i=e[2],w=!!e[3],j=d.getAnchorXY(h,!0),k=a.getAnchorXY(i,!1),l=k[0]-j[0]+c[0],m=k[1]-j[1]+c[1],w&&(t=d.getWidth(),u=d.getHeight(),v=a.getPageBox(),q=h.charAt(0),p=h.charAt(h.length-1),s=i.charAt(0),r=i.charAt(i.length-1),o=q=="t"&&s=="b"||q=="b"&&s=="t",n=p=="r"&&r=="l"||p=="l"&&r=="r",l+t>f&&(l=n?v.left-t:f-t),l<0&&(l=n?v.right:0),m+u>g&&(m=o?v.top-u:g-u),m<0&&(m=o?v.bottom:0)),[l,m]}}),Ext.CompositeElement=function(a,b){this.elements=[],this.add(a,b),this.el=new Ext.Element.Flyweight},Ext.CompositeElement.prototype={isComposite:!0,getElement:function(a){var b=this.el;return b.dom=a,b.id=a.id,b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c=this,d=c.elements;if(!a)return this;typeof a=="string"?a=Ext.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);for(var e=0,f=a.length;e<f;++e)d.push(c.transformElement(a[e]));return c},invoke:function(a,b){var c=this,d=c.elements,e=d.length,f,g;for(g=0;g<e;g++)f=d[g],f&&Ext.Element.prototype[a].apply(c.getElement(f),b);return c},item:function(a){var b=this,c=b.elements[a],d=null;return c&&(d=b.getElement(c)),d},addListener:function(a,b,c,d){var e=this.elements,f=e.length,g,h;for(g=0;g<f;g++)h=e[g],h&&Ext.EventManager.on(h,a,b,c||h,d);return this},each:function(a,b){var c=this,d=c.elements,e=d.length,f,g;for(f=0;f<e;f++){g=d[f];if(g){g=this.getElement(g);if(a.call(b||g,g,c,f))break}}return c},fill:function(a){var b=this;return b.elements=[],b.add(a),b},filter:function(a){var b=[],c=this,d=c.elements,e=Ext.isFunction(a)?a:function(b){return b.is(a)};return c.each(function(a,d,f){e(a,f)!==!1&&(b[b.length]=c.transformElement(a))}),c.elements=b,c},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},clear:function(){this.elements=[]}},Ext.CompositeElement.prototype.on=Ext.CompositeElement.prototype.addListener,function(){var a,b=Ext.Element.prototype,c=Ext.CompositeElement.prototype;for(a in b)Ext.isFunction(b[a])&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}(),Ext.DomQuery&&(Ext.Element.selectorFunction=Ext.DomQuery.select),Ext.Element.select=function(a,b,c){var d;c=c===!1?!1:!0;if(typeof a=="string")d=Ext.Element.selectorFunction(a,b);else if(a.length!==undefined)d=a;else throw new Error("Invalid selector");return c?new Ext.CompositeElement(d):d},Ext.select=Ext.Element.select,Ext.CompositeElementLite=Ext.CompositeElement,Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(a,b){if(!a)return this;typeof a=="string"&&(a=Ext.Element.selectorFunction(a,b));var c=this.elements;return Ext.each(a,function(a){c.push(Ext.get(a))}),this},removeElement:function(a,b){var c=this,d=this.elements,e;return Ext.each(a,function(a){if(e=d[a]||d[a=c.indexOf(a)])b&&(e.dom?e.remove():Ext.removeNode(e)),d.splice(a,1)}),this},replaceElement:function(a,b,c){var d=isNaN(a)?this.indexOf(a):a,e;return d>-1&&(b=Ext.getDom(b),c&&(e=this.elements[d],e.parentNode.insertBefore(b,e),Ext.removeNode(e)),this.elements.splice(d,1,b)),this}}),Ext.DomHelper={emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html$/i,endRe:/end/i,markup:function(a){var b="",c,d,e,f,g;if(typeof a=="string")b=a;else if(Ext.isArray(a))for(var h=0;h<a.length;h++)a[h]&&(b+=this.markup(a[h]));else{b+="<"+(a.tag=a.tag||"div");for(c in a){if(!a.hasOwnProperty(c))continue;d=a[c];if(!this.confRe.test(c))if(typeof d=="object"){b+=" "+c+'="';for(e in d){if(!d.hasOwnProperty(e))continue;b+=e+":"+d[e]+";"}b+='"'}else b+=" "+({cls:"class",htmlFor:"for"}[c]||c)+'="'+d+'"'}this.emptyTags.test(a.tag)?b+="/>":(b+=">",(g=a.children||a.cn)?b+=this.markup(g):a.html&&(b+=a.html),b+="</"+a.tag+">")}return b},applyStyles:function(a,b){if(b){var c=0,d,e;a=Ext.fly(a),typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(d=b.length;c<d;)a.setStyle(b[c++],b[c++])}else Ext.isObject(b)&&a.setStyle(b)}},insertHtml:function(a,b,c){var d={},e,f,g,h,i,j;return a=a.toLowerCase(),d.beforebegin=["BeforeBegin","previousSibling"],d.afterend=["AfterEnd","nextSibling"],g=b.ownerDocument.createRange(),f="setStart"+(this.endRe.test(a)?"After":"Before"),d[a]?(g[f](b),h=g.createContextualFragment(c),b.parentNode.insertBefore(h,a=="beforebegin"?b:b.nextSibling),b[(a=="beforebegin"?"previous":"next")+"Sibling"]):(i=(a=="afterbegin"?"first":"last")+"Child",b.firstChild?(g[f](b[i]),h=g.createContextualFragment(c),a=="afterbegin"?b.insertBefore(h,b.firstChild):b.appendChild(h)):b.innerHTML=c,b[i])},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",!0)},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.markup(b),c?Ext.get(a.firstChild):a.firstChild},doInsert:function(a,b,c,d,e,f){var g=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(g,!0):g}},Ext.DomQuery={select:function(a,b){var c=[],d,e,f,g,h;b=b||document,typeof b=="string"&&(b=document.getElementById(b)),a=a.split(",");for(e=0,g=a.length;e<g;e++)if(typeof a[e]=="string"){d=b.querySelectorAll(a[e]);for(f=0,h=d.length;f<h;f++)c.push(d[f])}return c},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},is:function(a,b){return typeof a=="string"&&(a=document.getElementById(a)),Ext.DomQuery.select(b).indexOf(a)!==-1}},Ext.Element.selectorFunction=Ext.DomQuery.select,Ext.query=Ext.DomQuery.select,Ext.Anim=Ext.extend(Object,{isAnim:!0,disableAnimations:!1,defaultConfig:{from:{},to:{},duration:250,delay:0,easing:"ease-in-out",autoClear:!0,out:!0,direction:null,reverse:!1},opposites:{left:"right",right:"left",up:"down",down:"up"},constructor:function(a){a=Ext
.apply({},a||{},this.defaultConfig),this.config=a,Ext.Anim.superclass.constructor.call(this),this.running={}},initConfig:function(a,b){var c=this,d={},e=Ext.apply({},b||{},c.config);return e.el=a=Ext.get(a),e.reverse&&c.opposites[e.direction]&&(e.direction=c.opposites[e.direction]),c.config.before&&c.config.before.call(e,a,e),b.before&&b.before.call(e.scope||e,a,e),e},run:function(a,b){a=Ext.get(a),b=b||{};var c=this,d=a.dom.style,e,f=b.after;c.running[a.id]&&c.onTransitionEnd(null,a,{config:b,after:f}),b=this.initConfig(a,b);if(this.disableAnimations){for(e in b.to){if(!b.to.hasOwnProperty(e))continue;d[e]=b.to[e]}return this.onTransitionEnd(null,a,{config:b,after:f}),c}a.un("webkitTransitionEnd",c.onTransitionEnd,c),d.webkitTransitionDuration="0ms";for(e in b.from){if(!b.from.hasOwnProperty(e))continue;d[e]=b.from[e]}return setTimeout(function(){if(!a.dom)return;b.is3d===!0&&a.parent().setStyle({"-webkit-perspective":"1200","-webkit-transform-style":"preserve-3d"}),d.webkitTransitionDuration=b.duration+"ms",d.webkitTransitionProperty="all",d.webkitTransitionTimingFunction=b.easing,a.on("webkitTransitionEnd",c.onTransitionEnd,c,{config:b,after:f});for(e in b.to){if(!b.to.hasOwnProperty(e))continue;d[e]=b.to[e]}},b.delay||5),c.running[a.id]=b,c},onTransitionEnd:function(a,b,c){b=Ext.get(b);if(this.running[b.id]===undefined)return;var d=b.dom.style,e=c.config,f,g=this;b.un("webkitTransitionEnd",g.onTransitionEnd,g);if(e.autoClear)for(f in e.to){if(!e.to.hasOwnProperty(f))continue;d[f]=""}d.webkitTransitionDuration=null,d.webkitTransitionProperty=null,d.webkitTransitionTimingFunction=null,e.is3d&&b.parent().setStyle({"-webkit-perspective":"","-webkit-transform-style":""}),g.config.after&&g.config.after.call(e,b,e),c.after&&c.after.call(e.scope||g,b,e),delete g.running[b.id]}}),Ext.Anim.seed=1e3,Ext.Anim.run=function(a,b,c){a.isComponent&&(a=a.el),c=c||{};if(b.isAnim)b.run(a,c);else{Ext.isObject(b)&&(c.before&&b.before&&(c.before=Ext.createInterceptor(c.before,b.before,b.scope)),c.after&&b.after&&(c.after=Ext.createInterceptor(c.after,b.after,b.scope)),c=Ext.apply({},c,b),b=b.type);if(!Ext.anims[b])throw b+" is not a valid animation type.";a&&a.dom&&Ext.anims[b].run(a,c)}},Ext.anims={fade:new Ext.Anim({before:function(a){var b=1,c=1,d=a.getStyle("z-index")=="auto"?0:a.getStyle("z-index"),e=d;this.out?c=0:(e=d+1,b=0),this.from={opacity:b,"z-index":e},this.to={opacity:c,"z-index":e}}}),slide:new Ext.Anim({direction:"left",cover:!1,reveal:!1,before:function(a){var b=a.getStyle("z-index")=="auto"?0:a.getStyle("z-index"),c=b+1,d=0,e=0,f=0,g=0,h=a.getHeight(),i=a.getWidth();if(this.direction=="left"||this.direction=="right")this.out==1?d=-i:f=i;else if(this.direction=="up"||this.direction=="down")this.out==1?e=-h:g=h;if(this.direction=="right"||this.direction=="down")e*=-1,d*=-1,g*=-1,f*=-1;this.cover&&this.out?(d=0,e=0,c=b):this.reveal&&!this.out&&(f=0,g=0,c=b),this.from={"-webkit-transform":"translate3d("+f+"px, "+g+"px, 0)","z-index":c,opacity:.99},this.to={"-webkit-transform":"translate3d("+d+"px, "+e+"px, 0)","z-index":c,opacity:1}}}),pop:new Ext.Anim({scaleOnExit:!0,before:function(a){var b=1,c=1,d=1,e=1,f=a.getStyle("z-index")=="auto"?0:a.getStyle("z-index"),g=f,h=f;this.out?this.scaleOnExit?(c=.01,e=0):e=.8:(b=.01,g=f+1,h=f+1,d=0),this.from={"-webkit-transform":"scale("+b+")","-webkit-transform-origin":"50% 50%",opacity:d,"z-index":g},this.to={"-webkit-transform":"scale("+c+")","-webkit-transform-origin":"50% 50%",opacity:e,"z-index":h}}})},Ext.apply(Ext.anims,{flip:new Ext.Anim({is3d:!0,direction:"left",before:function(a){var b="Y",c=1,d=1,e=0,f=0;this.out?(f=-180,d=.8):(e=180,c=.8);if(this.direction=="up"||this.direction=="down")b="X";if(this.direction=="right"||this.direction=="left")f*=-1,e*=-1;this.from={"-webkit-transform":"rotate"+b+"("+e+"deg) scale("+c+")","-webkit-backface-visibility":"hidden"},this.to={"-webkit-transform":"rotate"+b+"("+f+"deg) scale("+d+")","-webkit-backface-visibility":"hidden"}}}),cube:new Ext.Anim({is3d:!0,direction:"left",style:"outer",before:function(a){var b="0% 0%",c=0,d=0,e="Y",f=0,g=0,h=1,i=1,j,k=a.getWidth(),l=a.getHeight(),m=!0,n=" translateX(0)",o="";if(this.direction=="left"||this.direction=="right")this.out?(b="100% 100%",g=k,i=.5,d=-90):(b="0% 0%",f=k,h=.5,c=90);else if(this.direction=="up"||this.direction=="down")e="X",this.out?(b="100% 100%",g=l,d=90):(b="0% 0%",f=l,c=-90);if(this.direction=="down"||this.direction=="right")c*=-1,d*=-1,b=b=="0% 0%"?"100% 100%":"0% 0%";this.style=="inner"&&(f*=-1,g*=-1,c*=-1,d*=-1,this.out?(o=n,b="100% 50%"):(o=" translateX(0px)",b="0% 50%")),this.from={"-webkit-transform":"rotate"+e+"("+c+"deg)"+(m?" translateZ("+f+"px)":"")+n,"-webkit-transform-origin":b},this.to={"-webkit-transform":"rotate"+e+"("+d+"deg) translateZ("+g+"px)"+o,"-webkit-transform-origin":b}},duration:250}),wipe:new Ext.Anim({before:function(a){var b=a.getStyle("z-index"),c="",d="100%",e="100%";this.out||(zIndex=b+1,c="-webkit-gradient(linear, left bottom, right bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",d=a.getHeight()*100+"px",e=a.getHeight(),this.from={"-webkit-mask-image":c,"-webkit-mask-size":a.getWidth()*3+"px "+a.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":0},this.to={"-webkit-mask-image":c,"-webkit-mask-size":a.getWidth()*3+"px "+a.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":-a.getWidth()*2+"px"})},duration:500})}),Ext.apply(Ext,{version:"1.1.1",versionDetail:{major:1,minor:1,patch:1},setup:function(a){if(a&&typeof a=="object"){a.addMetaTags!==!1&&this.addMetaTags(a);if(Ext.isFunction(a.onReady)){var b=this;Ext.onReady(function(){var c=arguments;a.fullscreen!==!1?Ext.Viewport.init(function(){a.onReady.apply(b,c)}):a.onReady.apply(this,c)},a.scope)}}},getDom:function(a){return!a||!document?null:a.dom?a.dom:typeof a=="string"?document.getElementById(a):a},removeNode:function(a){a&&a.parentNode&&a.tagName!="BODY"&&(Ext.EventManager.removeAll(a),a.parentNode.removeChild(a),delete Ext.cache[a.id])},addMetaTags:function(a){if(!Ext.isObject(a))return;var b=Ext.get(document.getElementsByTagName("head")[0]),c,d;Ext.is.Desktop||(c=Ext.get(document.createElement("meta")),c.set({name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0;"}),b.appendChild(c)),Ext.is.iOS&&(a.fullscreen!==!1&&(c=Ext.get(document.createElement("meta")),c.set({name:"apple-mobile-web-app-capable",content:"yes"}),b.appendChild(c),Ext.isString(a.statusBarStyle)&&(c=Ext.get(document.createElement("meta")),c.set({name:"apple-mobile-web-app-status-bar-style",content:a.statusBarStyle}),b.appendChild(c))),a.tabletStartupScreen&&Ext.is.iPad&&(c=Ext.get(document.createElement("link")),c.set({rel:"apple-touch-startup-image",href:a.tabletStartupScreen}),b.appendChild(c)),a.phoneStartupScreen&&!Ext.is.iPad&&(c=Ext.get(document.createElement("link")),c.set({rel:"apple-touch-startup-image",href:a.phoneStartupScreen}),b.appendChild(c)),a.icon&&(a.phoneIcon=a.tabletIcon=a.icon),d=a.glossOnIcon===!1?"-precomposed":"",Ext.is.iPad&&Ext.isString(a.tabletIcon)?(c=Ext.get(document.createElement("link")),c.set({rel:"apple-touch-icon"+d,href:a.tabletIcon}),b.appendChild(c)):!Ext.is.iPad&&Ext.isString(a.phoneIcon)&&(c=Ext.get(document.createElement("link")),c.set({rel:"apple-touch-icon"+d,href:a.phoneIcon}),b.appendChild(c)))}}),function(){var a=function(){var a=Ext.getBody(),b=[];if(!a)return!1;var c=Ext.is;return c.Phone?b.push("x-phone"):c.Tablet?b.push("x-tablet"):c.Desktop&&b.push("x-desktop"),c.iPad&&b.push("x-ipad"),c.iOS&&b.push("x-ios"),c.Android&&b.push("x-android","x-android-"+c.AndroidMajorVersion),c.Blackberry&&b.push("x-bb"),c.Standalone&&b.push("x-standalone"),b.length&&a.addCls(b),!0};a()||Ext.onReady(a)}(),Ext.Viewport=new(Ext.extend(Ext.util.Observable,{constructor:function(){var a=this;this.addEvents("orientationchange","resize"),this.stretchSizes={},Ext.supports.OrientationChange?window.addEventListener("orientationchange",Ext.createDelegate(a.onOrientationChange,a),!1):window.addEventListener("resize",Ext.createDelegate(a.onResize,a),!1),Ext.desktop||document.addEventListener("touchstart",Ext.createDelegate(a.onTouchStartCapturing,a),!0)},init:function(a,b){var c=this,d=Math.max(window.innerHeight,window.innerWidth)*2,e=Ext.getBody();c.updateOrientation(),this.initialHeight=window.innerHeight,this.initialOrientation=this.orientation,e.setHeight(d),Ext.gesture.Manager.freeze(),this.scrollToTop(),setTimeout(function(){c.scrollToTop(),setTimeout(function(){c.scrollToTop(),c.initialHeight=Math.max(c.initialHeight,window.innerHeight),a&&a.apply(b||window),c.updateBodySize(),Ext.gesture.Manager.thaw()},500)},500)},scrollToTop:function(){Ext.is.iOS?Ext.is.Phone&&(document.body.scrollTop=document.body.scrollHeight):Ext.is.Blackberry?window.scrollTo(0,1e3):window.scrollTo(0,1)},updateBodySize:function(){Ext.getBody().setSize(window.innerWidth,window.innerHeight)},updateOrientation:function(){this.lastSize=this.getSize(),this.orientation=this.getOrientation()},onTouchStartCapturing:function(a){!Ext.currentlyFocusedField&&Ext.is.iOS&&this.scrollToTop()},onOrientationChange:function(){var a=this,b=Ext.getBody();if(!Ext.is.Phone){b.setHeight(b.getWidth()),this.updateOrientation(),this.fireEvent("orientationchange",this,this.orientation),a.scrollToTop(),a.updateBodySize(),a.fireResizeEvent(),Ext.repaint();return}Ext.gesture.Manager.freeze(),b.setHeight(b.getWidth()),this.updateOrientation(),this.fireEvent("orientationchange",this,this.orientation),setTimeout(function(){a.scrollToTop(),setTimeout(function(){a.updateBodySize(),a.fireResizeEvent(),Ext.gesture.Manager.thaw(),Ext.repaint()},200)},200)},fireResizeEvent:function(){var a=this;Ext.is.iOS?a.fireEvent("resize",a,a.getSize()):(this.resizeEventTimer&&clearTimeout(this.resizeEventTimer),this.resizeEventTimer=setTimeout(function(){a.fireEvent("resize",a,a.getSize())},500))},onResize:function(){if(this.orientation!=this.getOrientation())this.onOrientationChange();else{var a=this.getSize();!Ext.is.iOS&&!Ext.is.Desktop?(a.width==this.lastSize.width&&a.height>this.lastSize.height||a.height==this.lastSize.height&&a.width>this.lastSize.width)&&this.fireEvent("resize",this,a):this.fireEvent("resize",this,a)}},getSize:function(){var a={width:window.innerWidth,height:window.innerHeight};return Ext.is.Desktop||(a.height=this.orientation==this.initialOrientation?Math.max(this.initialHeight,a.height):a.height),a},getOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},getOrientation:function(){var a=this,b=a.getSize(),c,d;if(window.hasOwnProperty("orientation"))return d=window.orientation,c=Ext.is.Android&&Ext.is.AndroidMajorVersion===3,d%180===0?c?"landscape":"portrait":c?"portrait":"landscape";if(!Ext.is.iOS&&!Ext.is.Desktop)if(b.width==a.lastSize.width&&b.height<a.lastSize.height||b.height==a.lastSize.height&&b.width<a.lastSize.width)return a.orientation;return window.innerHeight>window.innerWidth?"portrait":"landscape"}})),Ext.util.TapRepeater=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.addEvents("touchstart","tap","touchend"),this.el.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,scope:this}),(this.preventDefault||this.stopDefault)&&this.el.on("tap",this.eventOptions,this),Ext.util.TapRepeater.superclass.constructor.call(this)},interval:10,delay:250,preventDefault:!0,stopDefault:!1,timer:0,eventOptions:function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},destroy:function(){Ext.destroy(this.el),this.clearListeners()},onTouchStart:function(a){clearTimeout(this.timer),this.pressClass&&this.el.addCls(this.pressClass),this.tapStartTime=new Date,this.fireEvent("touchstart",this,a),this.fireEvent("tap",this,a),this.accelerate&&(this.delay=400),this.timer=Ext.defer(this.tap,this.delay||this.interval,this,[a])},tap:function(a){this.fireEvent("tap",this,a),this.timer=Ext.defer(this.tap,this.accelerate?this.easeOutExpo(Ext.util.Date.getElapsed(this.tapStartTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},onTouchEnd:function(a){clearTimeout(this.timer),this.el.removeCls(this.pressClass),this.fireEvent("touchend",this,a)}}),this.JSON||(this.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}return e}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Ext.util.JSON={encode:function(a){return JSON.stringify(a)},decode:function(a){return JSON.parse(a)}},Ext.encode=Ext.util.JSON.encode,Ext.decode=Ext.util.JSON.decode,Ext.util.JSONP={queue:[],current:null,request:function(a){a=a||{};if(!a.url)return;var b=this;a.params=a.params||{},a.callbackKey&&(a.params[a.callbackKey]="Ext.util.JSONP.callback");var c=Ext.urlEncode(a.params),d=document.createElement("script");d.type="text/javascript",this.queue.push({url:a.url,script:d,callback:a.callback||function(){},scope:a.scope||window,params:c||null}),this.current||this.next()},next:function(){this.current=null,this.queue.length&&(this.current=this.queue.shift(),this.current.script.src=this.current.url+(this.current.params?"?"+this.current.params:""),document.getElementsByTagName("head")[0].appendChild(this.current.script))},callback:function(a){this.current.callback.call(this.current.scope,a),document.getElementsByTagName("head")[0].removeChild(this.current.script),this.next()}},Ext.util.Draggable=Ext.extend(Ext.util.Observable,{baseCls:"x-draggable",draggingCls:"x-dragging",proxyCls:"x-draggable-proxy",outOfBoundRestrictFactor:1,direction:"both",fps:Ext.is.Blackberry?25:Ext.is.iOS||Ext.is.Desktop?80:50,constrain:window,threshold:0,delay:0,cancelSelector:null,disabled:!1,revert:!1,group:"base",useCssTransform:!0,grid:null,snap:null,proxy:null,stack:!1,animationDuration:300,updateBoundaryOnTouchStart:!0,offsetBoundary:null,dragging:!1,vertical:!1,horizontal:!1,monitorOrientation:!0,constructor:function(a,b){return this.el=Ext.get(a),this.id=a.id,b=b||{},Ext.apply(this,b),this.addEvents("offsetchange","offsetboundaryupdate"),Ext.util.Draggable.superclass.constructor.call(this,b),this.eventTarget==="parent"?this.eventTarget=this.el.parent():this.eventTarget=this.eventTarget?Ext.get(this.eventTarget):this.el,this.direction=="both"?(this.horizontal=!0,this.vertical=!0):this.direction=="horizontal"?this.horizontal=!0:this.vertical=!0,this.el.addCls(this.baseCls),this.proxy&&this.getProxyEl().addCls(this.proxyCls),this.startEventName=this.delay>0?"taphold":"dragstart",this.dragOptions=this.delay>0?{holdThreshold:this.delay}:{direction:this.direction,dragThreshold:this.threshold},this.container=window,this.constrain&&(this.constrain==="parent"?this.container=this.el.parent():this.constrain!==window&&(this.container=Ext.get(this.constrain))),this.offset=new Ext.util.Offset,this.linearAnimation={x:new Ext.util.Draggable.Animation.Linear,y:new Ext.util.Draggable.Animation.Linear},this.updateBoundary(!0),this.setDragging(!1),this.disabled||this.enable(),this},enable:function(){return this.setEnabled(!0)},disable:function(){return this.setEnabled(!1)},setEnabled:function(a){return this.eventTarget[a?"on":"un"](this.startEventName,this.onStart,this,this.dragOptions),this.eventTarget[a?"on":"un"]("drag",this.onDrag,this,this.dragOptions),this.eventTarget[a?"on":"un"]("dragend",this.onDragEnd,this,this.dragOptions),this.eventTarget[a?"on":"un"]("touchstart",this.onTouchStart,this),a?Ext.EventManager.onOrientationChange(this.onOrientationChange,this):Ext.EventManager.orientationEvent.removeListener(this.onOrientationChange,this),this.disabled=!a,this},setUseCssTransform:function(a){typeof a=="undefined"&&(a=!0);if(a!=this.useCssTransform){this.useCssTransform=a;var b=new Ext.util.Offset;a==0?(this.setStyleOffset(this.offset),this.setTransformOffset(b,!0)):(this.setTransformOffset(this.offset),this.setStyleOffset(b))}return this},setOffset:function(a,b){return this.horizontal||(a.x=0),this.vertical||(a.y=0),a instanceof Ext.util.Offset||(a=Ext.util.Offset.fromObject(a)),a.round(),this.offset.equals(a)||(b?this.startAnimation(a,b):(this.offset=a,this.region=new Ext.util.Region(this.initialRegion.top+a.y,this.initialRegion.right+a.x,this.initialRegion.bottom+a.y,this.initialRegion.left+a.x),this.useCssTransform?this.setTransformOffset(a):this.setStyleOffset(a),this.fireEvent("offsetchange",this,this.offset))),this},setTransformOffset:function(a,b){return b?this.getProxyEl().dom.style.webkitTransform="":Ext.Element.cssTranslate(this.getProxyEl(),a),this},setStyleOffset:function(a){var b=this.getProxyEl();return b.dom.style.left=a.x+"px",b.dom.style.top=a.y+"px",this},startAnimation:function(a,b){var c=this;this.stopAnimation();var d=Date.now();return b=Ext.isNumber(b)?b:this.animationDuration,this.linearAnimation.x.set({startOffset:this.offset.x,endOffset:a.x,startTime:d,duration:b}),this.linearAnimation.y.set({startOffset:this.offset.y,endOffset:a.y,startTime:d,duration:b}),this.isAnimating=!0,this.animationTimer=setInterval(function(){c.handleAnimationFrame()},this.getFrameDuration()),this},getFrameDuration:function(){return 1e3/this.fps},stopAnimation:function(){return this.isAnimating&&(clearInterval(this.animationTimer),this.isAnimating=!1,this.setDragging(!1)),this},handleAnimationFrame:function(){if(!this.isAnimating)return;var a=new Ext.util.Offset;a.x=this.linearAnimation.x.getOffset(),a.y=this.linearAnimation.y.getOffset(),this.setOffset(a),a.x===this.linearAnimation.x.endOffset&&a.y===this.linearAnimation.y.endOffset&&this.stopAnimation()},getOffset:function(){var a=this.offset.copy();return a.y=-a.y,a.x=-a.x,a},updateBoundary:function(a){var b;typeof a=="undefined"&&(a=!1),this.size={width:this.el.dom.scrollWidth,height:this.el.dom.scrollHeight},this.container===window?this.containerBox={left:0,top:0,right:this.container.innerWidth,bottom:this.container.innerHeight,width:this.container.innerWidth,height:this.container.innerHeight}:this.containerBox=this.container.getPageBox();var c=this.el.getXY();this.elBox={left:c[0]-this.offset.x,top:c[1]-this.offset.y,width:this.size.width,height:this.size.height},this.elBox.bottom=this.elBox.top+this.elBox.height,this.elBox.right=this.elBox.left+this.elBox.width,this.initialRegion=this.region=new Ext.util.Region(c[1],c[0]+this.elBox.width,c[1]+this.elBox.height,c[0]);var d=0,e=0,f=0,g=0;this.elBox.left<this.containerBox.left?e+=this.containerBox.left-this.elBox.left:g-=this.elBox.left-this.containerBox.left,this.elBox.right>this.containerBox.right?g-=this.elBox.right-this.containerBox.right:e+=this.containerBox.right-this.elBox.right,this.elBox.top<this.containerBox.top?f+=this.containerBox.top-this.elBox.top:d-=this.elBox.top-this.containerBox.top,this.elBox.bottom>this.containerBox.bottom?d-=this.elBox.bottom-this.containerBox.bottom:f+=this.containerBox.bottom-this.elBox.bottom,b=(new Ext.util.Region(d,e,f,g)).round();if(this.offsetBoundary&&this.offsetBoundary.equals(b))return this;this.offsetBoundary=b,this.fireEvent("offsetboundaryupdate",this,this.offsetBoundary);var h;return this.useCssTransform&&(h=Ext.Element.getComputedTransformOffset(this.getProxyEl()),(!this.offset.equals(h)||a)&&this.setOffset(h)),this},onTouchStart:function(){},onStart:function(a){return this.updateBoundaryOnTouchStart&&this.updateBoundary(),this.stopAnimation(),this.setDragging(!0),this.startTouchPoint=new Ext.util.Point(a.startX,a.startY),this.startOffset=this.offset.copy(),this.fireEvent("dragstart",this,a),!0},getNewOffsetFromTouchPoint:function(a){var b=a.x-this.startTouchPoint.x,c=a.y-this.startTouchPoint.y,d=this.offset.copy();return b==0&&c==0?d:(this.horizontal&&(d.x=this.startOffset.x+b),this.vertical&&(d.y=this.startOffset.y+c),d)},onDrag:function(a){if(!this.dragging)return;this.lastTouchPoint=Ext.util.Point.fromEvent(a);var b=this.getNewOffsetFromTouchPoint(this.lastTouchPoint);return this.offsetBoundary!=null&&(b=this.offsetBoundary.restrict(b,this.outOfBoundRestrictFactor)),this.setOffset(b),this.fireEvent("drag",this,a),!0},onDragEnd:function(a){return this.dragging&&(this.fireEvent("beforedragend",this,a),this.revert&&!this.cancelRevert?this.setOffset(this.startOffset,!0):this.setDragging(!1),this.fireEvent("dragend",this,a)),!0},onOrientationChange:function(){this.updateBoundary()},setDragging:function(a){return a?this.dragging||(this.dragging=!0,this.getProxyEl().addCls(this.draggingCls)):this.dragging&&(this.dragging=!1,this.getProxyEl().removeCls(this.draggingCls)),this},getProxyEl:function(){return this.proxy||this.el},destroy:function(){this.el.removeCls(this.baseCls),this.getProxyEl().removeCls(this.proxyCls),this.clearListeners(),this.disable()},reset:function(){this.startOffset=new Ext.util.Offset(0,0),this.setOffset(this.startOffset);var a=this.initialRegion.copy();this.updateBoundary(),this.initialRegion=this.region=this.getProxyEl().getPageBox(!0),this.startTouchPoint.x+=this.initialRegion.left-a.left,this.startTouchPoint.y+=this.initialRegion.top-a.top},moveTo:function(a,b){return this.setOffset(new Ext.util.Offset(a-this.initialRegion.left,b-this.initialRegion.top)),this},isDragging:function(){return this.dragging},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}}),Ext.util.Draggable.Animation={},Ext.util.Draggable.Animation.Abstract=Ext.extend(Object,{startTime:null,startOffset:0,constructor:function(a){a=a||{},this.set(a),this.startTime||(this.startTime=Date.now())},set:function(a,b){return Ext.isObject(a)?Ext.apply(this,a):this[a]=b,this},getOffset:Ext.emptyFn}),Ext.util.Draggable.Animation.Linear=Ext.extend(Ext.util.Draggable.Animation.Abstract,{duration:0,endOffset:0,getOffset:function(){var a=this.endOffset-this.startOffset,b=Date.now()-this.startTime,c=Math.min(1,b/this.duration);return this.startOffset+c*a}}),Ext.util.Droppable=Ext.extend(Ext.util.Observable,{baseCls:"x-droppable",activeCls:"x-drop-active",invalidCls:"x-drop-invalid",hoverCls:"x-drop-hover",validDropMode:"intersect",disabled:!1,group:"base",tolerance:null,monitoring:!1,constructor:function(a,b){b=b||{},Ext.apply(this,b),this.addEvents("dropactivate","dropdeactivate","dropenter","dropleave","drop"),this.el=Ext.get(a),Ext.util.Droppable.superclass.constructor.call(this),this.disabled||this.enable(),this.el.addCls(this.baseCls)},onDragStart:function(a,b){a.group===this.group?(this.monitoring=!0,this.el.addCls(this.activeCls),this.region=this.el.getPageBox(!0),a.on({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this}),this.isDragOver(a)&&this.setCanDrop(!0,a,b),this.fireEvent("dropactivate",this,a,b)):(a.on({dragend:function(){this.el.removeCls(this.invalidCls)},scope:this,single:!0}),this.el.addCls(this.invalidCls))},isDragOver:function(a,b){return this.region[this.validDropMode](a.region)},onDrag:function(a,b){this.setCanDrop(this.isDragOver(a),a,b)},setCanDrop:function(a,b,c){a&&!this.canDrop?(this.canDrop=!0,this.el.addCls(this.hoverCls),this.fireEvent("dropenter",this,b,c)):!a&&this.canDrop&&(this.canDrop=!1,this.el.removeCls(this.hoverCls),this.fireEvent("dropleave",this,b,c))},onBeforeDragEnd:function(a,b){a.cancelRevert=this.canDrop},onDragEnd:function(a,b){this.monitoring=!1,this.el.removeCls(this.activeCls),a.un({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this}),this.canDrop&&(this.canDrop=!1,this.el.removeCls(this.hoverCls),this.fireEvent("drop",this,a,b)),this.fireEvent("dropdeactivate",this,a,b)},enable:function(){this.mgr||(this.mgr=Ext.util.Observable.observe(Ext.util.Draggable)),this.mgr.on({dragstart:this.onDragStart,scope:this}),this.disabled=!1},disable:function(){this.mgr.un({dragstart:this.onDragStart,scope:this}),this.disabled=!0},isDisabled:function(){return this.disabled},isMonitoring:function(){return this.monitoring}}),function(){Ext.ScrollManager=new Ext.AbstractManager,Ext.util.ScrollView=Ext.extend(Ext.util.Observable,{useIndicators:!0,indicatorConfig:{},indicatorMargin:4,constructor:function(a,b){var c=[],d=["vertical","horizontal"];Ext.util.ScrollView.superclass.constructor.call(this),["useIndicators","indicatorConfig","indicatorMargin"].forEach(function(a){b.hasOwnProperty(a)&&(this[a]=b[a],delete b[a])},this),b.scrollView=this,this.scroller=new Ext.util.Scroller(a,b),this.useIndicators===!0?d.forEach(function(a){this.scroller[a]&&c.push(a)},this):d.indexOf(this.useIndicators)!==-1&&c.push(this.useIndicators),this.indicators={},this.indicatorOffsetExtras={},c.forEach(function(a){this.indicators[a]=new Ext.util.Scroller.Indicator(this.scroller.container,Ext.apply({},this.indicatorConfig,{type:a}))},this),this.mon(this.scroller,{scrollstart:this.onScrollStart,scrollend:this.onScrollEnd,scroll:this.onScroll,scope:this})},onScrollStart:function(){this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(a){if(a.offsetBoundary==null||!this.indicators.vertical&&!this.indicators.horizontal)return;var b,c,d,e=a.offsetBoundary,f=a.offset;this.containerSize=a.containerBox,this.scrollerSize=a.size,this.outOfBoundOffset=e.getOutOfBoundOffset(f),this.restrictedOffset=e.restrict(f),this.boundarySize=e.getSize(),this.indicatorSizes||(this.indicatorSizes={vertical:0,horizontal:0}),this.indicatorOffsets||(this.indicatorOffsets={vertical:0,horizontal:0}),Ext.iterate(this.indicators,function(a,g){b=a=="vertical"?"height":"width",c=a=="vertical"?"y":"x",d=a=="vertical"?"bottom":"right",this.scrollerSize[b]<this.containerSize[b]?this.indicatorSizes[a]=this.containerSize[b]*(this.scrollerSize[b]/this.containerSize[b]):this.indicatorSizes[a]=this.containerSize[b]*(this.containerSize[b]/this.scrollerSize[b]),this.indicatorSizes[a]-=Math.abs(this.outOfBoundOffset[c]),this.indicatorSizes[a]=Math.max(this.indicatorMargin*4,this.indicatorSizes[a]),this.boundarySize[b]!=0?this.indicatorOffsets[a]=(e[d]-this.restrictedOffset[c])/this.boundarySize[b]*(this.containerSize[b]-this.indicatorSizes[a]):f[c]<e[d]?this.indicatorOffsets[a]=this.containerSize[b]-this.indicatorSizes[a]:this.indicatorOffsets[a]=0,g.setOffset(this.indicatorOffsetExtras[a]+this.indicatorOffsets[a]+this.indicatorMargin),g.setSize(this.indicatorSizes[a]-this.indicatorMargin*2)},this)},showIndicators:function(){return Ext.iterate(this.indicators,function(a,b){b.show(),this.indicatorOffsetExtras[a]=b.el.dom.parentNode[a==="vertical"?"scrollTop":"scrollLeft"]},this),this},hideIndicators:function(){Ext.iterate(this.indicators,function(a,b){b.hide()},this)},destroy:function(){return this.scroller.destroy(),this.indicators&&Ext.iterate(this.indicators,function(a,b){b.destroy()},this),Ext.util.ScrollView.superclass.destroy.apply(this,arguments)}}),Ext.util.Scroller=Ext.extend(Ext.util.Draggable,{baseCls:"",draggingCls:"",direction:"both",constrain:"parent",outOfBoundRestrictFactor:.5,acceleration:20,autoAdjustFps:!1,friction:.5,startMomentumResetTime:350,springTension:.3,minVelocityForAnimation:1,bounces:!0,momentum:!0,cancelRevert:!0,threshold:5,constructor:function(a,b){a=Ext.get(a);var c=Ext.ScrollManager.get(a.id);if(c)return Ext.apply(c,b);Ext.util.Scroller.superclass.constructor.apply(this,arguments),this.addEvents("scrollstart","scroll","scrollend","bouncestart","bounceend"),this.on({dragstart:this.onDragStart,offsetchange:this.onOffsetChange,scope:this}),Ext.ScrollManager.register(this),this.el.addCls("x-scroller"),this.container.addCls("x-scroller-parent");if(this.bounces!==!1){var d=this.bounces==="both"||this.bounces===!0,e=d||this.bounces==="horizontal",f=d||this.bounces==="vertical";this.bounces={x:e,y:f}}return this.theta=Math.log(1-this.friction/10),this.bouncingVelocityFactor=this.springTension*Math.E,this.bouncingTimeFactor=1/this.springTension*this.acceleration,this.decelerationAnimation||(this.decelerationAnimation={}),this.bouncingAnimation||(this.bouncingAnimation={}),["x","y"].forEach(function(a){this.decelerationAnimation[a]||(this.decelerationAnimation[a]=new Ext.util.Scroller.Animation.Deceleration({acceleration:this.acceleration,theta:this.theta})),this.bouncingAnimation[a]||(this.bouncingAnimation[a]=new Ext.util.Scroller.Animation.Bouncing({acceleration:this.acceleration,springTension:this.springTension}))},this),this},updateBoundary:function(a){return Ext.util.Scroller.superclass.updateBoundary.apply(this,arguments),this.snapToBoundary(a),this},onOffsetChange:function(a,b){this.fireEvent("scroll",a,{x:-b.x,y:-b.y})},onTouchStart:function(a){Ext.util.Scroller.superclass.onTouchStart.apply(this,arguments),this.stopMomentumAnimation()},onDragStart:function(a){this.fireEvent("scrollstart",this,a)},setStartTime:function(a){this.startTime=a.time,this.originalStartTime=a.event.originalTimeStamp?a.event.originalTimeStamp:a.time},onStart:function(a){if(Ext.util.Scroller.superclass.onStart.apply(this,arguments)!==!0)return;this.setStartTime(a),this.lastEventTime=a.time,this.startTimeOffset=this.offset.copy(),this.isScrolling=!0,this.momentumAnimationFramesHandled=0},onDrag:function(a){if(Ext.util.Scroller.superclass.onDrag.apply(this,arguments)!==!0)return;this.lastEventTime=a.time,this.lastEventTime-this.startTime>this.startMomentumResetTime&&(this.setStartTime(a),this.startTimeOffset=this.offset.copy())},onDragEnd:function(a){if(Ext.util.Scroller.superclass.onDragEnd.apply(this,arguments)!==!0)return;this.startMomentumAnimation(a)||this.fireScrollEndEvent()},onOrientationChange:function(){Ext.util.Scroller.superclass.onOrientationChange.apply(this,arguments),this.snapToBoundary()},fireScrollEndEvent:function(){this.isScrolling=!1,this.isMomentumAnimating=!1,this.snapToBoundary(),this.fireEvent("scrollend",this,this.getOffset()),this.snapToSlot()},getLastActualFps:function(){var a=(this.momentumAnimationEndTime-this.momentumAnimationStartTime-this.momentumAnimationProcessingTime)/1e3;return this.momentumAnimationFramesHandled/a},scrollTo:function(a,b){this.stopMomentumAnimation();var c=this.offsetBoundary.restrict(new Ext.util.Offset(-a.x,-a.y));return this.setOffset(c,b),this},
scrollBy:function(a,b){this.stopMomentumAnimation();var c=this.offset.copy();return c.x+=a.x,c.y+=a.y,this.setOffset(c,b),this},setSnap:function(a){this.snap=a},snapToBoundary:function(a){var b=this.offsetBoundary.restrict(this.offset);return this.setOffset(b,a),this},snapToSlot:function(){var a=this.offsetBoundary.restrict(this.offset);a.round(),this.snap&&(this.snap===!0?this.snap={x:50,y:50}:Ext.isNumber(this.snap)&&(this.snap={x:this.snap,y:this.snap}),this.snap.y&&(a.y=Math.round(a.y/this.snap.y)*this.snap.y),this.snap.x&&(a.x=Math.round(a.x/this.snap.x)*this.snap.x),this.offset.equals(a)||this.scrollTo({x:-a.x,y:-a.y},this.snapDuration))},startMomentumAnimation:function(a){var b=this,c=a.event.originalTimeStamp?a.event.originalTimeStamp:a.time,d=Math.max(40,c-this.originalStartTime);this.fireEvent("beforemomentumanimationstart");if(!!this.momentum&&d<=this.startMomentumResetTime||!!this.offsetBoundary.isOutOfBound(this.offset)){var e=this.minVelocityForAnimation,f,g=this.offset.copy(),h,i=d/this.acceleration;return this.isBouncing={x:!1,y:!1},this.isDecelerating={x:!1,y:!1},this.momentumAnimationStartTime=a.time,this.momentumAnimationProcessingTime=0,this.bouncingData={x:null,y:null},this.momentumAnimationStartVelocity={x:(this.offset.x-this.startTimeOffset.x)/i,y:(this.offset.y-this.startTimeOffset.y)/i},this.momentumAnimationStartOffset=g,["x","y"].forEach(function(a){this.isDecelerating[a]=Math.abs(this.momentumAnimationStartVelocity[a])>e,this.bounces&&this.bounces[a]&&(h=this.offsetBoundary.restrict(a,g[a]),h!==g[a]&&(f=(g[a]-h)*this.bouncingVelocityFactor,this.bouncingData[a]={axis:a,offset:h,time:this.momentumAnimationStartTime,velocity:f},this.isBouncing[a]=!0,this.isDecelerating[a]=!1,this.fireEvent("bouncestart",this,this.bouncingData[a]),this.bouncingAnimation[a].set({startTime:this.bouncingData[a].time-this.bouncingTimeFactor,startOffset:this.bouncingData[a].offset,startVelocity:this.bouncingData[a].velocity}))),this.isDecelerating[a]&&this.decelerationAnimation[a].set({startVelocity:this.momentumAnimationStartVelocity[a],startOffset:this.momentumAnimationStartOffset[a],startTime:this.momentumAnimationStartTime})},this),this.isDecelerating.x||this.isDecelerating.y||this.isBouncing.x||this.isBouncing.y?(this.isMomentumAnimating=!0,this.momentumAnimationFramesHandled=0,this.fireEvent("momentumanimationstart"),b.handleMomentumAnimationFrame(),this.momentumAnimationTimer=setInterval(function(){b.handleMomentumAnimationFrame()},this.getFrameDuration()),!0):!1}return!1},stopMomentumAnimation:function(){if(this.isMomentumAnimating){this.momentumAnimationTimer&&clearInterval(this.momentumAnimationTimer),this.momentumAnimationEndTime=Date.now();var a=this.getLastActualFps();if(!this.maxFps||a>this.maxFps)this.maxFps=a;this.autoAdjustFps&&(this.fps=this.maxFps),this.isDecelerating={},this.isBouncing={},this.fireEvent("momentumanimationend"),this.fireScrollEndEvent()}return this},handleMomentumAnimationFrame:function(){if(!this.isMomentumAnimating)return;var a=Date.now(),b=this.offset.copy(),c=this.offsetBoundary,d,e,f;["x","y"].forEach(function(g){this.isDecelerating[g]?(b[g]=this.decelerationAnimation[g].getOffset(),d=this.momentumAnimationStartVelocity[g]*this.decelerationAnimation[g].getFrictionFactor(),f=c.getOutOfBoundOffset(g,b[g]),f!==0?(e=c.restrict(g,b[g]),this.bounces&&this.bounces[g]&&(this.bouncingData[g]={axis:g,offset:e,time:a,velocity:d},this.fireEvent("bouncestart",this,this.bouncingData[g]),this.bouncingAnimation[g].set({startTime:this.bouncingData[g].time,startOffset:this.bouncingData[g].offset,startVelocity:this.bouncingData[g].velocity}),this.isBouncing[g]=!0),this.isDecelerating[g]=!1):Math.abs(d)<=1&&(this.isDecelerating[g]=!1)):this.isBouncing[g]&&(b[g]=this.bouncingAnimation[g].getOffset(),e=c.restrict(g,b[g]),Math.abs(b[g]-e)<=1&&(this.isBouncing[g]=!1,this.fireEvent("bounceend",this,{axis:g}),b[g]=e))},this);if(!this.isDecelerating.x&&!this.isDecelerating.y&&!this.isBouncing.x&&!this.isBouncing.y){this.stopMomentumAnimation();return}this.momentumAnimationFramesHandled++,this.momentumAnimationProcessingTime+=Date.now()-a,this.setOffset(b)},destroy:function(){return Ext.ScrollManager.unregister(this),Ext.util.Scroller.superclass.destroy.apply(this,arguments)}}),Ext.util.Scroller.Animation={},Ext.util.Scroller.Animation.Deceleration=Ext.extend(Ext.util.Draggable.Animation.Abstract,{acceleration:30,theta:null,startVelocity:null,getOffset:function(){return this.startOffset-this.startVelocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Date.now()-this.startTime;return Math.exp(a/this.acceleration*this.theta)}}),Ext.util.Scroller.Animation.Bouncing=Ext.extend(Ext.util.Draggable.Animation.Abstract,{springTension:.3,acceleration:30,startVelocity:null,getOffset:function(){var a=Date.now()-this.startTime,b=a/this.acceleration*Math.pow(Math.E,-this.springTension*(a/this.acceleration));return this.startOffset+this.startVelocity*b}}),Ext.util.Scroller.Indicator=Ext.extend(Object,{baseCls:"x-scrollbar",ui:"dark",type:"horizontal",constructor:function(a,b){this.container=a,Ext.apply(this,b),this.el=this.container.createChild({cls:[this.baseCls,this.baseCls+"-"+this.type,this.baseCls+"-"+this.ui].join(" ")}),this.offset=new Ext.util.Offset,this.hide()},hide:function(){var a=this;return this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout(function(){a.el.setStyle("opacity",0)},100),this},show:function(){return this.hideTimer&&clearTimeout(this.hideTimer),this.el.setStyle("opacity",1),this},setVisibility:function(a){return this[a?"show":"hide"]()},setSize:function(a){return this.size&&a>this.size&&(a=Math.round(a)),this.el.dom.style[this.type=="horizontal"?"width":"height"]=a+"px",this.size=a,this},setOffset:function(a){return this.type=="vertical"?this.offset.y=a:this.offset.x=a,!Ext.is.iOS&&!Ext.is.Desktop?this.type=="vertical"?this.el.dom.style.top=this.offset.y+"px":this.el.dom.style.left=this.offset.x+"px":Ext.Element.cssTranslate(this.el,this.offset),this}})}(),Ext.util.Sortable=Ext.extend(Ext.util.Observable,{baseCls:"x-sortable",direction:"vertical",cancelSelector:null,constrain:window,group:"base",revert:!0,itemSelector:null,handleSelector:null,disabled:!1,delay:0,sorting:!1,vertical:!1,vertical:!1,constructor:function(a,b){b=b||{},Ext.apply(this,b),this.addEvents("sortstart","sortend","sortchange"),this.el=Ext.get(a),Ext.util.Sortable.superclass.constructor.call(this),this.direction=="horizontal"?this.horizontal=!0:this.direction=="vertical"?this.vertical=!0:this.horizontal=this.vertical=!0,this.el.addCls(this.baseCls),this.startEventName=this.delay>0?"taphold":"tapstart",this.disabled||this.enable()},onStart:function(a,b){if(this.cancelSelector&&a.getTarget(this.cancelSelector))return;if(this.handleSelector&&!a.getTarget(this.handleSelector))return;this.sorting||this.onSortStart(a,b)},onSortStart:function(a,b){this.sorting=!0;var c=new Ext.util.Draggable(b,{threshold:0,revert:this.revert,direction:this.direction,constrain:this.constrain===!0?this.el:this.constrain,animationDuration:100});c.on({drag:this.onDrag,dragend:this.onDragEnd,scope:this}),this.dragEl=b,this.calculateBoxes(),c.dragging||c.onStart(a),this.fireEvent("sortstart",this,a)},calculateBoxes:function(){this.items=[];var a=this.el.select(this.itemSelector,!1),b=a.length,c,d,e,f;for(c=0;c<b;c++)e=a[c],e!=this.dragEl&&(d=Ext.fly(e).getPageBox(!0),d.el=e,this.items.push(d))},onDrag:function(a,b){var c=this.items,d=c.length,e=a.region,f=!1,g,h,i,j;for(g=0;g<d;g++){j=c[g],h=e.intersect(j);if(h){this.vertical&&Math.abs(h.top-h.bottom)>(e.bottom-e.top)/2?(e.bottom>j.top&&j.top>e.top?a.el.insertAfter(j.el):a.el.insertBefore(j.el),f=!0):this.horizontal&&Math.abs(h.left-h.right)>(e.right-e.left)/2&&(e.right>j.left&&j.left>e.left?a.el.insertAfter(j.el):a.el.insertBefore(j.el),f=!0);if(f){a.reset(),a.moveTo(e.left,e.top),this.calculateBoxes(),this.fireEvent("sortchange",this,a.el,this.el.select(this.itemSelector,!1).indexOf(a.el.dom));return}}}},onDragEnd:function(a,b){a.destroy(),this.sorting=!1,this.fireEvent("sortend",this,a,b)},enable:function(){this.el.on(this.startEventName,this.onStart,this,{delegate:this.itemSelector,holdThreshold:this.delay}),this.disabled=!1},disable:function(){this.el.un(this.startEventName,this.onStart,this),this.disabled=!0},isDisabled:function(){return this.disabled},isSorting:function(){return this.sorting},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}}),function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,d){return b[d]})}Date.useStrict=!1,Date.formatCodeToRegex=function(b,c){var d=Date.parseCodes[b];return d&&(d=typeof d=="function"?d():d,Date.parseCodes[b]=d),d?Ext.applyIf({c:d.c?a(d.c,c||"{0}"):d.c},d):{g:0,c:null,s:Ext.util.Format.escapeRegex(b)}};var b=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{M$:function(a,b){var c=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=(a||"").match(c);return d?new Date(((d[1]||"")+d[2])*1):null}},parseRegexes:[],formatFunctions:{M$:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.util.Format.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"Ext.util.Format.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"Ext.util.Format.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.util.Format.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.util.Format.leftPad(this.getHours(), 2, '0')",i:"Ext.util.Format.leftPad(this.getMinutes(), 2, '0')",s:"Ext.util.Format.leftPad(this.getSeconds(), 2, '0')",u:"Ext.util.Format.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",b=[],c=0,d=a.length;c<d;++c){var e=a.charAt(c);b.push(e=="T"?"'T'":Date.getFormatCode(e))}return b.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,b,c,d,e,f,g){d=d||0,e=e||0,f=f||0,g=g||0;var h=new Date(a,b-1,c,d,e,f,g);return a==h.getFullYear()&&b==h.getMonth()+1&&c==h.getDate()&&d==h.getHours()&&e==h.getMinutes()&&f==h.getSeconds()&&g==h.getMilliseconds()},parseDate:function(a,b,c){var d=Date.parseFunctions;return d[b]==null&&Date.createParser(b),d[b](a,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];return b&&(b=typeof b=="function"?b():b,Date.formatCodes[a]=b),b||"'"+Ext.util.Format.escape(a)+"'"},createFormat:function(a){var b=[],c=!1,d="";for(var e=0;e<a.length;++e)d=a.charAt(e),!c&&d=="\\"?c=!0:c?(c=!1,b.push("'"+Ext.util.Format.escape(d)+"'")):b.push(Date.getFormatCode(d));Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(d){var e=Date.parseRegexes.length,f=1,g=[],h=[],i=!1,j="",k=0,l,m;for(;k<d.length;++k)j=d.charAt(k),!i&&j=="\\"?i=!0:i?(i=!1,h.push(Ext.util.Format.escape(j))):(l=b(j,f),f+=l.g,h.push(l.s),l.g&&l.c&&(l.last?m=l:g.push(l.c)));m&&g.push(m),Date.parseRegexes[e]=new RegExp("^"+h.join("")+"$"),Date.parseFunctions[d]=new Function("input","strict",a(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],b=0;b<7;a.push(Date.getShortDayName(b)),++b);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;c<12;a.push(Date.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return b("A")},A:{calcLast:!0,g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return b("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return b("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],c=[b("Y",1),b("m",2),b("d",3),b("h",4),b("i",5),b("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",b("P",8).c,"}else{",b("O",8).c,"}","}"].join("\n")}];for(var d=0,e=c.length;d<e;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}(),Ext.apply(Date.prototype,{dateFormat:function(a){return Date.formatFunctions[a]==null&&Date.createFormat(a),Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+Ext.util.Format.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+Ext.util.Format.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var a=0,b=this.clone(),c=this.getMonth(),d;for(d=0,b.setDate(1),b.setMonth(0);d<c;b.setMonth(++d))a+=b.getDaysInMonth();return a+this.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(){var c=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,d=Math.floor(c/7),e=(new Date(d*b)).getUTCFullYear();return d-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return(a&3)==0&&!!(a%100||a%400==0&&a)},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return b==1&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return(new Date(this.getFullYear(),0,1)).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(a){if(a)return this.clone().clearTime();var b=this.getDate();this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0);if(this.getDate()!=b){for(var c=1,d=this.add(Date.HOUR,c);d.getDate()!=b;c++,d=this.add(Date.HOUR,c));this.setDate(b),this.setHours(d.getHours())}return this},add:function(a,b){var c=this.clone();if(!a||b===0)return c;switch(a.toLowerCase()){case Date.MILLI:c.setMilliseconds(this.getMilliseconds()+b);break;case Date.SECOND:c.setSeconds(this.getSeconds()+b);break;case Date.MINUTE:c.setMinutes(this.getMinutes()+b);break;case Date.HOUR:c.setHours(this.getHours()+b);break;case Date.DAY:c.setDate(this.getDate()+b);break;case Date.MONTH:var d=this.getDate();d>28&&(d=Math.min(d,this.getFirstDateOfMonth().add("mo",b).getLastDateOfMonth().getDate())),c.setDate(d),c.setMonth(this.getMonth()+b);break;case Date.YEAR:c.setFullYear(this.getFullYear()+b)}return c},between:function(a,b){var c=this.getTime();return a.getTime()<=c&&c<=b.getTime()}}),Date.prototype.format=Date.prototype.dateFormat,Ext.data.Connection=Ext.extend(Ext.util.Observable,{method:"post",url:null,disableCaching:!0,disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{},Ext.apply(this,a),this.addEvents("beforerequest","requestcomplete","requestexception"),this.requests={},Ext.data.Connection.superclass.constructor.call(this)},request:function(a){var b=this;if(b.fireEvent("beforerequest",b,a)!==!1){var c=a.params,d=a.url||b.url,e=a.urlParams,f=b.extraParams,g,h,i,j,k,l;Ext.isFunction(c)&&(c=c.call(a.scope||window,a)),Ext.isFunction(d)&&(d=d.call(a.scope||window,a)),h=a.rawData||a.xmlData||a.jsonData||null,a.jsonData&&!Ext.isPrimitive(a.jsonData)&&(h=Ext.encode(h)),c=Ext.urlEncode(f,Ext.isObject(c)?Ext.urlEncode(c):c),e=Ext.isObject(e)?Ext.urlEncode(e):e,j=(a.method||(c||h?"POST":"GET")).toUpperCase(),j==="GET"&&a.disableCaching!==!1&&b.disableCaching&&(d=Ext.urlAppend(d,a.disableCachingParam||b.disableCachingParam+"="+(new Date).getTime())),(j=="GET"||h)&&c&&(d=Ext.urlAppend(d,c),c=null),e&&(d=Ext.urlAppend(d,e)),(a.autoAbort===!0||b.autoAbort)&&b.abort(),l=this.getXhrInstance(),l.open(j.toUpperCase(),d,!0),i=Ext.apply({},a.headers||{},b.defaultHeaders||{});if(!i["Content-Type"]&&(h||c)){var m=b.defaultPostHeader,n=a.jsonData,o=a.xmlData;h&&(a.rawData?m="text/plain":o&&Ext.isDefined(o)?m="text/xml":n&&Ext.isDefined(n)&&(m="application/json")),i["Content-Type"]=m}b.useDefaultXhrHeader&&!i["X-Requested-With"]&&(i["X-Requested-With"]=b.defaultXhrHeader);for(k in i)if(i.hasOwnProperty(k))try{l.setRequestHeader(k,i[k])}catch(p){b.fireEvent("exception",k,i[k])}return g={id:++Ext.data.Connection.requestId,xhr:l,headers:i,options:a,timeout:setTimeout(function(){g.timedout=!0,b.abort(g)},a.timeout||b.timeout)},b.requests[g.id]=g,l.onreadystatechange=Ext.createDelegate(b.onStateChange,b,[g]),l.send(h||c||null),g}return a.callback?a.callback.apply(a.scope,[a,undefined,undefined]):null},getXhrInstance:function(){return new XMLHttpRequest},isLoading:function(a){return a&&!{0:!0,4:!0}[a.xhr.readyState]},abort:function(a){if(a&&this.isLoading(a))a.timedout||(a.aborted=!0),a.xhr.abort();else if(!a){var b;for(b in this.requests){if(!this.requests.hasOwnProperty(b))continue;this.abort(this.requests[b])}}},onStateChange:function(a){a.xhr.readyState==4&&(clearTimeout(a.timeout),delete a.timeout,this.onComplete(a))},onComplete:function(a){var b=a.xhr.status,c=a.options,d=!0,e;if(b>=200&&b<300||b==304)e=this.createResponse(a),this.fireEvent("requestcomplete",this,e,c),c.success&&(c.scope?c.success.call(c.scope,e,c):c.success(e,c));else{d=!1;switch(b){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:e=this.createException(a);break;default:e=this.createResponse(a)}this.fireEvent("requestexception",this,e,c),c.failure&&(c.scope?c.failure.call(c.scope,e,c):c.failure(e,c))}c.callback&&(c.scope?c.callback.call(c.scope,c,d,e):c.callback(c,d,e)),delete this.requests[a.id]},createResponse:function(a){var b=a.xhr,c={},d=b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),e=d.length,f,g,h,i;while(e--)f=d[e],g=f.indexOf(":"),g>=0&&(h=f.substr(0,g).toLowerCase(),f.charAt(g+1)==" "&&++g,c[h]=f.substr(g+1));return delete a.xhr,{request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c},responseText:b.responseText,responseXML:b.responseXML}},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}}),Ext.data.Connection.requestId=0,Ext.Ajax=new Ext.data.Connection({autoAbort:!1}),Ext.util.EventSimulator=Ext.extend(Object,{supportedEvents:{touch:["touchstart","touchmove","touchend","gesturestart","gesturechange","gestureend"],mouse:["mousedown","mousemove","mouseup","click"]},getEventTypeByName:function(a){var b=null;return Ext.iterate(this.supportedEvents,function(c,d){d.indexOf(a)!=-1&&(b=c)}),b},fire:function(a,b,c){a=a.toLowerCase(),arguments.length==2&&(c=b,b=document);switch(this.getEventTypeByName(a)){case"touch":this.fireTouchEvent.call(this,a,b,c);break;case"mouse":this.fireMouseEvent.call(this,a,b,c);break;default:throw new Error("Event type "+a+" is currently not supported")}return this},createEvent:function(a,b){},createEventData:function(a,b){switch(this.getEventTypeByName(a.type)){case"touch":return this.createTouchEventData(a.type,a.target,a,b);case"mouse":return this.createMouseEventData(a.type,a.target,a,b);default:throw new Error("Event type "+a.type+" is currently not supported")}},fireTouchEvent:function(a,b,c){var d=this.createTouchEventData(a,b,c),e=this.createTouchEvent(a,d);return e.isSimulated=!0,b.dispatchEvent(e)},createTouchEventData:function(a,b,c,d){var e={type:a,timeStamp:Date.now(),bubbles:!0,cancelable:!0,detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,scale:1,rotation:0};return d||(e.target=b,e.view=document.defaultView),c&&Ext.iterate(e,function(a,b){c.hasOwnProperty(a)&&(e[a]=c[a])}),["touches","targetTouches","changedTouches"].forEach(function(a){c.hasOwnProperty(a)?e[a]=this.createTouchList(c[a],b,d):e[a]=this.createTouchList(e,b,d)},this),e},createTouchEvent:function(a,b){typeof a!="string"&&(b=a,a=a.type);var c=document.createEvent("TouchEvent");return c.initTouchEvent.length==9?c.initTouchEvent(b.touches,b.targetTouches,b.changedTouches,a,b.view,b.screenX,b.screenY,b.clientX,b.clientY):c.initTouchEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.pageX,b.pageY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,b.changedTouches,b.scale,b.rotation),c},createTouch:function(a,b,c){return!document.createTouch||c?{pageX:b.pageX,pageY:b.pageY,clientX:b.pageX,clientY:b.pageY,screenX:b.pageX,screenY:b.pageY,identifier:+b.identifier||0}:document.createTouch(document.defaultView,a,+b.identifier||0,+b.pageX||0,+b.pageY||0,+b.screenX||0,+b.screenY||0)},createTouchList:function(a,b,c){var d,e=[];Ext.isObject(a)&&typeof a.target!="undefined"&&(a=[a]);if(a)for(var f=0;f<a.length;f++)!c&&!a[f].target&&(a[f].target=b),d=this.createTouch(a[f].target,a[f],c),e.push(d);return!document.createTouchList||c?e:document.createTouchList.apply(document,e)},fireMouseEvent:function(a,b,c){var d=this.createMouseEventData(a,b,c),e=this.createMouseEvent(a,d);return e.isSimulated=!0,e.originalTimeStamp=d.timeStamp,b.dispatchEvent(e)},createMouseEventData:function(a,b,c,d){var e={type:a,timeStamp:Date.now(),bubbles:!0,cancelable:a!="mousemove",detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},f=["screen","client","page"],g={x:0,y:0};return d||(e.target=b,e.view=window),c&&Ext.iterate(e,function(a,b){c.hasOwnProperty(a)&&(e[a]=c[a])}),f.forEach(function(a){e[a+"X"]!=0&&(g.x=e[a+"X"]),e[a+"Y"]!=0&&(g.y=e[a+"Y"])}),f.forEach(function(a){e[a+"X"]==0&&g.x!=0&&(e[a+"X"]=g.x),e[a+"Y"]==0&&g.y!=0&&(e[a+"Y"]=g.y)}),e},createMouseEvent:function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c}}),Ext.util.EventRecorder=Ext.extend(Ext.util.Observable,{eventCollection:null,currentEventSetName:null,constructor:function(){return this.addEvents("replaystart","beforecalculatetarget","beforefire","afterfire","aftercalculatetarget","replayend","interrupted"),this.eventSets={},this.interruptedIndexes={},this},getEventSet:function(a){if(typeof a!="string"){if(this.currentEventSetName==null)throw new Error("No EventSet is currently used");a=this.currentEventSetName}return typeof this.eventSets[a]=="undefined"&&(this.eventSets[a]=[]),this.eventSets[a]},start:function(a){this.currentEventSetName=a},record:function(a,b){if(typeof a!="string"){if(this.currentEventSetName==null)return;b=a,a=this.currentEventSetName}var c=this.getEventSimulator().createEventData(b,!0);this.getEventSet(a).push(c)},setEventSet:function(a,b){this.eventSets[a]=b},erase:function(a){this.getEventSet(a).length=0},stopReplay:function(){this.interruptFlag=!0},resumeReplay:function(a){var b=this.interruptedIndexes[a]||0;this.replay(a,b)},replay:function(a,b){var c=this.getEventSimulator(),d=this.getEventSet(a),e,f=0,g=0,h,i,j,k=["touchmove","touchend","mousemove","mouseup"],l=this;typeof b=="undefined"&&(b=0),g=b,e=d.length,this.interruptFlag=!1,e>0&&(this.fireEvent("replaystart",a,b),setTimeout(function(){h=d[g];if(h){k.indexOf(h.type)===-1&&(l.fireEvent("beforecalculatetarget",h.type,h),i=Ext.util.Point.fromEvent(h),j=document.elementFromPoint(i.x,i.y),l.fireEvent("aftercalculatetarget",h.type,j,h));if(j){if(l.interruptFlag===!0){l.interruptFlag=!1,l.interruptedIndexes[a]=g,l.fireEvent("interrupted",g),l.fireEvent("replayend",a,!0);return}l.fireEvent("beforefire",h.type,j,h),c.fire(h.type,j,h),l.fireEvent("afterfire",h.type,j,h)}++g<e?setTimeout(arguments.callee,d[g].timeStamp-h.timeStamp):l.fireEvent("replayend",a,!1)}},f))},end:function(){this.currentEventSetName=null},getEventSimulator:function(){return this._eventSimulator||(this._eventSimulator=new Ext.util.EventSimulator),this._eventSimulator},setEventSimulator:function(a){if(a instanceof Ext.util.EventSimulator)this._eventSimulator=a;else throw new Error("eventSimulator must be an instance of Ext.util.EventSimulator")},save:function(a){}}),Ext.gesture.Manager=new Ext.AbstractManager({eventNames:{start:"touchstart",move:"touchmove",end:"touchend"},defaultPreventedMouseEvents:["click"],clickMoveThreshold:5,init:function(){this.targets=[],this.followTouches=[],this.currentGestures=[],this.currentTargets=[],Ext.supports.Touch||Ext.apply(this.eventNames,{start:"mousedown",move:"mousemove",end:"mouseup"}),this.listenerWrappers={start:Ext.createDelegate(this.onTouchStart,this),move:Ext.createDelegate(this.onTouchMove,this),end:Ext.createDelegate(this.onTouchEnd,this),mouse:Ext.createDelegate(this.onMouseEvent,this)},this.attachListeners()},freeze:function(){this.isFrozen=!0},thaw:function(){this.isFrozen=!1},getEventSimulator:function(){return this.eventSimulator||(this.eventSimulator=new Ext.util.EventSimulator),this.eventSimulator},attachListeners:function(){Ext.iterate(this.eventNames,function(a,b){document.addEventListener(b,this.listenerWrappers[a],!1)},this),Ext.supports.Touch&&this.defaultPreventedMouseEvents.forEach(function(a){document.addEventListener(a,this.listenerWrappers.mouse,!0)},this)},detachListeners:function(){Ext.iterate(this.eventNames,function(a,b){document.removeEventListener(b,this.listenerWrappers[a],!1)},this),Ext.supports.Touch&&this.defaultPreventedMouseEvents.forEach(function(a){document.removeEventListener(a,this.listenerWrappers.mouse,!0)},this)},onMouseEvent:function(a){a.isSimulated||(a.preventDefault(),a.stopPropagation())},onTouchStart:function(a){var b=[],c=a.target;if(a.stopped===!0)return;Ext.is.Android&&(!c.tagName||["input","textarea","select"].indexOf(c.tagName.toLowerCase())===-1)&&a.preventDefault();if(this.isFrozen)return;this.startEvent&&this.onTouchEnd(a),this.locks={},this.currentTargets=[c];while(c)this.targets.indexOf(c)!==-1&&b.unshift(c),c=c.parentNode,this.currentTargets.push(c);this.startEvent=a,this.startPoint=Ext.util.Point.fromEvent(a),this.lastMovePoint=null,this.isClick=!0,this.handleTargets(b,a)},onTouchMove:function(a){Ext.is.MultiTouch&&a.preventDefault();if(!this.startEvent)return;Ext.is.Desktop&&(a.target=this.startEvent.target);if(this.isFrozen)return;var b=this.currentGestures,c,d=a.changedTouches?a.changedTouches[0]:a;this.lastMovePoint=Ext.util.Point.fromEvent(a),Ext.supports.Touch&&this.isClick&&!this.lastMovePoint.isWithin(this.startPoint,this.clickMoveThreshold)&&(this.isClick=!1);for(var e=0;e<b.length;e++){if(a.stopped)break;c=b[e],c.listenForMove&&c.onTouchMove(a,d)}},onTouchEnd:function(a){Ext.is.Blackberry&&a.preventDefault();if(this.isFrozen)return;var b=this.currentGestures.slice(0),c=b.length,d,e,f,g=!1,h=a.changedTouches?a.changedTouches[0]:a;this.startPoint&&(f=Ext.util.Point.fromEvent(a),(this.lastMovePoint||this.startPoint).equals(f)||(g=!0));for(d=0;d<c;d++)e=b[d],!a.stopped&&e.listenForEnd&&(g&&e.onTouchMove(a,h),e.onTouchEnd(a,h)),this.stopGesture(e);Ext.supports.Touch&&this.isClick&&(this.isClick=!1,this.getEventSimulator().fire("click",this.startEvent.target,h)),this.lastMovePoint=null,this.followTouches=[],this.startedChangedTouch=!1,this.currentTargets=[],this.startEvent=null,this.startPoint=null},handleTargets:function(a,b){var c=a.length,d;this.startedChangedTouch=!1,this.startedTouches=Ext.supports.Touch?b.touches:[b];for(d=0;d<c;d++){if(b.stopped)break;this.handleTarget(a[d],b,!0)}for(d=c-1;d>=0;d--){if(b.stopped)break;this.handleTarget(a[d],b,!1)}this.startedChangedTouch&&(this.followTouches=this.followTouches.concat(Ext.supports.Touch&&b.targetTouches?
Ext.toArray(b.targetTouches):[b]))},handleTarget:function(a,b,c){var d=Ext.Element.data(a,"x-gestures")||[],e=d.length,f,g;for(f=0;f<e;f++){g=d[f];if(!!g.capture==!!c&&this.followTouches.length<g.touches&&(Ext.supports.Touch&&b.targetTouches?b.targetTouches.length===g.touches:!0)){this.startedChangedTouch=!0,this.startGesture(g),g.listenForStart&&g.onTouchStart(b,b.changedTouches?b.changedTouches[0]:b);if(b.stopped)break}}},startGesture:function(a){a.started=!0,this.currentGestures.push(a)},stopGesture:function(a){a.started=!1,this.currentGestures.remove(a)},addEventListener:function(a,b,c,d){a=Ext.getDom(a),d=d||{};var e=this.targets,f=this.getGestureName(b),g=Ext.Element.data(a,"x-gestures"),h;g||(g=[],Ext.Element.data(a,"x-gestures",g));if(!f)throw new Error("Trying to subscribe to unknown event "+b);e.indexOf(a)===-1&&this.targets.push(a),h=this.get(a.id+"-"+f),h||(h=this.create(Ext.apply({},d,{target:a,type:f})),g.push(h)),h.addListener(b,c),this.startedChangedTouch&&this.currentTargets.contains(a)&&!h.started&&!d.subsequent&&(this.startGesture(h),h.listenForStart&&h.onTouchStart(this.startEvent,this.startedTouches[0]))},removeEventListener:function(a,b,c){a=Ext.getDom(a);var d=this.getGestureName(b),e=Ext.Element.data(a,"x-gestures")||[],f;f=this.get(a.id+"-"+d);if(f){f.removeListener(b,c);for(d in f.listeners)return;f.destroy(),e.remove(f),Ext.Element.data(a,"x-gestures",e)}},getGestureName:function(a){return this.names&&this.names[a]},registerType:function(a,b){var c=b.prototype.handles,d,e;this.types[a]=b,b[this.typeName]=a,c||(c=b.prototype.handles=[a]),this.names=this.names||{};for(d=0,e=c.length;d<e;d++)this.names[c[d]]=a}}),Ext.regGesture=function(){return Ext.gesture.Manager.registerType.apply(Ext.gesture.Manager,arguments)},Ext.TouchEventObjectImpl=Ext.extend(Object,{constructor:function(a,b){a&&this.setEvent(a,b)},setEvent:function(a,b){return Ext.apply(this,{event:a,time:a.timeStamp}),this.touches=a.touches||[a],this.changedTouches=a.changedTouches||[a],this.targetTouches=a.targetTouches||[a],b?(this.target=b.target,Ext.apply(this,b)):this.target=a.target,this},stopEvent:function(){this.stopPropagation(),this.preventDefault()},stopPropagation:function(){this.event.stopped=!0},preventDefault:function(){this.event.preventDefault()},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target}}),Ext.TouchEventObject=new Ext.TouchEventObjectImpl,Ext.gesture.Gesture=Ext.extend(Object,{listenForStart:!0,listenForEnd:!0,listenForMove:!0,disableLocking:!1,touches:1,constructor:function(a){a=a||{},Ext.apply(this,a),this.target=Ext.getDom(this.target),this.listeners={};if(!this.target)throw new Error("Trying to bind a "+this.type+" event to element that does'nt exist: "+this.target);this.id=this.target.id+"-"+this.type,Ext.gesture.Gesture.superclass.constructor.call(this),Ext.gesture.Manager.register(this)},addListener:function(a,b){this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b)},removeListener:function(a,b){var c=this.listeners[a];if(c){c.remove(b),c.length==0&&delete this.listeners[a];for(a in this.listeners)if(this.listeners.hasOwnProperty(a))return;this.listeners={}}},fire:function(a,b,c){var d=this.listeners&&this.listeners[a],e=d&&d.length,f;if(!this.disableLocking&&this.isLocked(a))return!1;if(e){c=Ext.apply(c||{},{time:b.timeStamp,type:a,gesture:this,target:b.target.nodeType==3?b.target.parentNode:b.target});for(f=0;f<e;f++)d[f](b,c)}return!0},stop:function(){Ext.gesture.Manager.stopGesture(this)},lock:function(){if(!this.disableLocking){var a=arguments,b=a.length,c;for(c=0;c<b;c++)Ext.gesture.Manager.locks[a[c]]=this.id}},unlock:function(){if(!this.disableLocking){var a=arguments,b=a.length,c;for(c=0;c<b;c++)Ext.gesture.Manager.locks[a[c]]==this.id&&delete Ext.gesture.Manager.locks[a[c]]}},isLocked:function(a){var b=Ext.gesture.Manager.locks[a];return!!b&&b!==this.id},getLockingGesture:function(a){var b=Ext.gesture.Manager.locks[a];return b?Ext.gesture.Manager.get(b)||null:null},onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,destroy:function(){this.stop(),this.listeners=null,Ext.gesture.Manager.unregister(this)}}),Ext.gesture.Touch=Ext.extend(Ext.gesture.Gesture,{handles:["touchstart","touchmove","touchend","touchdown"],touchDownInterval:500,onTouchStart:function(a,b){this.startX=this.previousX=b.pageX,this.startY=this.previousY=b.pageY,this.startTime=this.previousTime=a.timeStamp,this.fire("touchstart",a),this.lastEvent=a,this.listeners&&this.listeners.touchdown&&(this.touchDownIntervalId=setInterval(Ext.createDelegate(this.touchDownHandler,this),this.touchDownInterval))},onTouchMove:function(a,b){this.fire("touchmove",a,this.getInfo(b)),this.lastEvent=a},onTouchEnd:function(a){this.fire("touchend",a,this.lastInfo),clearInterval(this.touchDownIntervalId)},touchDownHandler:function(){this.fire("touchdown",this.lastEvent,this.lastInfo)},getInfo:function(a){var b=Date.now(),c=a.pageX-this.startX,d=a.pageY-this.startY,e={startX:this.startX,startY:this.startY,previousX:this.previousX,previousY:this.previousY,pageX:a.pageX,pageY:a.pageY,deltaX:c,deltaY:d,absDeltaX:Math.abs(c),absDeltaY:Math.abs(d),previousDeltaX:a.pageX-this.previousX,previousDeltaY:a.pageY-this.previousY,time:b,startTime:this.startTime,previousTime:this.previousTime,deltaTime:b-this.startTime,previousDeltaTime:b-this.previousTime};return this.previousTime=e.time,this.previousX=e.pageX,this.previousY=e.pageY,this.lastInfo=e,e}}),Ext.regGesture("touch",Ext.gesture.Touch),Ext.gesture.Tap=Ext.extend(Ext.gesture.Gesture,{handles:["tapstart","tapcancel","tap","doubletap","taphold","singletap"],cancelThreshold:10,doubleTapThreshold:800,singleTapThreshold:400,holdThreshold:1e3,fireClickEvent:!1,onTouchStart:function(a,b){var c=this;c.startX=b.pageX,c.startY=b.pageY,c.fire("tapstart",a,c.getInfo(b)),this.listeners.taphold&&(c.timeout=setTimeout(function(){c.fire("taphold",a,c.getInfo(b)),delete c.timeout},c.holdThreshold)),c.lastTouch=b},onTouchMove:function(a,b){var c=this;c.isCancel(b)&&(c.fire("tapcancel",a,c.getInfo(b)),c.timeout&&(clearTimeout(c.timeout),delete c.timeout),c.stop()),c.lastTouch=b},onTouchEnd:function(a){var b=this,c=b.getInfo(b.lastTouch);this.fireTapEvent(a,c),b.lastTapTime&&a.timeStamp-b.lastTapTime<=b.doubleTapThreshold?(b.lastTapTime=null,a.preventDefault(),b.fire("doubletap",a,c)):b.lastTapTime=a.timeStamp,b.listeners&&b.listeners.singletap&&b.singleTapThreshold&&!b.preventSingleTap&&(b.fire("singletap",a,c),b.preventSingleTap=!0,setTimeout(function(){b.preventSingleTap=!1},b.singleTapThreshold)),b.timeout&&(clearTimeout(b.timeout),delete b.timeout)},fireTapEvent:function(a,b){this.fire("tap",a,b),a.event&&(a=a.event);var c=(a.changedTouches?a.changedTouches[0]:a).target;if(!c.disabled&&this.fireClickEvent){var d=document.createEvent("MouseEvent");d.initMouseEvent("click",a.bubbles,a.cancelable,document.defaultView,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.metaKey,a.button,a.relatedTarget),d.isSimulated=!0,c.dispatchEvent(d)}},getInfo:function(a){var b=a.pageX,c=a.pageY;return{pageX:b,pageY:c,startX:b,startY:c}},isCancel:function(a){var b=this;return Math.abs(a.pageX-b.startX)>=b.cancelThreshold||Math.abs(a.pageY-b.startY)>=b.cancelThreshold}}),Ext.regGesture("tap",Ext.gesture.Tap),Ext.gesture.Swipe=Ext.extend(Ext.gesture.Gesture,{listenForEnd:!1,swipeThreshold:35,swipeTime:1e3,onTouchStart:function(a,b){this.startTime=a.timeStamp,this.startX=b.pageX,this.startY=b.pageY,this.lock("scroll","scrollstart","scrollend")},onTouchMove:function(a,b){var c=b.pageY-this.startY,d=b.pageX-this.startX,e=Math.abs(c),f=Math.abs(d),g=a.timeStamp-this.startTime;e-f>3||g>this.swipeTime?(this.unlock("drag","dragstart","dragend"),this.stop()):f>this.swipeThreshold&&f>e&&(this.fire("swipe",a,{direction:d<0?"left":"right",distance:f,deltaTime:g,deltaX:d}),this.stop())}}),Ext.regGesture("swipe",Ext.gesture.Swipe),Ext.gesture.Drag=Ext.extend(Ext.gesture.Touch,{handles:["dragstart","drag","dragend"],dragThreshold:5,direction:"both",horizontal:!1,vertical:!1,constructor:function(){var a=this;return Ext.gesture.Drag.superclass.constructor.apply(a,arguments),a.direction=="both"?(a.horizontal=!0,a.vertical=!0):a.direction=="horizontal"?a.horizontal=!0:a.vertical=!0,a},onTouchStart:function(a,b){var c=this;c.startX=c.previousX=b.pageX,c.startY=c.previousY=b.pageY,c.startTime=c.previousTime=a.timeStamp,c.dragging=!1},onTouchMove:function(a,b){var c=this;if(c.isLocked("drag"))return;var d=c.getInfo(b);c.dragging?c.fire("drag",a,d):(!a.touches||a.touches.length<2)&&c.isDragging(d)&&c.fire("dragstart",a,d)&&(c.dragging=!0,c.lock("drag","dragstart","dragend"),c.fire("drag",a,d))},onTouchEnd:function(a){var b=this;b.dragging&&b.fire("dragend",a,b.lastInfo),b.dragging=!1},isDragging:function(a){var b=this;return b.horizontal&&a.absDeltaX>=b.dragThreshold||b.vertical&&a.absDeltaY>=b.dragThreshold},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}}),Ext.regGesture("drag",Ext.gesture.Drag),Ext.gesture.Pinch=Ext.extend(Ext.gesture.Gesture,{handles:["pinchstart","pinch","pinchend"],touches:2,onTouchStart:function(a){var b=this;if(this.isMultiTouch(a)){b.lock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap"),b.pinching=!0;var c=a.targetTouches;b.startFirstTouch=c[0],b.startSecondTouch=c[1],b.previousDistance=b.startDistance=b.getDistance(b.startFirstTouch,b.startSecondTouch),b.previousScale=1,b.fire("pinchstart",a,{distance:b.startDistance,scale:b.previousScale})}else b.pinching&&(b.unlock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap"),b.pinching=!1)},isMultiTouch:function(a){return a&&Ext.supports.Touch&&a.targetTouches&&a.targetTouches.length>1},onTouchMove:function(a){if(!this.isMultiTouch(a)){this.onTouchEnd(a);return}this.pinching&&this.fire("pinch",a,this.getPinchInfo(a))},onTouchEnd:function(a){this.pinching&&this.fire("pinchend",a)},getPinchInfo:function(a){var b=this,c=a.targetTouches,d=c[0],e=c[1],f=b.getDistance(d,e),g=f/b.startDistance,h={scale:g,deltaScale:g-1,previousScale:b.previousScale,previousDeltaScale:g-b.previousScale,distance:f,deltaDistance:f-b.startDistance,startDistance:b.startDistance,previousDistance:b.previousDistance,previousDeltaDistance:f-b.previousDistance,firstTouch:d,secondTouch:e,firstPageX:d.pageX,firstPageY:d.pageY,secondPageX:e.pageX,secondPageY:e.pageY,midPointX:(d.pageX+e.pageX)/2,midPointY:(d.pageY+e.pageY)/2};return b.previousScale=g,b.previousDistance=f,h},getDistance:function(a,b){return Math.sqrt(Math.pow(Math.abs(a.pageX-b.pageX),2)+Math.pow(Math.abs(a.pageY-b.pageY),2))}}),Ext.regGesture("pinch",Ext.gesture.Pinch),Ext.lib.Component=Ext.extend(Ext.util.Observable,{isComponent:!0,renderTpl:null,tplWriteMode:"overwrite",baseCls:"x-component",disabledCls:"x-item-disabled",hidden:!1,disabled:!1,draggable:!1,floating:!1,styleHtmlContent:!1,styleHtmlCls:"x-html",allowDomMove:!0,autoShow:!1,autoRender:!1,needsLayout:!1,rendered:!1,constructor:function(a){a=a||{},this.initialConfig=a,Ext.apply(this,a),this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move","beforestaterestore","staterestore","beforestatesave","statesave"),this.getId(),this.mons=[],this.additionalCls=[],this.renderData=this.renderData||{},this.renderSelectors=this.renderSelectors||{},this.initComponent(),Ext.ComponentMgr.register(this),Ext.lib.Component.superclass.constructor.call(this);if(this.plugins){this.plugins=[].concat(this.plugins);for(var b=0,c=this.plugins.length;b<c;b++)this.plugins[b]=this.initPlugin(this.plugins[b])}this.applyTo?(this.applyToMarkup(this.applyTo),delete this.applyTo):this.renderTo&&(this.render(this.renderTo),delete this.renderTo);if(Ext.isDefined(this.disabledClass))throw"Component: disabledClass has been deprecated. Please use disabledCls."},initComponent:Ext.emptyFn,applyToMarkup:Ext.emptyFn,show:Ext.emptyFn,onShow:function(){var a=this.needsLayout;Ext.isObject(a)&&this.doComponentLayout(a.width,a.height,a.isSetSize)},initPlugin:function(a){return a.ptype&&typeof a.init!="function"?a=Ext.PluginMgr.create(a):typeof a=="string"&&(a=Ext.PluginMgr.create({ptype:a})),a.init(this),a},render:function(a,b){return!this.rendered&&this.fireEvent("beforerender",this)!==!1&&(this.el&&(this.el=Ext.get(this.el)),a=this.initContainer(a),this.onRender(a,b),this.fireEvent("render",this),this.initContent(),this.afterRender(a),this.fireEvent("afterrender",this),this.initEvents(),this.autoShow&&this.show(),this.hidden&&this.onHide(!1),this.disabled&&this.disable(!0)),this},onRender:function(a,b){var c=this.el,d,e;b=this.getInsertPosition(b),c?this.allowDomMove!==!1&&a.dom.insertBefore(c.dom,b):b?c=Ext.DomHelper.insertBefore(b,this.getElConfig(),!0):c=Ext.DomHelper.append(a,this.getElConfig(),!0),c.addCls(this.initCls()),c.setStyle(this.initStyles()),d=this.initRenderTpl(),d&&(e=this.initRenderData(),d.append(c,e)),this.el=c,this.applyRenderSelectors(),this.rendered=!0},initCls:function(){var a=[this.baseCls];return this.componentCls?a.push(this.componentCls):this.componentCls=this.baseCls,this.cls&&(a.push(this.cls),delete this.cls),this.ui&&a.push(this.componentCls+"-"+this.ui),a.concat(this.additionalCls)},afterRender:function(){this.getComponentLayout(),(this.x||this.y)&&this.setPosition(this.x,this.y),this.styleHtmlContent&&this.getTargetEl().addCls(this.styleHtmlCls),this.ownerCt||this.setSize(this.width,this.height)},getElConfig:function(){return{tag:"div",id:this.id}},getInsertPosition:function(a){return a!==undefined&&(Ext.isNumber(a)?a=this.container.dom.childNodes[a]:a=Ext.getDom(a)),a},initContainer:function(a){return!a&&this.el&&(a=this.el.dom.parentNode,this.allowDomMove=!1),this.container=Ext.get(a),this.ctCls&&this.container.addCls(this.ctCls),this.container},initRenderData:function(){return Ext.applyIf(this.renderData,{baseCls:this.baseCls,componentCls:this.componentCls})},initRenderTpl:function(){var a=this.renderTpl;if(a)if(this.proto.renderTpl!==a){if(Ext.isArray(a)||typeof a=="string")a=new Ext.XTemplate(a)}else Ext.isArray(this.proto.renderTpl)&&(a=this.proto.renderTpl=new Ext.XTemplate(a));return a},initStyles:function(){var a={},b=Ext.Element,c,d,e,f;if(Ext.isString(this.style)){e=this.style.split(";");for(c=0,d=e.length;c<d;c++)Ext.isEmpty(e[c])||(f=e[c].split(":"),a[Ext.util.Format.trim(f[0])]=Ext.util.Format.trim(f[1]))}else a=Ext.apply({},this.style);return this.padding!=undefined&&(a.padding=b.unitizeBox(this.padding===!0?5:this.padding)),this.margin!=undefined&&(a.margin=b.unitizeBox(this.margin===!0?5:this.margin)),this.border!=undefined&&(a.borderWidth=b.unitizeBox(this.border===!0?1:this.border)),delete this.style,a},initContent:function(){var a=this.getTargetEl();this.html&&(a.update(Ext.DomHelper.markup(this.html)),delete this.html);if(this.contentEl){var b=Ext.get(this.contentEl);b.show(),a.appendChild(b.dom)}this.tpl&&(this.tpl.isTemplate||(this.tpl=new Ext.XTemplate(this.tpl)),this.data&&(this.tpl[this.tplWriteMode](a,this.data),delete this.data))},initEvents:function(){var a=this.afterRenderEvents,b,c;if(a)for(b in a){if(!a.hasOwnProperty(b))continue;c=a[b],this[b]&&this[b].on&&this.mon(this[b],c)}},applyRenderSelectors:function(){var a=this.renderSelectors||{},b=this.el.dom,c;for(c in a){if(!a.hasOwnProperty(c))continue;this[c]=Ext.get(Ext.DomQuery.selectNode(a[c],b))}},is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a){var b=this.ownerCt;if(a)for(;b;b=b.ownerCt)if(Ext.ComponentQuery.is(b,a))return b;return b},nextSibling:function(a){var b=this.ownerCt,c,d,e,f;if(b){c=b.items,e=c.indexOf(this)+1;if(e)if(a){for(d=c.getCount();e<d;e++)if((f=c.getAt(e)).is(a))return f}else if(e<c.getCount())return c.getAt(e)}return null},previousSibling:function(a){var b=this.ownerCt,c,d,e;if(b){c=b.items,d=c.indexOf(this);if(d!=-1)if(a){for(--d;d>=0;d--)if((e=c.getAt(d)).is(a))return e}else if(d)return c.getAt(--d)}return null},getId:function(){return this.id||(this.id="ext-comp-"+ ++Ext.lib.Component.AUTO_ID)},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.el},isXType:function(a,b){return Ext.isFunction(a)?a=a.xtype:Ext.isObject(a)&&(a=a.constructor.xtype),b?this.constructor.xtype==a:("/"+this.getXTypes()+"/").indexOf("/"+a+"/")!=-1},getXTypes:function(){var a=this.constructor,b=[],c=this,d;if(!a.xtypes){while(c)d=c.constructor.xtype,d!=undefined&&b.unshift(d),c=c.constructor.superclass;a.xtypeChain=b,a.xtypes=b.join("/")}return a.xtypes},update:function(a,b,c){this.tpl&&!Ext.isString(a)?(this.data=a,this.rendered&&this.tpl[this.tplWriteMode](this.getTargetEl(),a||{})):(this.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a,this.rendered&&this.getTargetEl().update(this.html,b,c)),this.rendered&&this.doComponentLayout()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){var a=!this.hidden,b=this.ownerCt;this.hiddenOwnerCt=!1;if(this.destroyed)return!1;if(a&&this.rendered&&b)while(b){if(b.hidden||b.collapsed){this.hiddenOwnerCt=b,a=!1;break}b=b.ownerCt}return a},enable:function(a){return this.rendered&&(this.el.removeCls(this.disabledCls),this.el.dom.disabled=!1,this.onEnable()),this.disabled=!1,a!==!0&&this.fireEvent("enable",this),this},disable:function(a){return this.rendered&&(this.el.addCls(this.disabledCls),this.el.dom.disabled=!0,this.onDisable()),this.disabled=!0,a!==!0&&this.fireEvent("disable",this),this},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var a=this,b=Ext.toArray(arguments);return a.rendered?a.el.addCls(b):a.additionalCls=a.additionalCls.concat(b),a},addClass:function(){throw"Component: addClass has been deprecated. Please use addCls."},removeCls:function(){var a=this,b=Ext.toArray(arguments);return a.rendered?a.el.removeCls(b):a.additionalCls.length&&Ext.each(b,function(b){a.additionalCls.remove(b)}),a},removeClass:function(){throw"Component: removeClass has been deprecated. Please use removeCls."},addListener:function(a,b,c,d){if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){var e=b,f;b={},b[a]=e,a=d.element,c&&(b.scope=c);for(f in d){if(!d.hasOwnProperty(f))continue;this.eventOptionsRe.test(f)&&(b[f]=d[f])}}this[a]&&this[a].on?this.mon(this[a],b):(this.afterRenderEvents=this.afterRenderEvents||{},this.afterRenderEvents[a]=b)}return Ext.lib.Component.superclass.addListener.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){this.ownerCt=a,this.fireEvent("added",this,a,b)},onRemoved:function(){this.fireEvent("removed",this,this.ownerCt),delete this.ownerCt},onEnable:Ext.emptyFn,onDisable:Ext.emptyFn,beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(a,b){Ext.isObject(a)&&(b=a.height,a=a.width);if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this),c.add(this)}return this.needsLayout={width:a,height:b,isSetSize:!0},this.rendered||(this.width=a!==undefined?a:this.width,this.height=b!==undefined?b:this.height),this}return this.doComponentLayout(a,b,!0),this},setCalculatedSize:function(a,b){Ext.isObject(a)&&(b=a.height,a=a.width);if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this),c.add(this)}return this.needsLayout={width:a,height:b,isSetSize:!1},this}return this.doComponentLayout(a,b),this},doComponentLayout:function(a,b,c){var d=this.getComponentLayout();return this.rendered&&d&&(a=a!==undefined||this.collapsed===!0?a:this.width,b=b!==undefined||this.collapsed===!0?b:this.height,c&&(this.width=a,this.height=b),d.layout(a,b)),this},setComponentLayout:function(a){var b=this.componentLayout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.componentLayout=a,a.setOwner(this)},getComponentLayout:function(){return(!this.componentLayout||!this.componentLayout.isLayout)&&this.setComponentLayout(Ext.layout.LayoutManager.create(this.componentLayout,"autocomponent")),this.componentLayout},afterComponentLayout:Ext.emptyFn,setPosition:function(a,b){Ext.isObject(a)&&(b=a.y,a=a.x);if(!this.rendered)return this;if(a!==undefined||b!==undefined)this.el.setBox(a,b),this.onPosition(a,b),this.fireEvent("move",this,a,b);return this},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},setLoading:function(a,b){return this.rendered&&(a?(this.loadMask=this.loadMask||new Ext.LoadMask(b?this.getTargetEl():this.el,Ext.applyIf(Ext.isObject(a)?a:{})),this.loadMask.show()):(Ext.destroy(this.loadMask),this.loadMask=null)),this.loadMask},setDocked:function(a,b){return this.dock=a,b&&this.ownerCt&&this.rendered&&this.ownerCt.doComponentLayout(),this},onDestroy:function(){this.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(this.setSize,this),Ext.destroy(this.componentLayout,this.loadMask)},destroy:function(){this.isDestroyed||this.fireEvent("beforedestroy",this)!==!1&&(this.destroying=!0,this.beforeDestroy(),this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,!1),this.rendered&&this.el.remove(),this.onDestroy(),Ext.ComponentMgr.unregister(this),this.fireEvent("destroy",this),this.clearListeners(),this.destroying=!1,this.isDestroyed=!0)}}),Ext.lib.Component.prototype.on=Ext.lib.Component.prototype.addListener,Ext.lib.Component.prototype.prev=Ext.lib.Component.prototype.previousSibling,Ext.lib.Component.prototype.next=Ext.lib.Component.prototype.nextSibling,Ext.lib.Component.AUTO_ID=1e3,Ext.Component=Ext.extend(Ext.lib.Component,{}),Ext.reg("component",Ext.Component),Ext.Component=Ext.extend(Ext.lib.Component,{showAnimation:null,monitorOrientation:!1,floatingCls:"x-floating",hideOnMaskTap:!0,stopMaskTapEvent:!0,centered:!1,modal:!1,fullscreen:!1,layoutOnOrientationChange:null,initComponent:function(){this.addEvents("beforeorientationchange","orientationchange");if(this.fullscreen||this.floating)this.monitorOrientation=!0,this.autoRender=!0;if(this.fullscreen){var a=Ext.Viewport.getSize();this.width=a.width,this.height=a.height,this.cls=(this.cls||"")+" x-fullscreen",this.renderTo=document.body}},onRender:function(){Ext.Component.superclass.onRender.apply(this,arguments),this.monitorOrientation&&this.el.addCls("x-"+Ext.Viewport.orientation),this.floating&&this.setFloating(!0),this.draggable&&this.setDraggable(this.draggable),this.scroll&&this.setScrollable(this.scroll)},afterRender:function(){this.fullscreen&&this.layoutOrientation(Ext.Viewport.orientation,this.width,this.height),Ext.Component.superclass.afterRender.call(this)},initEvents:function(){Ext.Component.superclass.initEvents.call(this),this.monitorOrientation&&Ext.EventManager.onOrientationChange(this.setOrientation,this)},afterComponentLayout:function(){var a=this.scrollEl,b=this.scroller,c;a&&(c=a.parent(),b.horizontal&&(a.setStyle("min-width",c.getWidth(!0)+"px"),a.setHeight(c.getHeight(!0)||null)),b.vertical&&(a.setStyle("min-height",c.getHeight(!0)+"px"),a.setWidth(c.getWidth(!0)||null)),b.updateBoundary(!0)),this.fullscreen&&Ext.is.iPad&&Ext.repaint()},layoutOrientation:Ext.emptyFn,update:function(){Ext.Component.superclass.update.apply(this,arguments);var a=this.scroller;a&&a.updateBoundary&&a.updateBoundary(!0)},show:function(a){var b=this.rendered;return(this.hidden||!b)&&this.fireEvent("beforeshow",this)!==!1&&(this.anchorEl&&this.anchorEl.hide(),!b&&this.autoRender&&this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender),this.hidden=!1,this.rendered&&(this.onShow(a),this.fireEvent("show",this))),this},showBy:function(a,b,c,d){if(!this.floating)return this;a.isComponent?a=a.el:a=Ext.get(a),this.x=0,this.y=0,this.show(b),d!==!1&&(this.anchorEl||(this.anchorEl=this.el.createChild({cls:"x-anchor"})),this.anchorEl.show()),this.alignTo(a,c,20)},alignTo:function(a,b,c){var d=a.getPageBox(),e={width:window.innerWidth,height:window.innerHeight},f=this.getSize(),g={width:Math.min(f.width,e.width),height:Math.min(f.height,e.height)},h,i=2,j=["tl-bl","t-b","tr-br","l-r","l-r","r-l","bl-tl","b-t","br-tr"],k=this.anchorEl,l=[0,c],m,n,o=!1,p=[0,0],q=d.left+d.width/2,r=d.top+d.height/2;return q<=e.width*(1/3)?(i=1,p[0]=25):q>=e.width*(2/3)&&(i=3,p[0]=-30),r>=e.height*(2/3)?(i+=6,l=[0,-c],p[1]=-10):b!==!1&&r>=e.height*(1/3)?(i+=3,l=i<=5?[c,0]:[-c,0],p=i<=5?[10,0]:[-10,0],o=!0):p[1]=10,h=j[i-1],m=this.el.getAlignToXY(a,h,l),o?m[0]<0?g.width=d.left-c:m[0]+g.width>e.width&&(g.width=e.width-d.right-c):m[1]<0?g.height=d.top-c:m[1]+g.height>e.height&&(g.height=e.height-d.bottom-c),g.width!=f.width?this.setSize(g.width):g.height!=f.height&&this.setSize(undefined,g.height),m=this.el.getAlignToXY(a,h,l),this.setPosition(m[0],m[1]),k&&(k.removeCls(["x-anchor-bottom","x-anchor-left","x-anchor-right","x-anchor-top"]),l[1]==c?n="x-anchor-top":l[1]==-c?n="x-anchor-bottom":l[0]==c?n="x-anchor-left":n="x-anchor-right",m=k.getAlignToXY(a,h,p),k.setXY(m),k.addCls(n)),h},setCentered:function(a,b){this.centered=a;if(this.rendered&&b){var c,d;this.ownerCt?(c=this.ownerCt.getTargetEl().getWidth()/2-this.getWidth()/2,d=this.ownerCt.getTargetEl().getHeight()/2-this.getHeight()/2):(c=Ext.Element.getViewportWidth()/2-this.getWidth()/2,d=Ext.Element.getViewportHeight()/2-this.getHeight()/2),this.setPosition(c,d)}return this},hide:function(a){return!this.hidden&&this.fireEvent("beforehide",this)!==!1&&(this.hidden=!0,this.rendered&&this.onHide(a,!0)),this},onShow:function(a){this.el.show(),Ext.Component.superclass.onShow.call(this,a);if(a===undefined||a===!0)a=this.showAnimation;this.floating&&(this.el.dom.parentNode||this.el.appendTo(document.body),a&&this.el.setStyle("opacity",.01),this.centered?this.setCentered(!0,!0):this.setPosition(this.x,this.y),this.modal&&this.el.parent().mask(null,"x-mask-gray"),this.hideOnMaskTap&&Ext.getDoc().on("touchstart",this.onFloatingTouchStart,this,{capture:!0,subsequent:!0})),a&&(Ext.Anim.run(this,a,{out:!1,autoClear:!0}),this.showAnimation=a)},onFloatingTouchStart:function(a){this.el.contains(a.target)||(this.hide(),(this.stopMaskTapEvent||Ext.fly(a.target).hasCls("x-mask"))&&a.stopEvent())},onHide:function(a,b){if(a===undefined||a===!0)a=this.showAnimation;this.hideOnMaskTap&&this.floating&&Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this,{capture:!0,subsequent:!0}),a?Ext.Anim.run(this,a,{out:!0,reverse:!0,autoClear:!0,scope:this,fireHideEvent:b,after:this.doHide}):this.doHide(null,{fireHideEvent:b})},doHide:function(a,b){var c=this.el.parent();this.el.hide(),c&&this.floating&&this.modal&&c.unmask(),b&&b.fireHideEvent&&this.fireEvent("hide",this)},setScrollable:function(a){var b=this,c;if(!b.rendered){b.scroll=a;return}Ext.destroy(b.scroller),b.scroller=null,b.originalGetTargetEl&&(b.getTargetEl=b.originalGetTargetEl),a!==!1&&(c=Ext.isObject(a)?a.direction:a,a=Ext.apply({},Ext.isObject(a)?a:{},{direction:c}),b.scrollEl||(b.scrollEl=b.getTargetEl().createChild()),b.originalGetTargetEl=b.getTargetEl,b.getTargetEl=function(){return b.scrollEl},b.scroller=(new Ext.util.ScrollView(b.scrollEl,a)).scroller)},setFloating:function(a,b){this.floating=!!a,this.hidden=!0,this.rendered?a!==!1?(this.el.addCls(this.floatingCls),b&&this.show()):(this.el.removeCls(this.floatingCls),Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this)):a!==!1&&(this.layoutOnOrientationChange!==!1&&(this.layoutOnOrientationChange=!0),this.autoRender=!0)},setDraggable:function(a,b){this.isDraggable=a,this.rendered&&(a===!1?this.dragObj&&this.dragObj.disable():(b&&this.show(),this.dragObj?this.dragObj.enable():(this.dragObj=new Ext.util.Draggable(this.el,Ext.apply({},this.draggable||{})),this.relayEvents(this.dragObj,["dragstart","beforedragend","drag","dragend"]))))},setOrientation:function(a,b,c){this.fireEvent("beforeorientationchange",this,a,b,c)!==!1&&(this.orientation!=a&&(this.el.removeCls("x-"+this.orientation),this.el.addCls("x-"+a)),this.orientation=a,this.layoutOrientation(a,b,c),this.fullscreen?this.setSize(b,c):this.layoutOnOrientationChange&&this.doComponentLayout(),this.floating&&this.centered&&this.setCentered(!0,!0),this.onOrientationChange(a,b,c),this.fireEvent("orientationchange",this,a,b,c))},onOrientationChange:Ext.emptyFn,beforeDestroy:function(){this.floating&&this.modal&&!this.hidden&&this.el.parent().unmask(),Ext.destroy(this.scroller),Ext.Component.superclass.beforeDestroy.call(this)},onDestroy:function(){this.monitorOrientation&&Ext.EventManager.orientationEvent&&Ext.EventManager.orientationEvent.removeListener(this.setOrientation,this),Ext.Component.superclass.onDestroy.call(this)}}),Ext.BoxComponent=Ext.Component,Ext.reg("component",Ext.Component),Ext.reg("box",Ext.BoxComponent),Ext.lib.Container=Ext.extend(Ext.Component,{autoDestroy:!0,defaultType:"panel",isContainer:!0,baseCls:"x-container",bubbleEvents:["add","remove"],initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove","beforecardswitch","cardswitch"),this.layoutOnShow=new Ext.util.MixedCollection,Ext.lib.Container.superclass.initComponent.call(this),this.initItems()},initItems:function(){var a=this.items;this.items=new Ext.util.MixedCollection(!1,this.getComponentId),a&&(Ext.isArray(a)||(a=[a]),this.add(a))},afterRender:function(){this.getLayout(),Ext.lib.Container.superclass.afterRender.apply(this,arguments)},setLayout:function(a){var b=this.layout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.layout=a,a.setOwner(this)},getLayout:function(){return(!this.layout||!this.layout.isLayout)&&this.setLayout(Ext.layout.LayoutManager.create(this.layout,"autocontainer")),this.layout},doLayout:function(){var a=this.getLayout();return this.rendered&&a&&a.layout(),this},afterLayout:function(a){this.fireEvent("afterlayout",this,a)},prepareItems:function(a,b){Ext.isArray(a)||(a=[a]);var c,d,e;for(d=0,e=a.length;d<e;d++)c=a[d],b&&(c=this.applyDefaults(c)),a[d]=this.lookupComponent(c);return a},applyDefaults:function(a){var b=this.defaults;return b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)?(a=Ext.ComponentMgr.get(a),Ext.apply(a,b)):a.isComponent?Ext.apply(a,b):Ext.applyIf(a,b)),a},lookupComponent:function(a){return Ext.isString(a)?Ext.ComponentMgr.get(a):this.createComponent(a)},createComponent:function(a,b){return a.isComponent?a:Ext.create(a,b||this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var a=Array.prototype.slice.call(arguments),b=-1;typeof a[0]=="number"&&(b=a.shift());var c=a.length>1;if(c||Ext.isArray(a[0])){var d=c?a:a[0],e=[],f,g,h;for(f=0,g=d.length;f<g;f++){h=d[f];if(!h)throw"Trying to add a null item as a child of Container with itemId/id: "+this.getItemId();b!=-1?h=this.add(b+f,h):h=this.add(h),e.push(h)}return e}var i=this.prepareItems(a[0],!0)[0];return b=b!==-1?b:this.items.length,this.fireEvent("beforeadd",this,i,b)!==!1&&this.onBeforeAdd(i)!==!1&&(this.items.insert(b,i),i.onAdded(this,b),this.onAdd(i,b),this.fireEvent("add",this,i,b)),i},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){return this.add(a,b)},onBeforeAdd:function(a){a.ownerCt&&a.ownerCt.remove(a,!1),this.hideBorders===!0&&(a.border=a.border===!0)},remove:function(a,b){var c=this.getComponent(a);return c||console.warn("Attempted to remove a component that does not exist. Ext.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage."),c&&this.fireEvent("beforeremove",this,c)!==!1&&(this.doRemove(c,b),this.fireEvent("remove",this,c)),c},doRemove:function(a,b){var c=this.layout,d=c&&this.rendered;this.items.remove(a),a.onRemoved(),d&&c.onRemove(a),this.onRemove(a,b),(b===!0||b!==!1&&this.autoDestroy)&&a.destroy(),d&&!b&&c.afterRemove(a)},removeAll:function(a){var b,c=this.items.items.slice(),d=[],e=c.length,f;for(f=0;f<e;f++)b=c[f],this.remove(b,a),b.ownerCt!==this&&d.push(b);return d},getRefItems:function(a){var b=this.items.items.slice(),c=b.length,d,e;if(a)for(d=0;d<c;d++)e=b[d],e.getRefItems&&(b=b.concat(e.getRefItems(!0)));return b},getComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.items.get(a)},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this
.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},show:function(){Ext.lib.Container.superclass.show.apply(this,arguments);var a=this.layoutOnShow,b=a.getCount(),c=0,d,e;for(;c<b;c++)e=a.get(c),d=e.needsLayout,Ext.isObject(d)&&e.doComponentLayout(d.width,d.height,d.isSetSize);a.clear()},beforeDestroy:function(){var a=this.items,b;if(a)while(b=a.first())this.doRemove(b,!0);Ext.destroy(this.layout),Ext.lib.Container.superclass.beforeDestroy.call(this)}}),Ext.Container=Ext.extend(Ext.lib.Container,{}),Ext.reg("container",Ext.Container),Ext.Container=Ext.extend(Ext.lib.Container,{cardSwitchAnimation:null,initComponent:function(){this.scroll&&(this.fields=new Ext.util.MixedCollection,Ext.is.Blackberry||this.fields.on({add:this.onFieldAdd,remove:this.onFieldRemove,scope:this}),this.on({add:this.onItemAdd,remove:this.onItemRemove,scope:this})),Ext.Container.superclass.initComponent.apply(this,arguments)},afterRender:function(){Ext.Container.superclass.afterRender.apply(this,arguments),this.scroller&&(Ext.is.Android&&this.containsFormFields&&this.scroller.setUseCssTransform(!1),this.scroller.on("scrollstart",this.onFieldScrollStart,this))},onFieldScrollStart:function(){var a=this.focusedField;a&&Ext.is.iOS&&a.blur()},onItemAdd:function(a,b){this.fields.addAll(Ext.ComponentQuery.query("[isField]",b))},onItemRemove:function(a,b){this.fields.removeAll(Ext.ComponentQuery.query("[isField]",b))},onFieldAdd:function(a,b){this.handleFieldEventListener(!0,b)},onFieldRemove:function(a,b){this.handleFieldEventListener(!1,b)},handleFieldEventListener:function(a,b){this.fieldEventWrap||(this.fieldEventWrap={}),["textfield","passwordfield","emailfield","textareafield","searchfield","urlfield","numberfield","spinnerfield"].indexOf(b.xtype)!==-1&&(a&&(this.fieldEventWrap[b.id]={beforefocus:function(a){this.onFieldBeforeFocus(b,a)},focus:function(a){this.onFieldFocus(b,a)},blur:function(a){this.onFieldBlur(b,a)},keyup:function(a){this.onFieldKeyUp(b,a)},scope:this},this.containsFormFields=!0),b[a?"on":"un"](this.fieldEventWrap[b.id]),a||delete this.fieldEventWrap[b.id])},onFieldKeyUp:function(a,b){(Ext.is.iOS||Ext.is.Desktop)&&this.resetLastWindowScroll()},onFieldBeforeFocus:function(a,b){this.focusingField=a},getLastWindowScroll:function(){return this.lastWindowScroll||this.resetLastWindowScroll(),{x:this.lastWindowScroll.x,y:this.lastWindowScroll.y}},resetLastWindowScroll:function(){this.lastWindowScroll={x:window.pageXOffset,y:window.pageYOffset}},adjustScroller:function(a){var b=this.getClosestScroller(),c=this.getLastWindowScroll();b.setOffset(a),Ext.is.iOS&&window.scrollTo(c.x,c.y),this.resetLastWindowScroll()},onFieldFocus:function(a,b){if(!Ext.is.iOS&&!Ext.is.Desktop){var c=a.fieldEl.dom;c.scrollIntoViewIfNeeded&&c.scrollIntoViewIfNeeded(!0)}else{var d=this.getClosestScroller(),e=Ext.util.Region.from(d.containerBox),f=a.fieldEl.getPageBox(!0);if(this.focusingField==a||!Ext.is.iOS){Ext.is.iOS&&window.pageYOffset==0&&window.scrollTo(0,0);var g=new Ext.util.Offset;f.left<e.left&&(g.x=e.left-f.left),f.top<e.top&&(g.y=e.top-f.top);if(!g.isZero()){var h=this.getLastWindowScroll();d.scrollBy(g),Ext.is.iOS&&window.scrollTo(h.x,h.y),this.resetLastWindowScroll()}}else if(this.lastFocusedField){var i=f.top-this.lastFocusedField.fieldEl.getY(),j=d.offset.y-i,k=!1;!e.contains(f)&&(j!=0||j==0&&d.offset.y!=0)&&(k=!0),j>0&&(j=0),k&&this.adjustScroller(new Ext.util.Offset(d.offset.x,j))}this.resetLastWindowScroll()}this.lastFocusedField=a,this.focusedField=a,this.focusingField=null},getClosestScroller:function(){return this.closestScroller||(this.closestScroller=this.scroller||this.el.getScrollParent()),this.closestScroller},onFieldBlur:function(a,b){this.focusingField==a&&(this.focusingField=null),this.focusedField==a&&(this.focusedField=null)},afterLayout:function(a){this.floating&&this.centered&&this.setCentered(!0,!0),this.scroller&&this.scroller.updateBoundary(),Ext.Container.superclass.afterLayout.call(this,a)},getActiveItem:function(){return this.layout&&this.layout.type=="card"?this.layout.activeItem:null},setActiveItem:function(a,b){return this.layout.setActiveItem(a,b),this},onBeforeCardSwitch:function(a,b,c,d){return this.fireEvent("beforecardswitch",this,a,b,c,d)},onCardSwitch:function(a,b,c,d){return this.fireEvent("cardswitch",this,a,b,c,d)},disable:function(){Ext.Container.superclass.disable.call(this),this.el.mask(null,"x-mask-gray")},enable:function(){Ext.Container.superclass.enable.call(this),this.el.unmask()}}),Ext.reg("container",Ext.Container),Ext.lib.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",isPanel:!0,componentLayout:"dock",renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){this.addEvents("bodyresize"),Ext.applyIf(this.renderSelectors,{body:"."+this.baseCls+"-body"}),Ext.lib.Panel.superclass.initComponent.call(this)},initItems:function(){Ext.lib.Panel.superclass.initItems.call(this);var a=this.dockedItems;this.dockedItems=new Ext.util.MixedCollection(!1,this.getComponentId),a&&this.addDocked(a)},getDockedComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.dockedItems.get(a)},getComponent:function(a){var b=Ext.lib.Panel.superclass.getComponent.call(this,a);return b==undefined&&(b=this.getDockedComponent(a)),b},initBodyStyles:function(){var a=Ext.isString(this.bodyStyle)?this.bodyStyle.split(";"):[],b=Ext.Element;return this.bodyPadding!=undefined&&a.push("padding: "+b.unitizeBox(this.bodyPadding===!0?5:this.bodyPadding)),this.bodyMargin!=undefined&&a.push("margin: "+b.unitizeBox(this.bodyMargin===!0?5:this.bodyMargin)),this.bodyBorder!=undefined&&a.push("border-width: "+b.unitizeBox(this.bodyBorder===!0?1:this.bodyBorder)),delete this.bodyStyle,a.length?a.join(";"):undefined},initRenderData:function(){return Ext.applyIf(Ext.lib.Panel.superclass.initRenderData.call(this),{bodyStyle:this.initBodyStyles(),bodyCls:this.bodyCls})},addDocked:function(a,b){a=this.prepareItems(a);var c,d,e;for(d=0,e=a.length;d<e;d++)c=a[d],c.dock=c.dock||"top",b!==undefined?this.dockedItems.insert(b+d,c):this.dockedItems.add(c),c.onAdded(this,d),this.onDockedAdd(c);this.rendered&&this.doComponentLayout()},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(a,b){this.addDocked(b,a)},removeDocked:function(a,b){if(!this.dockedItems.contains(a))return a;var c=this.componentLayout,d=c&&this.rendered;return d&&c.onRemove(a),this.dockedItems.remove(a),a.onRemoved(),this.onDockedRemove(a),(b===!0||b!==!1&&this.autoDestroy)&&a.destroy(),d&&!b&&c.afterRemove(a),this.doComponentLayout(),a},getDockedItems:function(){return this.dockedItems&&this.dockedItems.items.length?this.dockedItems.items.slice():[]},getTargetEl:function(){return this.body},getRefItems:function(a){var b=Ext.lib.Panel.superclass.getRefItems.call(this,a),c=this.getDockedItems(),d=c.length,e=0,f;b=b.concat(c);if(a)for(;e<d;e++)f=c[e],f.getRefItems&&(b=b.concat(f.getRefItems(!0)));return b},beforeDestroy:function(){var a=this.dockedItems,b;if(a)while(b=a.first())this.removeDocked(b,!0);Ext.lib.Panel.superclass.beforeDestroy.call(this)}}),Ext.Panel=Ext.extend(Ext.lib.Panel,{}),Ext.reg("panel",Ext.Panel),Ext.Panel=Ext.extend(Ext.lib.Panel,{scroll:!1}),Ext.reg("panel",Ext.Panel),Ext.Button=Ext.extend(Ext.Component,{initComponent:function(){this.addEvents("tap","beforetap"),Ext.Button.superclass.initComponent.call(this),this.createAutoHandler()},iconAlign:"left",baseCls:"x-button",pressedCls:"x-button-pressed",badgeText:"",badgeCls:"x-badge",hasBadgeCls:"x-hasbadge",labelCls:"x-button-label",ui:"normal",isButton:!0,pressedDelay:0,iconMaskCls:"x-icon-mask",iconMask:!1,afterRender:function(a,b){var c=this;Ext.Button.superclass.afterRender.call(c,a,b);var d=c.text,e=c.icon,f=c.iconCls,g=c.badgeText;c.text=c.icon=c.iconCls=c.badgeText=null,c.setText(d),c.setIcon(e),c.setIconClass(f),c.iconMask&&c.iconEl&&c.iconEl.addCls(c.iconMaskCls),c.setBadge(g)},initEvents:function(){var a=this;Ext.Button.superclass.initEvents.call(a),a.mon(a.el,{scope:a,tap:a.onPress,tapstart:a.onTapStart,tapcancel:a.onTapCancel})},onTapStart:function(){var a=this;a.disabled||(a.pressedDelay?a.pressedTimeout=setTimeout(function(){a.el.addCls(a.pressedCls)},Ext.isNumber(a.pressedDelay)?a.pressedDelay:100):a.el.addCls(a.pressedCls))},onTapCancel:function(){var a=this;a.pressedTimeout&&(clearTimeout(a.pressedTimeout),delete a.pressedTimeout),a.el.removeCls(a.pressedCls)},setHandler:function(a,b){return this.handler=a,this.scope=b,this},setText:function(a){var b=this;return b.rendered&&(!b.textEl&&a?b.textEl=b.el.createChild({tag:"span",html:a,cls:this.labelCls}):b.textEl&&a!=b.text&&(a?b.textEl.setHTML(a):(b.textEl.remove(),b.textEl=null))),b.text=a,b},setIcon:function(a){var b=this;return b.rendered&&(!b.iconEl&&a?(b.iconEl=b.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,style:"background-image: "+(a?"url("+a+")":"")}),b.setIconAlign(b.iconAlign)):b.iconEl&&a!=b.icon&&(a?(b.iconEl.setStyle("background-image",a?"url("+a+")":""),b.setIconAlign(b.iconAlign)):(b.setIconAlign(!1),b.iconEl.remove(),b.iconEl=null))),b.icon=a,b},setIconClass:function(a){var b=this;return b.rendered&&(!b.iconEl&&a?(b.iconEl=b.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:a}),b.setIconAlign(b.iconAlign)):b.iconEl&&a!=b.iconCls&&(a?(b.iconCls&&b.iconEl.removeCls(b.iconCls),b.iconEl.addCls(a),b.setIconAlign(b.iconAlign)):(b.setIconAlign(!1),b.iconEl.remove(),b.iconEl=null))),b.iconCls=a,b},setIconAlign:function(a){var b=this,c=["top","right","bottom","left"],a=c.indexOf(a)!=-1&&!!a||a===!1?a:b.iconAlign,d;return b.rendered&&b.iconEl&&(b.el.removeCls("x-iconalign-"+b.iconAlign),a&&b.el.addCls("x-iconalign-"+a)),b.iconAlign=a===!1?b.iconAlign:a,b},setBadge:function(a){var b=this;return b.rendered&&(!b.badgeEl&&a?(b.badgeEl=b.el.createChild({tag:"span",cls:b.badgeCls,html:a}),b.el.addCls(b.hasBadgeCls)):b.badgeEl&&a!=b.badgeText&&(a?(b.badgeEl.setHTML(a),b.el.addCls(b.hasBadgeCls)):(b.badgeEl.remove(),b.badgeEl=null,b.el.removeCls(b.hasBadgeCls)))),b.badgeText=a,b},getText:function(){return this.text},getBadgeText:function(){return this.badgeText},onDisable:function(){this.onDisableChange(!0)},onEnable:function(){this.onDisableChange(!1)},onDisableChange:function(a){var b=this;b.el&&(b.el[a?"addCls":"removeCls"](b.disabledCls),b.el.dom.disabled=a),b.disabled=a},onPress:function(a){var b=this;!b.disabled&&this.fireEvent("beforetap")!==!1&&setTimeout(function(){b.preventCancel||b.onTapCancel(),b.callHandler(a),b.fireEvent("tap",b,a)},10)},callHandler:function(a){var b=this;b.handler&&b.handler.call(b.scope||b,b,a)},createAutoHandler:function(){var a=this,b=a.autoEvent;b&&(typeof b=="string"&&(b={name:b,scope:a.scope||a}),a.addEvents(b.name),a.setHandler(function(){b.scope.fireEvent(b.name,b.scope,a)},b.scope))}}),Ext.reg("button",Ext.Button),Ext.SegmentedButton=Ext.extend(Ext.Container,{defaultType:"button",componentCls:"x-segmentedbutton",pressedCls:"x-button-pressed",allowMultiple:!1,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"stretch"}),Ext.SegmentedButton.superclass.initComponent.call(this),this.allowDepress===undefined&&(this.allowDepress=this.allowMultiple),this.addEvents("toggle")},initEvents:function(){Ext.SegmentedButton.superclass.initEvents.call(this),this.mon(this.el,{tap:this.onTap,capture:!0,scope:this})},afterLayout:function(a){var b=this;Ext.SegmentedButton.superclass.afterLayout.call(b,a),b.initialized||(b.items.each(function(a,c){b.setPressed(a,!!a.pressed,!0)}),b.allowMultiple&&(b.pressedButtons=b.getPressedButtons()),b.initialized=!0)},onTap:function(a,b){!this.disabled&&(b=a.getTarget(".x-button"))&&this.setPressed(b.id,this.allowDepress?undefined:!0)},getPressed:function(){return this.allowMultiple?this.getPressedButtons():this.pressedButton},setPressed:function(a,b,c){var d=this;a=d.getComponent(a);if(!a||!a.isButton||a.disabled){!d.allowMultiple&&d.pressedButton&&d.setPressed(d.pressedButton,!1);return}Ext.isBoolean(b)||(b=!a.pressed),b?(d.allowMultiple||(d.pressedButton&&d.pressedButton!==a&&(d.pressedButton.el.removeCls(d.pressedCls),d.pressedButton.pressed=!1,c!==!0&&d.fireEvent("toggle",d,d.pressedButton,!1)),d.pressedButton=a),a.el.addCls(d.pressedCls),a.pressed=!0,a.preventCancel=!0,d.initialized&&c!==!0&&d.fireEvent("toggle",d,a,!0)):b||(!d.allowMultiple&&a===d.pressedButton&&(d.pressedButton=null),a.pressed&&(a.el.removeCls(d.pressedCls),a.pressed=!1,c!==!0&&d.fireEvent("toggle",d,a,!1))),d.allowMultiple&&d.initialized&&(d.pressedButtons=d.getPressedButtons())},getPressedButtons:function(a){var b=this.items.filterBy(function(a){return a.isButton&&!a.disabled&&a.pressed});return b.items},disable:function(){this.items.each(function(a){a.disable()}),Ext.SegmentedButton.superclass.disable.apply(this,arguments)},enable:function(){this.items.each(function(a){a.enable()},this),Ext.SegmentedButton.superclass.enable.apply(this,arguments)}}),Ext.reg("segmentedbutton",Ext.SegmentedButton),Ext.AbstractStoreSelectionModel=Ext.extend(Ext.util.Observable,{allowDeselect:!1,selected:null,constructor:function(a){a=a||{},Ext.apply(this,a),this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},this.setSelectionMode(a.mode),this.selected=new Ext.util.MixedCollection,Ext.AbstractStoreSelectionModel.superclass.constructor.call(this,a)},bind:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("add",this.onStoreAdd,this),this.store.un("clear",this.onStoreClear,this),this.store.un("remove",this.onStoreRemove,this),this.store.un("update",this.onStoreUpdate,this))),a&&(a=Ext.StoreMgr.lookup(a),a.on({add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,scope:this})),this.store=a,a&&!b&&this.refresh()},selectAll:function(a){var b=this.store.getRange();for(var c=0,d=b.length;c<d;c++)this.doSelect(b[c],!0,a)},deselectAll:function(){var a=this.getSelection();for(var b=0,c=a.length;b<c;b++)this.doDeselect(a[b])},selectWithEvent:function(a,b){switch(this.selectionMode){case"MULTI":b.ctrlKey&&this.isSelected(a)?this.doDeselect(a,!1):b.shiftKey&&this.lastFocused?this.selectRange(this.lastFocused,a,b.ctrlKey):b.ctrlKey?this.doSelect(a,!0,!1):this.isSelected(a)&&!b.shiftKey&&!b.ctrlKey&&this.selected.getCount()>1?this.doSelect(a,!1,!1):this.doSelect(a,!1);break;case"SIMPLE":this.isSelected(a)?this.doDeselect(a):this.doSelect(a,!0);break;case"SINGLE":this.allowDeselect&&this.isSelected(a)?this.doDeselect(a):this.doSelect(a,!1)}},selectRange:function(a,b,c,d){var e,f=this.store.indexOf(a),g=this.store.indexOf(b),h,i=0,j;if(this.isLocked())return;f>g&&(h=g,g=f,f=h);for(e=f;e<=g;e++)this.isSelected(this.store.getAt(e))&&i++;d?j=d=="up"?f:g:j=-1;for(e=f;e<=g;e++)i==g-f+1?e!=j&&this.doDeselect(e,!0):this.doSelect(e,!0)},select:function(a,b,c){this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){if(this.locked)return;typeof a=="number"&&(a=[this.store.getAt(a)]);if(this.selectionMode=="SINGLE"&&a){var d=a.length?a[0]:a;this.doSingleSelect(d,c)}else this.doMultiSelect(a,b,c)},doMultiSelect:function(a,b,c){if(this.locked)return;var d=this.selected,e=!1,f;a=Ext.isArray(a)?a:[a],!b&&d.getCount()>0&&(e=!0,this.doDeselect(this.getSelection(),!0));for(var g=0,h=a.length;g<h;g++){f=a[g];if(b&&this.isSelected(f))continue;e=!0,this.lastSelected=f,d.add(f),c||this.setLastFocused(f),this.onSelectChange(f,!0,c)}this.maybeFireSelectionChange(e&&!c)},doDeselect:function(a,b){if(this.locked)return;typeof a=="number"&&(a=[this.store.getAt(a)]);var c=!1,d=this.selected,e;a=Ext.isArray(a)?a:[a];for(var f=0,g=a.length;f<g;f++)e=a[f],d.remove(e)&&(this.lastSelected==e&&(this.lastSelected=d.last()),this.onSelectChange(e,!1,b),c=!0);this.maybeFireSelectionChange(c&&!b)},doSingleSelect:function(a,b){if(this.locked)return;if(this.isSelected(a))return;var c=this.selected;c.getCount()>0&&this.doDeselect(this.lastSelected,b),c.add(a),this.lastSelected=a,this.onSelectChange(a,!0,b),this.setLastFocused(a),this.maybeFireSelectionChange(!b)},setLastFocused:function(a){var b=this.lastFocused;this.lastFocused=a,this.onLastFocusChanged(b,a)},maybeFireSelectionChange:function(a){a&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE",this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isSelected:function(a){return a=Ext.isNumber(a)?this.store.getAt(a):a,this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var a=[],b=this.getSelection(),c=b.length,d,e,f=0;for(;f<c;f++)d=b[f],this.store.indexOf(d)!=-1&&a.push(d);this.selected.getCount()!=a.length&&(e=!0),this.clearSelections(),a.length&&this.doSelect(a,!1,!0),this.maybeFireSelectionChange(e)},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:function(){},onStoreClear:function(){var a=this.selected;a.getCount>0&&(a.clear(),this.lastSelected=null,this.setLastFocused(null),this.maybeFireSelectionChange(!0))},onStoreRemove:function(a,b){if(this.locked)return;var c=this.selected;c.remove(b)&&(this.lastSelected==b&&(this.lastSelected=null),this.getLastFocused()==b&&this.setLastFocused(null),this.maybeFireSelectionChange(!0))},getCount:function(){return this.selected.getCount()},destroy:function(){},onStoreUpdate:function(){},onSelectChange:function(a,b,c){},onLastFocusChanged:function(a,b){},onEditorKey:function(a,b){},bindComponent:function(a){}}),Ext.DataViewSelectionModel=Ext.extend(Ext.AbstractStoreSelectionModel,{deselectOnContainerClick:!0,bindComponent:function(a){this.view=a,this.bind(a.getStore());var b={refresh:this.refresh,scope:this,el:{scope:this}};b.el[a.triggerEvent]=this.onItemClick,b.el[a.triggerCtEvent]=this.onContainerClick,a.on(b)},onItemClick:function(a){var b=this.view,c=b.findTargetByEvent(a);if(c)this.selectWithEvent(b.getRecord(c),a);else return!1},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(a,b,c){var d=this.view;b?(d.onItemSelect(a),c||this.fireEvent("select",this,a)):(d.onItemDeselect(a),c||this.fireEvent("deselect",this,a))}}),Ext.DataView=Ext.extend(Ext.Component,{loadingText:"Loading...",selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,last:!1,triggerEvent:"click",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=Ext.isDefined;if(!a(this.tpl)||!a(this.store)||!a(this.itemSelector))throw"DataView requires tpl, store and itemSelector configurations to be defined.";Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl))this.tpl=new Ext.XTemplate(this.tpl);if(Ext.isDefined(this.overCls)||Ext.isDefined(this.overClass))throw this.overItemCls=this.overCls||this.overClass,delete this.overCls,delete this.overClass,"Using the deprecated overCls or overClass configuration. Use overItemCls.";if(Ext.isDefined(this.selectedCls)||Ext.isDefined(this.selectedClass))throw this.selectedItemCls=this.selectedCls||this.selectedClass,delete this.selectedCls,delete this.selectedClass,"Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls.";this.addEvents("beforerefresh","refresh"),this.addCmpEvents(),this.store=Ext.StoreMgr.lookup(this.store),this.all=new Ext.CompositeElementLite,this.getSelectionModel().bindComponent(this)},onRender:function(){Ext.DataView.superclass.onRender.apply(this,arguments),this.loadingText&&(this.loadMask=new Ext.LoadMask(this.el,{msg:this.loadingText}))},getSelectionModel:function(){this.selModel||(this.selModel={});var a;switch(!0){case this.simpleSelect:a="SIMPLE";break;case this.multiSelect:a="MULTI";break;case this.singleSelect:default:a="SINGLE"}return Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:a}),this.selModel.events||(this.selModel=new Ext.DataViewSelectionModel(this.selModel)),this.selModel.hasRelaySetup||(this.relayEvents(this.selModel,["selectionchange","select","deselect"]),this.selModel.hasRelaySetup=!0),this.disableSelection&&(this.selModel.locked=!0),this.selModel},refresh:function(){if(!this.rendered)return;this.fireEvent("beforerefresh",this);var a=this.getTargetEl(),b=this.store.getRange();a.update(""),b.length<1?((!this.deferEmptyText||this.hasSkippedEmptyText)&&a.update(this.emptyText),this.all.clear()):(this.tpl.overwrite(a,this.collectData(b,0)),this.all.fill(Ext.query(this.itemSelector,a.dom)),this.updateIndexes(0)),this.hasSkippedEmptyText=!0,this.fireEvent("refresh",this)},prepareData:function(a,b,c){return c&&Ext.apply(a,this.prepareAssociatedData(c)),a},prepareAssociatedData:function(a,b){b=b||[];var c=a.associations.items,d=c.length,e={},f,g,h,i,j,k,l,m,n;for(m=0;m<d;m++){k=c[m],f=a[k.storeName],e[k.name]=[];if(f&&f.data.length>0){h=f.data.items,j=h.length;for(n=0;n<j;n++)i=h[n],l=i.internalId,b.indexOf(l)==-1&&(b.push(l),e[k.name][n]=i.data,Ext.apply(e[k.name][n],this.prepareAssociatedData(i,b)))}}return e},collectData:function(a,b){var c=[],d=0,e=a.length;for(;d<e;d++)c[c.length]=this.prepareData(a[d].data,b+d,a[d]);return c},bufferRender:function(a,b){var c=document.createElement("div");return this.tpl.overwrite(c,this.collectData(a,b)),Ext.query(this.itemSelector,c)},onUpdate:function(a,b){var c=this.store.indexOf(b),d,e;c>-1&&(d=this.all.elements[c],e=this.bufferRender([b],c)[0],this.all.replaceElement(c,e,!0),this.updateIndexes(c,c),this.selModel.refresh())},onAdd:function(a,b,c){if(this.all.getCount()===0){this.refresh();return}var d=this.bufferRender(b,c),e,f=this.all.elements;c<this.all.getCount()?(e=this.all.item(c).insertSibling(d,"before",!0),f.splice.apply(f,[c,0].concat(d))):(e=this.all.last().insertSibling(d,"after",!0),f.push.apply(f,d)),this.updateIndexes(c)},onRemove:function(a,b,c){this.all.removeElement(c,!0),this.updateIndexes(c),this.store.getCount()===0&&this.refresh()},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements;a=a||0,b=b||(b===0?0:c.length-1);for(var d=a;d<=b;d++)c[d].viewIndex=d},getStore:function(){return this.store},bindStore:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh}),a||(this.loadMask&&this.loadMask.bindStore(null),this.store=null)),a&&(a=Ext.StoreMgr.lookup(a),this.mon(a,{scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh}),this.loadMask&&this.loadMask.bindStore(a)),this.store=a,this.getSelectionModel().bind(a),a&&this.refresh()},onDataChanged:function(){this.blockRefresh!==!0&&this.refresh.apply(this,arguments)},findItemByChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.itemSelector,this.getTargetEl())},getSelectedNodes:function(){var a=[],b=this.selModel.getSelection(),c=b.length,d=0;for(;d<c;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){var b=[],c=0,d=a.length;for(;c<d;c++)b[b.length]=this.store.getAt(a[c].viewIndex);return r},getRecord:function(a){return this.store.getAt(a.viewIndex)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){if(Ext.isString(a))return document.getElementById(a);if(Ext.isNumber(a))return this.all.elements[a];if(a instanceof Ext.data.Model){var b=this.store.indexOf(a);return this.all.elements[b]}return a},getNodes:function(a,b){var c=this.all.elements,d=[],e;a=a||0,b=Ext.isDefined(b)?b:Math.max(c.length-1,0);if(a<=b)for(e=a;e<=b&&c[e];e++)d.push(c[e]);else for(e=a;e>=b&&c[e];e--)d.push(c[e]);return d},indexOf:function(a){return a=this.getNode(a),Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onBeforeLoad:function(){this.loadingText&&(this.getTargetEl().update(""),this.all.clear())},onDestroy:function(){this.all.clear(),Ext.DataView.superclass.onDestroy.call(this),this.bindStore(null),this.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);Ext.fly(b).addCls(this.selectedItemCls)},onItemDeselect:function(a){var b=this.getNode(a);Ext.fly(b).removeCls(this.selectedItemCls)},select:function(a,b,c){console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var a=this.getSelectionModel();return a.deselectAll()}}),Ext.reg("dataview",Ext.DataView),Ext.DataView.override({getSelectionCount:function(){return this.selModel.getSelection().length},getSelectedRecords:function(){return this.selModel.getSelection()}}),Ext.DataView.override({scroll:"vertical",pressedCls:"x-item-pressed",pressedDelay:100,allowDeselect:!0,triggerEvent:"singletap",triggerCtEvent:"containertap",addCmpEvents:function(){this.addEvents("itemtap","itemdoubletap","itemswipe","containertap","selectionchange","beforeselect")},afterRender:function(){var a=this;Ext.DataView.superclass.afterRender.call(a);var b={tapstart:a.onTapStart,tapcancel:a.onTapCancel,touchend:a.onTapCancel,doubletap:a.onDoubleTap,swipe:a.onSwipe,scope:a};b[this.triggerEvent]=a.onTap,a.mon(a.getTargetEl(),b),this.store&&this.bindStore(this.store,!0)},onTap:function(a){var b=this.findTargetByEvent(a);if(b){Ext.fly(b).removeCls(this.pressedCls);var c=this.indexOf(b);this.onItemTap(b,c,a)!==!1&&this.fireEvent("itemtap",this,c,b,a)}else this.fireEvent("containertap",this,a)!==!1&&this.onContainerTap(a)},onTapStart:function(a,b){var c=this,d=this.findTargetByEvent(a);d&&(c.pressedDelay?(c.pressedTimeout&&clearTimeout(c.pressedTimeout),c.pressedTimeout=setTimeout(function(){Ext.fly(d).addCls(c.pressedCls)},Ext.isNumber(c.pressedDelay)?c.pressedDelay:100)):Ext.fly(d).addCls(c.pressedCls))},onTapCancel:function(a,b){var c=this,d=this.findTargetByEvent(a);c.pressedTimeout&&(clearTimeout(c.pressedTimeout),delete c.pressedTimeout),d&&Ext.fly(d).removeCls(c.pressedCls)},onContainerTap:function(a){},onDoubleTap:function(a){var b=this.findTargetByEvent(a);b&&this.fireEvent("itemdoubletap",this,this.indexOf(b),b,a)},onSwipe:function(a){var b=this.findTargetByEvent(a);b&&this.fireEvent("itemswipe",this,this.indexOf(b),b,a)},onItemTap:function(a,b,c){return this.pressedTimeout&&(clearTimeout(this.pressedTimeout),delete this.pressedTimeout),!0}}),Ext.List=Ext.extend(Ext.DataView,{componentCls:"x-list",pinHeaders:Ext.is.iOS||Ext.is.Desktop,indexBar:!1,grouped:!1,clearSelectionOnDeactivate:!0,renderTpl:['<tpl if="grouped"><h3 class="x-list-header x-list-header-swap x-hidden-display"></h3></tpl>'],groupTpl:['<tpl for=".">','<div class="x-list-group x-group-{id}">','<h3 class="x-list-header">{group}</h3>','<div class="x-list-group-items">',"{items}","</div>","</div>","</tpl>"],itemSelector:".x-list-item",itemCls:"",onItemDisclosure:!1,preventSelectionOnDisclose:!0,initComponent:function(){var a={};Ext.isArray(this.itemTpl)?this.itemTpl=this.itemTpl.join(""):this.itemTpl&&this.itemTpl.html&&(Ext.apply(a,this.itemTpl.initialConfig),this.itemTpl=this.itemTpl.html);if(!Ext.isDefined(this.itemTpl))throw new Error("Ext.List: itemTpl is a required configuration.");if(this.itemTpl&&this.itemTpl.indexOf('"x-list-item"')!==-1)throw new Error("Ext.List: Using a CSS class of x-list-item within your own tpl will break Ext.Lists. Remove the x-list-item from the tpl/itemTpl");this.tpl='<tpl for="."><div class="x-list-item '+this.itemCls+'"><div class="x-list-item-body">'+this.itemTpl+"</div>",this.onItemDisclosure&&(this.tpl+='<div class="x-list-disclosure"></div>'),this.tpl+="</div></tpl>",this.tpl=new Ext.XTemplate(this.tpl,a);if(this.grouped){this.listItemTpl=this.tpl;if(Ext.isString(this.listItemTpl)||Ext.isArray(this.listItemTpl))this.listItemTpl=new Ext.XTemplate(this.listItemTpl,a);if(Ext.isString(this.groupTpl)||Ext.isArray(this.groupTpl))this.tpl=new Ext.XTemplate(this.groupTpl)}else this.indexBar=!1;this.scroll!==!1&&(this.scroll={direction:"vertical",useIndicators:!this.indexBar}),Ext.List.superclass.initComponent.call(this),this.onItemDisclosure&&Ext.isFunction(this.onItemDisclosure)&&(this.onItemDisclosure={scope:this,handler:this.onItemDisclosure}),this.on("deactivate",this.onDeactivate,this),this.addEvents("disclose","update")},onRender:function(){this.grouped&&(Ext.applyIf(this.renderData,{grouped:!0}),this.scroll&&Ext.applyIf(this.renderSelectors,{header:".x-list-header-swap"})),Ext.List.superclass.onRender.apply(this,arguments)},onDeactivate:function(){this.clearSelectionOnDeactivate&&this.getSelectionModel().deselectAll()},afterRender:function(){this.grouped||this.el.addCls("x-list-flat"),this.getTargetEl().addCls("x-list-parent"),this.indexBar&&(this.indexBar=new Ext.IndexBar(Ext.apply({},Ext.isObject(this.indexBar)?this.indexBar:{},{xtype:"indexbar",alphabet:!0,renderTo:this.el})),this.addCls("x-list-indexed")),Ext.List.superclass.afterRender.call(this),this.onItemDisclosure&&this.mon(this.getTargetEl(),"singletap",this.handleItemDisclosure,this,{delegate:".x-list-disclosure"})},initEvents:function(){Ext.List.superclass.initEvents.call(this),this.grouped&&(this.pinHeaders&&this.scroll&&this.mon(this.scroller,{scrollstart:this.onScrollStart,scroll:this.onScroll,scope:this}),this.indexBar&&this.mon(this.indexBar,{index:this.onIndex,scope:this}))},handleItemDisclosure:function(a,b){var c=this.findItemByChild(b),d,e;c&&(d=this.getRecord(c),e=this.indexOf(c),this.preventSelectionOnDisclose&&a.stopEvent(),this.fireEvent("disclose",d,c,e,a),Ext.isObject(this.onItemDisclosure)&&this.onItemDisclosure.handler&&this.onItemDisclosure.handler.call(this,d,c,e))},setActiveGroup:function(a){var b=this;if(a){if(!b.activeGroup||b.activeGroup.header!=a.header)b.header.setHTML(a.header.getHTML()),b.header.show()}else b.header.hide();this.activeGroup=a},getClosestGroups:function(a){this.groupOffsets||this.updateOffsets();var b=this.groupOffsets,c=b.length,d,e,f,g;for(e=0;e<c;e++){d=b[e];if(d.offset>a.y){g=d;break}f=d}return{current:f,next:g}},updateIndexes:function(){Ext.List.superclass.updateIndexes.apply(this,arguments),this.updateList()},afterComponentLayout:function(){Ext.List.superclass.afterComponentLayout.apply(this,arguments),this.updateList()},updateList:function(){this.fireEvent("update",this),this.updateOffsets()},updateOffsets:function(){if(this.grouped){this.groupOffsets=[];var a=this.getTargetEl().query("h3.x-list-header"),b=a.length,c,d;for(d=0;d<b;d++)c=Ext.get(a[d]),c.setVisibilityMode(Ext.Element.VISIBILITY),this.groupOffsets.push({header:c,offset:c.dom.offsetTop})}},onScrollStart:function(){var a=this.scroller.getOffset();this.closest=this.getClosestGroups(a),this.setActiveGroup(this.closest.current)},onScroll:function(a,b,c){this.closest||(this.closest=this.getClosestGroups(b)),this.headerHeight||(this.headerHeight=this.header.getHeight());if(b.y<=0){this.activeGroup&&(this.setActiveGroup(!1),this.closest.next=this.closest.current);return}if(this.closest.next&&b.y>this.closest.next.offset||b.y<this.closest.current.offset)this.closest=this.getClosestGroups(b),this.setActiveGroup(this.closest.current);if(this.closest.next&&b.y>0&&this.closest.next.offset-b.y<=this.headerHeight){var d=this.headerHeight-(this.closest.next.offset-b.y);Ext.Element.cssTranslate(this.header,{x:0,y:-d}),this.transformed=!0}else this.transformed&&(this.header.setStyle("-webkit-transform",null),this.transformed=!1)},onIndex:function(a,b,c){var d=a.get("key").toLowerCase(),e=this.store.getGroups(),f=e.length,g,h,i,j;for(h=0;h<f;h++){g=e[h],j=this.getGroupId(g);if(j==d||j>d){i=j;break}i=j}i=this.getTargetEl().down(".x-group-"+j),i&&this.scroller.scrollTo({x:0,y:i.getOffsetsTo(this.scrollEl)[1]},!1,null,!0)},getGroupId:function(a){return a.name.toLowerCase()},collectData:function(a,b){if(!this.grouped)return Ext.List.superclass.collectData.call(this,a,b);var c=[],d=this.store.getGroups(),e=d.length,f,g,h,i,j;for(j=0,e=d.length;j<e;j++){i=d[j],f=i.children
;for(h=0,g=f.length;h<g;h++)f[h]=f[h].data;c.push({group:i.name,id:this.getGroupId(i),items:this.listItemTpl.apply(f)})}return c},onUpdate:function(a,b){this.grouped?this.refresh():Ext.List.superclass.onUpdate.apply(this,arguments)},onAdd:function(a,b,c){this.grouped?this.refresh():Ext.List.superclass.onAdd.apply(this,arguments)},onRemove:function(a,b,c){this.grouped?this.refresh():Ext.List.superclass.onRemove.apply(this,arguments)}}),Ext.reg("list",Ext.List),Ext.IndexBar=Ext.extend(Ext.DataView,{componentCls:"x-indexbar",direction:"vertical",tpl:'<tpl for="."><div class="x-indexbar-item">{value}</div></tpl>',itemSelector:"div.x-indexbar-item",letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],listPrefix:"",componentLayout:"autocomponent",scroll:!1,initComponent:function(){this.componentLayout=this.getComponentLayout(),this.store||(this.store=new Ext.data.Store({model:"IndexBarModel"})),this.alphabet==1&&(this.ui=this.ui||"alphabet"),this.direction=="horizontal"?this.horizontal=!0:this.vertical=!0,this.addEvents("index"),Ext.apply(this.renderData,{componentCls:this.componentCls}),Ext.apply(this.renderSelectors,{body:"."+this.componentCls+"-body"}),Ext.IndexBar.superclass.initComponent.call(this)},renderTpl:['<div class="{componentCls}-body"></div>'],getTargetEl:function(){return this.body},afterRender:function(){Ext.IndexBar.superclass.afterRender.call(this),this.alphabet===!0&&this.loadAlphabet(),this.vertical?this.el.addCls(this.componentCls+"-vertical"):this.horizontal&&this.el.addCls(this.componentCls+"-horizontal")},loadAlphabet:function(){var a=this.letters,b=a.length,c=[],d,e;for(d=0;d<b;d++)e=a[d],c.push({key:e.toLowerCase(),value:e});this.store.loadData(c)},refresh:function(){var a=this.getTargetEl(),b=this.store.getRange();a.update(""),b.length<1?((!this.deferEmptyText||this.hasSkippedEmptyText)&&a.update(this.emptyText),this.all.clear()):(this.tpl.overwrite(a,this.collectData(b,0)),this.all.fill(Ext.query(this.itemSelector,a.dom)),this.updateIndexes(0)),this.hasSkippedEmptyText=!0,this.fireEvent("refresh")},collectData:function(){var a=Ext.IndexBar.superclass.collectData.apply(this,arguments);return this.listPrefix.length>0&&a.unshift({key:"",value:this.listPrefix}),a},initEvents:function(){Ext.IndexBar.superclass.initEvents.call(this),this.mon(this.el,{touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(a,b){a.stopEvent(),this.el.addCls(this.componentCls+"-pressed"),this.pageBox=this.el.getPageBox(),this.onTouchMove(a)},onTouchEnd:function(a,b){a.stopEvent(),this.el.removeCls(this.componentCls+"-pressed")},onTouchMove:function(a){a.stopPropagation();var b=Ext.util.Point.fromEvent(a),c,d,e=this.pageBox;e||(e=this.pageBox=this.el.getPageBox());if(this.vertical){if(b.y>e.bottom||b.y<e.top)return;c=Ext.Element.fromPoint(e.left+e.width/2,b.y)}else if(this.horizontal){if(b.x>e.right||b.x<e.left)return;c=Ext.Element.fromPoint(b.x,e.top+e.height/2)}c&&(d=this.getRecord(c.dom),d&&this.fireEvent("index",d,c,this.indexOf(c)))},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}}),Ext.reg("indexbar",Ext.IndexBar),Ext.regModel("IndexBarModel",{fields:["key","value"]}),Ext.Toolbar=Ext.extend(Ext.Container,{isToolbar:!0,defaultType:"button",baseCls:"x-toolbar",titleCls:"x-toolbar-title",ui:"dark",layout:null,titleEl:null,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"center"}),Ext.Toolbar.superclass.initComponent.call(this)},afterRender:function(){Ext.Toolbar.superclass.afterRender.call(this),this.title&&(this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title}))},setTitle:function(a){this.title=a,this.rendered&&(this.titleEl||(this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title})),this.titleEl.setHTML(a))},showTitle:function(){this.titleEl&&this.titleEl.show()},hideTitle:function(){this.titleEl&&this.titleEl.hide()}}),Ext.reg("toolbar",Ext.Toolbar),Ext.Spacer=Ext.extend(Ext.Component,{initComponent:function(){this.width||(this.flex=1),Ext.Spacer.superclass.initComponent.call(this)},onRender:function(){Ext.Spacer.superclass.onRender.apply(this,arguments),this.flex&&this.el.setStyle("-webkit-box-flex",this.flex)}}),Ext.reg("spacer",Ext.Spacer),Ext.Sheet=Ext.extend(Ext.Panel,{baseCls:"x-sheet",centered:!1,floating:!0,modal:!0,draggable:!1,monitorOrientation:!0,hidden:!0,hideOnMaskTap:!1,enter:"bottom",exit:"bottom",enterAnimation:"slide",exitAnimation:"slide",transitions:{bottom:"up",top:"down",right:"left",left:"right"},animSheet:function(a){var b=null,c=this,d=c.transitions,e=Ext.Anim.prototype.opposites||{};return a&&this[a]&&(a=="enter"?b=typeof c.enterAnimation=="string"?{type:c.enterAnimation||"slide",direction:d[c.enter]||"up"}:c.enterAnimation:a=="exit"&&(b=typeof c.exitAnimation=="string"?{type:c.exitAnimation||"slide",direction:d[c.exit]||"down"}:c.exitAnimation)),b},orient:function(a,b,c){if(!this.container||this.centered||!this.floating)return this;var d=this,e=d.initialConfig||{},f={width:e.width,height:e.height},g={x:e.x,y:e.y},h=d.el.getPageBox(),i,j=0;return d.container.dom==document.body?(i={width:window.innerWidth,height:window.innerHeight},j=document.body.scrollTop):i=d.container.getPageBox(),i.centerY=i.height/2,i.centerX=i.width/2,g.x!=undefined||g.y!=undefined?(g.x=g.x||0,g.y=g.y||0):/^(bottom|top)/i.test(d.enter)?(f.width=d.stretchX?i.width:Math.min(200,Math.max(f.width||h.width||i.width,i.width)),f.height=Math.min(f.height||0,i.height)||undefined,f=d.setSize(f).getSize(),g.x=i.centerX-f.width/2,g.y=d.enter=="top"?0:i.height-f.height+j):/^(left|right)/i.test(d.enter)&&(f.height=d.stretchY?i.height:Math.min(200,Math.max(f.height||h.height||i.height,i.height)),f.width=Math.min(f.width||0,i.width)||undefined,f=d.setSize(f).getSize(),g.y=0,g.x=d.enter=="left"?0:i.width-f.width),d.setPosition(g),this},afterRender:function(){Ext.Sheet.superclass.afterRender.apply(this,arguments),this.el.setVisibilityMode(Ext.Element.OFFSETS)},onShow:function(a){return this.orient(),Ext.Sheet.superclass.onShow.call(this,a||this.animSheet("enter"))},onOrientationChange:function(a,b,c){this.orient(),Ext.Sheet.superclass.onOrientationChange.apply(this,arguments)},beforeDestroy:function(){delete this.showAnimation,this.hide(!1),Ext.Sheet.superclass.beforeDestroy.call(this)}}),Ext.reg("sheet",Ext.Sheet),Ext.ActionSheet=Ext.extend(Ext.Sheet,{componentCls:"x-sheet-action",stretchY:!0,stretchX:!0,defaultType:"button",constructor:function(a){a=a||{},Ext.ActionSheet.superclass.constructor.call(this,Ext.applyIf({floating:!0},a))}}),Ext.reg("actionsheet",Ext.ActionSheet),Ext.TabBar=Ext.extend(Ext.Panel,{componentCls:"x-tabbar",activeTab:null,defaultType:"tab",sortable:!1,sortHoldThreshold:350,initComponent:function(){this.addEvents("change"),this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"middle"}),Ext.TabBar.superclass.initComponent.call(this)},initEvents:function(){this.sortable&&(this.sortable=new Ext.util.Sortable(this.el,{itemSelector:".x-tab",direction:"horizontal",delay:this.sortHoldThreshold,constrain:!0}),this.mon(this.sortable,"sortchange",this.onSortChange,this)),this.mon(this.el,{touchstart:this.onTouchStart,scope:this}),Ext.TabBar.superclass.initEvents.call(this)},onTouchStart:function(a,b){b=a.getTarget(".x-tab"),b&&this.onTabTap(Ext.getCmp(b.id))},onSortChange:function(a,b,c){},onTabTap:function(a){if(!a.disabled){if(this.cardLayout){if(this.cardSwitchAnimation){var b={reverse:this.items.indexOf(a)<this.items.indexOf(this.activeTab)?!0:!1};Ext.isObject(this.cardSwitchAnimation)?Ext.apply(b,this.cardSwitchAnimation):Ext.apply(b,{type:this.cardSwitchAnimation})}this.cardLayout.setActiveItem(a.card,b||this.cardSwitchAnimation)}this.activeTab=a,this.fireEvent("change",this,a,a.card)}},getCardLayout:function(){return this.cardLayout}}),Ext.reg("tabbar",Ext.TabBar),Ext.Tab=Ext.extend(Ext.Button,{isTab:!0,baseCls:"x-tab",pressedCls:"x-tab-pressed",activeCls:"x-tab-active",active:!1,initComponent:function(){this.addEvents("activate","deactivate"),Ext.Tab.superclass.initComponent.call(this);var a=this.card;a&&(this.card=null,this.setCard(a))},setCard:function(a){this.card&&this.mun(this.card,{activate:this.activate,deactivate:this.deactivate,scope:this}),this.card=a,a&&(Ext.apply(this,a.tab||{}),this.setText(this.title||a.title||this.text),this.setIconClass(this.iconCls||a.iconCls),this.setBadge(this.badgeText||a.badgeText),this.mon(a,{beforeactivate:this.activate,beforedeactivate:this.deactivate,scope:this}))},onRender:function(){Ext.Tab.superclass.onRender.apply(this,arguments),this.active&&this.el.addCls(this.activeCls)},getCard:function(){return this.card},activate:function(){this.active=!0,this.el&&this.el.addCls(this.activeCls),this.fireEvent("activate",this)},deactivate:function(){this.active=!1,this.el&&this.el.removeCls(this.activeCls),this.fireEvent("deactivate",this)}}),Ext.reg("tab",Ext.Tab),Ext.TabPanel=Ext.extend(Ext.Panel,{cardSwitchAnimation:"slide",tabBarDock:"top",componentCls:"x-tabpanel",ui:"dark",initComponent:function(){var a=new Ext.layout.CardLayout(this.layout||{});this.layout=null,this.setLayout(a),this.tabBar=new Ext.TabBar(Ext.apply({},this.tabBar||{},{cardLayout:a,cardSwitchAnimation:this.cardSwitchAnimation,dock:this.tabBarDock,ui:this.ui,sortable:this.sortable})),this.dockedItems&&!Ext.isArray(this.dockedItems)?this.dockedItems=[this.dockedItems]:this.dockedItems||(this.dockedItems=[]),this.dockedItems.push(this.tabBar),Ext.TabPanel.superclass.initComponent.call(this)},getTabBar:function(){return this.tabBar},onAdd:function(a,b){var c=this.tabBar;a.tab=c.insert(b,{xtype:"tab",card:a}),c.doLayout()},onRemove:function(a,b){this.destroying||(this.tabBar.remove(a.tab,b),this.tabBar.doLayout())}}),Ext.reg("tabpanel",Ext.TabPanel),Ext.Carousel=Ext.extend(Ext.Panel,{baseCls:"x-carousel",indicator:!0,ui:"dark",direction:"horizontal",horizontal:!1,vertical:!1,initComponent:function(){this.layout={type:"card",sizeAllCards:!0,hideInactive:!1,itemCls:"x-carousel-item",targetCls:"x-carousel-body",setOwner:function(a){Ext.layout.CardLayout.superclass.setOwner.call(this,a)}};if(this.indicator){var a=Ext.isObject(this.indicator)?this.indicator:{};this.indicator=new Ext.Carousel.Indicator(Ext.apply({},a,{direction:this.direction,carousel:this,ui:this.ui}))}this.direction=="horizontal"?this.horizontal=!0:this.vertical=!0,Ext.Carousel.superclass.initComponent.call(this)},afterRender:function(){Ext.Carousel.superclass.afterRender.call(this),this.mon(this.body,{drag:this.onDrag,dragThreshold:5,dragend:this.onDragEnd,direction:this.direction,scope:this}),this.el.addCls(this.baseCls+"-"+this.direction)},onAdd:function(){Ext.Carousel.superclass.onAdd.apply(this,arguments);var a=this.indicator;a&&a.onCardAdd()},onRemove:function(){Ext.Carousel.superclass.onRemove.apply(this,arguments);var a=this.indicator;a&&a.onCardRemove()},afterLayout:function(){Ext.Carousel.superclass.afterLayout.apply(this,arguments),this.currentSize=this.body.getSize(),this.currentScroll={x:0,y:0},this.updateCardPositions();var a=this.layout.getActiveItem();a&&this.indicator&&this.indicator.onBeforeCardSwitch(this,a,null,this.items.indexOf(a))},onDrag:function(a){this.currentScroll={x:a.deltaX,y:a.deltaY};var b=this.items.items.indexOf(this.layout.activeItem);if(this.horizontal){if(b==0&&a.deltaX>0||b==this.items.length-1&&a.deltaX<0)this.currentScroll.x=a.deltaX/2}else this.vertical&&(b==0&&a.deltaY>0||b==this.items.length-1&&a.deltaY<0)&&(this.currentScroll.y=a.deltaY/2);this.updateCardPositions()},updateCardPositions:function(a){var b=this.items.items,c=b.length,d,e,f,g,h;for(e=0;e<c;e++)f=b[e],this.isCardInRange(f)?(f.hidden&&f.show(),g=f.el,h=g.dom.style,a?(f===this.layout.activeItem&&g.on("webkitTransitionEnd",this.onTransitionEnd,this,{single:!0}),h.webkitTransitionDuration="300ms"):h.webkitTransitionDuration="0ms",d=this.getCardOffset(f),this.horizontal?Ext.Element.cssTransform(g,{translate:[d,0]}):Ext.Element.cssTransform(g,{translate:[0,d]})):f.hidden||f.hide()},getCardOffset:function(a){var b=this.getCardIndexOffset(a),c=this.currentSize,d=this.currentScroll;return this.horizontal?b*c.width+d.x:b*c.height+d.y},getCardIndexOffset:function(a){return this.items.items.indexOf(a)-this.getActiveIndex()},isCardInRange:function(a){return Math.abs(this.getCardIndexOffset(a))<=2},getActiveIndex:function(){return this.items.indexOf(this.layout.activeItem)},onDragEnd:function(a,b){var c,d;this.horizontal?(d=a.deltaX,c=a.previousDeltaX):(d=a.deltaY,c=a.previousDeltaY),d<0&&Math.abs(d)>3&&c<=0&&this.layout.getNext()?this.next():d>0&&Math.abs(d)>3&&c>=0&&this.layout.getPrev()?this.prev():this.scrollToCard(this.layout.activeItem)},onBeforeCardSwitch:function(a){if(!this.customDrag&&this.items.indexOf(a)!=-1){var b=a.el.dom.style;b.webkitTransitionDuration=null,b.webkitTransform=null}return Ext.Carousel.superclass.onBeforeCardSwitch.apply(this,arguments)},scrollToCard:function(a){this.currentScroll={x:0,y:0},this.oldCard=this.layout.activeItem,a!=this.oldCard&&this.isCardInRange(a)&&this.onBeforeCardSwitch(a,this.oldCard,this.items.indexOf(a),!0)!==!1&&(this.layout.activeItem=a,this.horizontal?this.currentScroll.x=-this.getCardOffset(a):this.currentScroll.y=-this.getCardOffset(a)),this.updateCardPositions(!0)},onTransitionEnd:function(a,b){this.customDrag=!1,this.currentScroll={x:0,y:0},this.oldCard&&this.layout.activeItem!=this.oldCard&&this.onCardSwitch(this.layout.activeItem,this.oldCard,this.items.indexOf(this.layout.activeItem),!0),delete this.oldCard},onCardSwitch:function(a,b,c,d){this.currentScroll={x:0,y:0},this.updateCardPositions(),Ext.Carousel.superclass.onCardSwitch.apply(this,arguments),a.fireEvent("activate",a)},next:function(){var a=this.layout.getNext();return a&&(this.customDrag=!0,this.scrollToCard(a)),this},prev:function(){var a=this.layout.getPrev();return a&&(this.customDrag=!0,this.scrollToCard(a)),this},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal},beforeDestroy:function(){Ext.destroy(this.indicator),Ext.Carousel.superclass.beforeDestroy.call(this)}}),Ext.reg("carousel",Ext.Carousel),Ext.Carousel.Indicator=Ext.extend(Ext.Component,{baseCls:"x-carousel-indicator",initComponent:function(){this.carousel.rendered?(this.render(this.carousel.body),this.onBeforeCardSwitch(null,null,this.carousel.items.indexOf(this.carousel.layout.getActiveItem()))):this.carousel.on("render",function(){this.render(this.carousel.body)},this,{single:!0}),Ext.Carousel.Indicator.superclass.initComponent.call(this)},onRender:function(){Ext.Carousel.Indicator.superclass.onRender.apply(this,arguments);for(var a=0,b=this.carousel.items.length;a<b;a++)this.createIndicator();this.mon(this.carousel,{beforecardswitch:this.onBeforeCardSwitch,scope:this}),this.mon(this.el,{tap:this.onTap,scope:this}),this.el.addCls(this.baseCls+"-"+this.direction)},onTap:function(a,b){var c=this.el.getPageBox(),d=c.left+c.width/2,e=c.top+c.height/2,f=this.carousel;f.isHorizontal()&&a.pageX>d||f.isVertical()&&a.pageY>e?this.carousel.next():this.carousel.prev()},createIndicator:function(){this.indicators=this.indicators||[],this.indicators.push(this.el.createChild({tag:"span"}))},onBeforeCardSwitch:function(a,b,c,d){Ext.isNumber(d)&&d!=-1&&this.indicators[d]&&this.indicators[d].radioCls("x-carousel-indicator-active")},onCardAdd:function(){this.rendered&&this.createIndicator()},onCardRemove:function(){this.rendered&&this.indicators.pop().remove()}}),Ext.reg("carouselindicator",Ext.Carousel.Indicator),Ext.Map=Ext.extend(Ext.Component,{baseCls:"x-map",useCurrentLocation:!1,monitorResize:!0,map:null,geo:null,maskMap:!1,maskMapCls:"x-mask-map",initComponent:function(){this.mapOptions=this.mapOptions||{},this.scroll=!1,(window.google||{}).maps?this.useCurrentLocation&&(this.geo=this.geo||new Ext.util.GeoLocation({autoLoad:!1}),this.geo.on({locationupdate:this.onGeoUpdate,locationerror:this.onGeoError,scope:this})):this.html="Google Maps API is required",Ext.Map.superclass.initComponent.call(this),this.addEvents("maprender","centerchange","typechange","zoomchange"),this.geo&&(this.on({activate:this.onUpdate,scope:this,single:!0}),this.geo.updateLocation())},onRender:function(a,b){Ext.Map.superclass.onRender.apply(this,arguments),this.el.setVisibilityMode(Ext.Element.OFFSETS)},afterRender:function(){Ext.Map.superclass.afterRender.apply(this,arguments),this.renderMap()},onResize:function(a,b){Ext.Map.superclass.onResize.apply(this,arguments),this.map&&google.maps.event.trigger(this.map,"resize")},afterComponentLayout:function(){this.maskMap&&!this.mask&&(this.el.mask(null,this.maskMapCls),this.mask=!0)},renderMap:function(){var a=this,b=(window.google||{}).maps;if(b){Ext.is.iPad&&Ext.applyIf(a.mapOptions,{navigationControlOptions:{style:b.NavigationControlStyle.ZOOM_PAN}}),Ext.applyIf(a.mapOptions,{center:new b.LatLng(37.381592,-122.135672),zoom:12,mapTypeId:b.MapTypeId.ROADMAP}),a.maskMap&&!a.mask&&(a.el.mask(null,this.maskMapCls),a.mask=!0),a.el&&a.el.dom&&a.el.dom.firstChild&&Ext.fly(a.el.dom.firstChild).remove(),a.map&&b.event.clearInstanceListeners(a.map),a.map=new b.Map(a.el.dom,a.mapOptions);var c=b.event;c.addListener(a.map,"zoom_changed",Ext.createDelegate(a.onZoom,a)),c.addListener(a.map,"maptypeid_changed",Ext.createDelegate(a.onTypeChange,a)),c.addListener(a.map,"center_changed",Ext.createDelegate(a.onCenterChange,a)),a.fireEvent("maprender",a,a.map)}},onGeoUpdate:function(a){var b;a&&(b=this.mapOptions.center=new google.maps.LatLng(a.latitude,a.longitude)),this.rendered?this.update(b):this.on("activate",this.onUpdate,this,{single:!0,data:b})},onGeoError:function(a){},onUpdate:function(a,b,c){this.update((c||{}).data)},update:function(a){var b=this,c=(window.google||{}).maps;c&&(a=a||b.coords||new c.LatLng(37.381592,-122.135672),a&&!(a instanceof c.LatLng)&&"longitude"in a&&(a=new c.LatLng(a.latitude,a.longitude)),!b.hidden&&b.rendered?(b.map||b.renderMap(),b.map&&a instanceof c.LatLng&&b.map.panTo(a)):b.on("activate",b.onUpdate,b,{single:!0,data:a}))},onZoom:function(){this.mapOptions.zoom=(this.map&&this.map.getZoom?this.map.getZoom():this.mapOptions.zoom)||10,this.fireEvent("zoomchange",this,this.map,this.mapOptions.zoom)},onTypeChange:function(){this.mapOptions.mapTypeId=this.map&&this.map.getMapTypeId?this.map.getMapTypeId():this.mapOptions.mapTypeId,this.fireEvent("typechange",this,this.map,this.mapOptions.mapTypeId)},onCenterChange:function(){this.mapOptions.center=this.map&&this.map.getCenter?this.map.getCenter():this.mapOptions.center,this.fireEvent("centerchange",this,this.map,this.mapOptions.center)},getState:function(){return this.mapOptions},onDestroy:function(){Ext.destroy(this.geo),this.maskMap&&this.mask&&this.el.unmask(),this.map&&(window.google||{}).maps&&google.maps.event.clearInstanceListeners(this.map),Ext.Map.superclass.onDestroy.call(this)}}),Ext.reg("map",Ext.Map),Ext.NestedList=Ext.extend(Ext.Panel,{componentCls:"x-nested-list",layout:"card",cardSwitchAnimation:"slide",backButton:null,backText:"Back",useTitleAsBackText:!0,updateTitleText:!0,displayField:"text",loadingText:"Loading...",emptyText:"No items available.",onItemDisclosure:!1,clearSelectionDelay:200,allowDeselect:!1,getItemTextTpl:function(a){return"{"+this.displayField+"}"},getTitleTextTpl:function(a){return"{"+this.displayField+"}"},renderTitleText:function(a){a.titleTpl||(a.titleTpl=new Ext.XTemplate(this.getTitleTextTpl(a)));var b=a.getRecord();if(b)return a.titleTpl.applyTemplate(b.data);if(a.isRoot)return this.title||this.backText;throw new Error("No RecordNode passed into renderTitleText")},useToolbar:!0,getDetailCard:function(a,b){return!1},initComponent:function(){var a=Ext.StoreMgr.lookup(this.store),b=a.getRootNode(),c=b.getRecord()?this.renderTitleText(b):this.title||"";this.store=a,this.useToolbar&&(this.backButton=new Ext.Button({text:this.backText,ui:"back",handler:this.onBackTap,scope:this,hidden:!0}),!this.toolbar||!this.toolbar.isComponent?(this.toolbar=Ext.apply({},this.toolbar||{},{dock:"top",xtype:"toolbar",ui:"light",title:c,items:[]}),this.toolbar.items.unshift(this.backButton),this.toolbar=new Ext.Toolbar(this.toolbar),this.dockedItems=this.dockedItems||[],this.dockedItems.push(this.toolbar)):this.toolbar.insert(0,this.backButton)),this.items=[this.getSubList(b)],Ext.NestedList.superclass.initComponent.call(this),this.on("itemtap",this.onItemTap,this),this.addEvents("listchange","leafitemtap")},getListConfig:function(a){var b=a.internalId,c=this.emptyText;return{itemId:b,xtype:"list",autoDestroy:!0,recordNode:a,store:this.store.getSubStore(a),loadingText:this.loadingText,onItemDisclosure:this.onItemDisclosure,displayField:this.displayField,singleSelect:!0,clearSelectionOnDeactivate:!1,bubbleEvents:["itemtap","containertap","beforeselect","itemdoubletap","selectionchange"],itemTpl:'<span<tpl if="leaf == true"> class="x-list-item-leaf"</tpl>>'+this.getItemTextTpl(a)+"</span>",deferEmptyText:!0,allowDeselect:this.allowDeselect,refresh:function(){this.hasSkippedEmptyText&&(this.emptyText=c),Ext.List.prototype.refresh.apply(this,arguments)}}},getSubList:function(a){var b=this.items,c,d=a.internalId;return b&&b.get&&(c=b.get(d)),c?c:this.getListConfig(a)},addNextCard:function(a,b){var c,d=a?a.parentNode:null,e;return a.leaf?(e=this.getDetailCard(a,d),e&&(c=this.add(e))):(c=this.getSubList(a),c=this.add(c)),c},setActivePath:function(a){var b=a.substr(0,1)==="/",c=0,d=this.store,e=d.tree,f,g,h,i,j;b&&(a=a.substr(1)),i=Ext.toArray(a.split("/")),j=i.length;if(b){var k=this.items,l=this.items.items,m=k.length;for(;m>1;m--)this.remove(l[m-1],!0);var n=l[0].recordNode;if(n.id!==i[0])throw new Error("rootNode doesn't match!");c=1}for(;c<j;c++)i[c]!==""&&(f=e.getNodeById(i[c]),g=this.addNextCard(f),g&&(h=g));if(!h)throw new Error("Card was not found when trying to add to NestedList.");this.setActiveItem(h,!1),this.fireEvent("listchange",this,h),this.syncToolbar()},syncToolbar:function(a){var b=a||this.getActiveItem(),c=this.items.indexOf(b),d=b.recordNode,e=d?d.parentNode:null,f=this.backButton,g=this.useTitleAsBackText&&e?this.renderTitleText(e):this.backText,h=c!==0?"show":"hide";f&&(f[h](),e&&f.setText(g)),this.toolbar&&this.updateTitleText&&(this.toolbar.setTitle(d&&d.getRecord()?this.renderTitleText(d):this.title||""),this.toolbar.doLayout())},onItemTap:function(a,b,c,d){var e=a.getStore(),f=e.getAt(b),g=f.node,h=g?g.parentNode:null,i=this.displayField,j,k,l;l=this.addNextCard(g),g.leaf&&this.fireEvent("leafitemtap",a,b,c,d,l),l&&(k=this.items.indexOf(l),this.setActiveItem(l,{type:this.cardSwitchAnimation}),this.syncToolbar(l))},onBackTap:function(){var a=this.getActiveItem(),b=this.items.indexOf(a);if(b!=0){var c=b-1,d=this.items.getAt(c),e=d.recordNode,f=e.getRecord(),g=e?e.parentNode:null,h=this.backButton,i=c!==0?"show":"hide",j;this.on("cardswitch",function(b,c){var e=d.getSelectionModel();this.remove(a),this.clearSelectionDelay&&Ext.defer(e.deselectAll,this.clearSelectionDelay,e)},this,{single:!0}),this.setActiveItem(d,{type:this.cardSwitchAnimation,reverse:!0,scope:this}),this.syncToolbar(d)}}}),Ext.reg("nestedlist",Ext.NestedList),Ext.Picker=Ext.extend(Ext.Sheet,{componentCls:"x-picker",stretchX:!0,stretchY:!0,hideOnMaskTap:!1,doneButton:"Done",cancelButton:"Cancel",height:220,useTitles:!1,defaultType:"pickerslot",initComponent:function(){this.addEvents("pick","change","cancel"),this.layout={type:"hbox",align:"stretch"},this.slots&&(this.items=this.items?Ext.isArray(this.items)?this.items:[this.items]:[],this.items=this.items.concat(this.slots)),this.useTitles&&(this.defaults=Ext.applyIf(this.defaults||{},{title:""})),this.on("slotpick",this.onSlotPick,this);if(this.doneButton||this.cancelButton){var a=[];this.cancelButton&&a.push(Ext.apply({handler:this.onCancelButtonTap,scope:this},Ext.isObject(this.cancelButton)?this.cancelButton:{text:String(this.cancelButton)})),a.push({xtype:"spacer"}),this.doneButton&&a.push(Ext.apply({ui:"action",handler:this.onDoneButtonTap,scope:this},Ext.isObject(this.doneButton)?this.doneButton:{text:String(this.doneButton)})),this.toolbar=new Ext.Toolbar(Ext.applyIf(this.buttonBar||{dock:"top",items:a,defaults:{xtype:"button"}})),this.dockedItems=this.dockedItems?Ext.isArray(this.dockedItems)?this.dockedItems:[this.dockedItems]:[],this.dockedItems.push(this.toolbar)}Ext.Picker.superclass.initComponent.call(this)},afterRender:function(){Ext.Picker.superclass.afterRender.apply(this,arguments),this.value&&this.setValue(this.value,!1)},onDoneButtonTap:function(){var a=this.animSheet("exit");Ext.apply(a,{after:function(){this.fireEvent("change",this,this.getValue())},scope:this}),this.hide(a)},onCancelButtonTap:function(){var a=this.animSheet("exit");Ext.apply(a,{after:function(){this.setValue(this.values),this.fireEvent("cancel",this)},scope:this}),this.hide(a)},onSlotPick:function(a,b,c){return this.fireEvent("pick",this,this.getValue(),a),!1},setValue:function(a,b){var c,d=this.items.items,e=d.length;if(!a){for(var f=0;f<e;f++)d[f].setSelectedNode(0);return this}return Ext.iterate(a,function(a,d){c=this.child("[name="+a+"]"),c&&c.setValue(d,b)},this),this.values=a,this},getValue:function(){var a={},b=this.items.items,c=b.length,d,e;for(e=0;e<c;e++)d=b[e],a[d.name]=d.getValue();return a}}),Ext.regModel("x-textvalue",{fields:["text","value"]}),Ext.Picker.Slot=Ext.extend(Ext.DataView,{isSlot:!0,flex:1,name:null,displayField:"text",valueField:"value",align:"center",itemSelector:"div.x-picker-item",componentCls:"x-picker-slot",renderTpl:['<div class="x-picker-mask">','<div class="x-picker-bar"></div>',"</div>"],selectedIndex:0,getElConfig:function(){return{tag:"div",id:this.id,cls:"x-picker-"+this.align}},initComponent:function(){if(!this.name)throw new Error("Each picker slot is required to have a name.");Ext.apply(this.renderSelectors,{mask:".x-picker-mask",bar:".x-picker-bar"}),this.scroll={direction:"vertical",useIndicators:!1,friction:.7,acceleration:25,snapDuration:200,animationDuration:200},this.tpl=new Ext.XTemplate(['<tpl for=".">','<div class="x-picker-item {cls} <tpl if="extra">x-picker-invalid</tpl>">{'+this.displayField+"}</div>","</tpl>"]);var a=this.data,b=[],c=a&&a.length,d,e,f;if(a&&Ext.isArray(a)&&c){for(d=0;d<c;d++)e=a[d],f={},Ext.isArray(e)?(f[this.valueField]=e[0],f[this.displayField]=e[1]):Ext.isString(e)?(f[this.valueField]=e,f[this.displayField]=e):Ext.isObject(e)&&(f=e),b.push(f);this.store=new Ext.data.Store({model:"x-textvalue",data:b}),this.tempStore=!0}else this.store&&(this.store=Ext.StoreMgr.lookup(this.store));this.enableBubble("slotpick"),this.title&&(this.title=new Ext.Component({dock:"top",componentCls:"x-picker-slot-title",html:this.title}),this.dockedItems=this.title),Ext.Picker.Slot.superclass.initComponent.call(this),this.value!==undefined&&this.setValue(this.value,!1)},setupBar:function(){this.el.setStyle({padding:""});var a=this.bar.getY()-this.el.getY();this.barHeight=this.bar.getHeight(),this.el.setStyle({padding:a+"px 0"}),this.slotPadding=a,this.scroller.updateBoundary(),this.scroller.setSnap(this.barHeight),this.setSelectedNode(this.selectedIndex,!1)},afterComponentLayout:function(){Ext.defer(this.setupBar,200,this)},initEvents:function(){this.mon(this.scroller,{scrollend:this.onScrollEnd,scope:this})},onScrollEnd:function(a,b){this.selectedNode=this.getNode(Math.round(b.y/this.barHeight)),this.selectedIndex=this.indexOf(this.selectedNode),this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},scrollToNode:function(a,b){var c=Ext.fly(a).getOffsetsTo(this.scrollEl)[1];this.scroller.scrollTo({y:c},b!==!1?!0:!1)},onItemTap:function(a){Ext.Picker.Slot.superclass.onItemTap.apply(this,arguments),this.setSelectedNode(a),this.selectedNode=a,this.selectedIndex=this.indexOf(a),this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},getSelectedNode:function(){return this.selectedNode},setSelectedNode:function(a,b){Ext.isNumber(a)?a=this.getNode(a):a.isModel&&(a=this.getNode(this.store.indexOf(a))),a&&(this.selectedNode=a,this.selectedIndex=this.indexOf(a),this.scrollToNode(a,b))},getValue:function(){var a=this.store.getAt(this.selectedIndex);return a?a.get(this.valueField):null},setValue:function(a,b){var c=this.store.find(this.valueField,a);if(c!=-1){if(!this.rendered){this.selectedIndex=c;return}this.setSelectedNode(c,b)}},onDestroy:function(){this.tempStore&&(this.store.destroyStore(),this.store=null),Ext.Picker.Slot.superclass.onDestroy.call(this)}}),Ext.reg("pickerslot",Ext.Picker.Slot),Ext.DatePicker=Ext.extend(Ext.Picker,{yearFrom:1980,yearTo:(new Date).getFullYear(),monthText:"Month",dayText:"Day",yearText:"Year",slotOrder:["month","day","year"],initComponent:function(){var a=this.yearFrom,b=this.yearTo,c=[],d=[],e=[],f,g,h,i;a>b&&(g=a,a=b,b=g);for(h=a;h<=b;h++)c.push({text:h,value:h});i=this.getDaysInMonth(1,(new Date).getFullYear());for(h=0;h<i;h++)d.push({text:h+1,value:h+1});for(h=0,f=Date.monthNames.length;h<f;h++)e.push({text:Date.monthNames[h],value:h+1});this.slots=[],this.slotOrder.forEach(function(a){this.slots.push(this.createSlot(a,d,e,c))},this),Ext.DatePicker.superclass.initComponent.call(this)},afterRender:function(){Ext.DatePicker.superclass.afterRender.apply(this,arguments),this.setValue(this.value)},createSlot:function(a,b,c,d){switch(a){case"year":return{name:"year",align:"center",data:d,title:this.useTitles?this.yearText:!1,flex:3};case"month":return{name:a,align:"right",data:c,title:this.useTitles?this.monthText:!1,flex:4};case"day":return{name:"day",align:"center",data:b,title:this.useTitles?this.dayText:!1,flex:2}}},onSlotPick:function(a,b){var c=a.name,d,e,f;if(c==="month"||c==="year")f=this.child("[name=day]"),d=this.getValue(),e=this.getDaysInMonth(d.getMonth()+1,d.getFullYear()),f.store.clearFilter(),f.store.filter({fn:function(a){return a.get("extra")===!0||a.get("value")<=e}}),f.scroller.updateBoundary(!0);Ext.DatePicker.superclass.onSlotPick.apply(this,arguments)},getValue:function(){var a=Ext.DatePicker.superclass.getValue.call(this),b=this.getDaysInMonth(a.month,a.year),c=Math.min(a.day,b);return new Date(a.year,a.month-1,c)},setValue:function(a,b){return!Ext.isDate(a)&&!Ext.isObject(a)&&(a=null),Ext.isDate(a)?this.value={day:a.getDate(),year:a.getFullYear(),month:a.getMonth()+1}:this.value=a,Ext.DatePicker.superclass.setValue.call(this,this.value,b)},getDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return a==2&&this.isLeapYear(b)?29:c[a-1]},isLeapYear:function(a){return(a&3)===0&&!!(a%100||a%400===0&&a)}}),Ext.reg("datepicker",Ext.DatePicker),Ext.Media=Ext.extend(Ext.Component,{url:"",enableControls:!0,autoResume:!1,autoPause:!0,preload:!0,playing:!1,afterRender:function(){var a=this.getConfiguration();Ext.apply(a,{src:this.url,preload:this.preload?"auto":"none"}),this.enableControls&&(a.controls="controls"),this.loop&&(a.loop="loop"),this.media=this.el.createChild(a),Ext.Media.superclass.afterRender.call(this),this.on({scope:this,activate:this.onActivate,beforedeactivate:this.onDeactivate})},onActivate:function(){this.autoResume&&!this.playing&&this.play()},onDeactivate:function(){this.autoPause&&this.playing&&this.pause()},play:function(){this.media.dom.play(),this.playing=!0},pause:function(){this.media.dom.pause(),this.playing=!1},toggle:function(){this.playing?this.pause():this.play()}}),Ext.reg("media",Ext.Media),Ext.Video=Ext.extend(Ext.Media,{posterUrl:"",componentCls:"x-video",afterRender:function(){Ext.Video.superclass.afterRender.call(this),this.posterUrl&&(this.media.hide(),this.ghost=this.el.createChild({cls:"x-video-ghost",style:"width: 100%; height: 100%; background: #000 url("+this.posterUrl+") center center no-repeat; -webkit-background-size: 100% auto;"}),this.ghost.on("tap",this.onGhostTap,this,{single:!0}))},onGhostTap:function(){this.media.show(),this.ghost.hide(),this.play()},getConfiguration:function(){return{tag:"video",width:"100%",height:"100%"}}}),Ext.reg("video",Ext.Video),Ext.Audio=Ext.extend(Ext.Media,{componentCls:"x-audio",onActivate:function(){Ext.Audio.superclass.onActivate.call(this),Ext.is.Phone&&this.media.show()},onDeactivate:function(){Ext.Audio.superclass.onDeactivate.call(this),Ext.is.Phone&&this.media.hide()},getConfiguration:function(){var a=!this.enableControls;return Ext.supports.AudioTag?{tag:"audio",hidden:a}:{tag:"embed",type:"audio/mpeg",target:"myself",controls:"true",hidden:a}}}),Ext.reg("audio",Ext.Audio),Ext.MessageBox=Ext.extend(Ext.Sheet,{centered:!0,renderHidden:!0,ui:"dark",componentCls:"x-msgbox",enterAnimation:"pop",exitAnimation:"pop",autoHeight:!0,defaultTextHeight:75,constructor:function(a){a=a||{};var b=a.ui||this.ui||"",c=a.componentCls||this.componentCls;delete a.html,this.titleBar=Ext.create({xtype:"toolbar"
,ui:b,dock:"top",cls:c+"-title",title:"&#160;"}),this.buttonBar=Ext.create({xtype:"toolbar",ui:b,dock:"bottom",layout:{pack:"center"},cls:c+"-buttons"}),a=Ext.apply({ui:b,dockedItems:[this.titleBar,this.buttonBar],renderSelectors:{body:"."+c+"-body",iconEl:"."+c+"-icon",msgContentEl:"."+c+"-content",msgEl:"."+c+"-text",inputsEl:"."+c+"-inputs",inputEl:"."+c+"-input-single",multiLineEl:"."+c+"-input-textarea"}},a||{}),Ext.MessageBox.superclass.constructor.call(this,a)},renderTpl:['<div class="{componentCls}-body"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','<div class="{componentCls}-icon x-hidden-display"></div>','<div class="{componentCls}-content">','<div class="{componentCls}-text"></div>','<div class="{componentCls}-inputs x-hidden-display">','<input type="text" class="{componentCls}-input {componentCls}-input-single" />','<textarea class="{componentCls}-input {componentCls}-input-textarea"></textarea>',"</div>","</div>","</div>"],onClick:function(a){if(a){var b=a.config||{};typeof b.fn=="function"&&b.fn.call(b.scope||null,a.itemId||a.text,b.input?b.input.dom.value:null,b),b.cls&&this.el.removeCls(b.cls),b.input&&b.input.dom.blur()}this.hide()},show:function(a){var b,c,d={autocomplete:"off",autocapitalize:"off",autocorrect:"off",maxlength:0,autofocus:!0,placeholder:"",type:"text"},e=/true|on/i;this.rendered||this.render(document.body),a=Ext.applyIf(a||{},{multiLine:!1,prompt:!1,value:"",modal:!0}),a.title?(this.titleBar.setTitle(a.title),this.titleBar.show()):this.titleBar.hide();if(this.inputsEl&&(a.multiLine||a.prompt)){this.inputsEl.show(),this.multiLineEl&&a.multiLine?(this.inputEl&&this.inputEl.hide(),this.multiLineEl.show().setHeight(Ext.isNumber(a.multiLine)?parseFloat(a.multiLine):this.defaultTextHeight),a.input=this.multiLineEl):this.inputEl&&(this.inputEl.show(),this.multiLineEl&&this.multiLineEl.hide(),a.input=this.inputEl),Ext.isObject(a.prompt)&&Ext.apply(d,a.prompt);for(c in d)d.hasOwnProperty(c)&&(b=d[c],a.input.dom.setAttribute(c.toLowerCase(),/^auto/i.test(c)?e.test(b+"")?"on":"off":b))}else this.inputsEl&&this.inputsEl.hide();this.setIcon(a.icon||"",!1),this.updateText(a.msg,!1),a.cls&&this.el.addCls(a.cls),this.modal=!!a.modal;var f=this.buttonBar,g=[];return f.removeAll(),Ext.each([].concat(a.buttons||Ext.MessageBox.OK),function(b){b&&g.push(Ext.applyIf({config:a,scope:this,handler:this.onClick},b))},this),f.add(g),f.rendered&&f.doLayout(),Ext.MessageBox.superclass.show.call(this,a.animate),a.input&&(a.input.dom.value=a.value||"",e.test(d.autofocus+"")&&!("autofocus"in a.input.dom)&&a.input.dom.focus()),this},onOrientationChange:function(){this.doComponentLayout(),Ext.MessageBox.superclass.onOrientationChange.apply(this,arguments)},adjustScale:function(){Ext.apply(this,{maxWidth:window.innerWidth,maxHeight:window.innerHeight,minWidth:window.innerWidth*.5,minHeight:window.innerHeight*.5})},doComponentLayout:function(){return this.adjustScale(),Ext.MessageBox.superclass.doComponentLayout.apply(this,arguments)},alert:function(a,b,c,d){return this.show({title:a,msg:b,buttons:Ext.MessageBox.OK,fn:c,scope:d,icon:Ext.MessageBox.INFO})},confirm:function(a,b,c,d){return this.show({title:a,msg:b,buttons:Ext.MessageBox.YESNO,fn:function(a){c.call(d,a)},scope:d,icon:Ext.MessageBox.QUESTION})},prompt:function(a,b,c,d,e,f,g){return this.show({title:a,msg:b,buttons:Ext.MessageBox.OKCANCEL,fn:function(a,b){c.call(d,a,b)},scope:d,icon:Ext.MessageBox.QUESTION,prompt:g||!0,multiLine:e,value:f})},updateText:function(a,b){return this.msgEl&&(this.msgEl.update(a?String(a):"&#160;"),b!==!1&&this.doComponentLayout()),this},setIcon:function(a,b){return a?(this.iconEl.show(),this.iconEl.replaceCls(this.iconCls,a)):this.iconEl.replaceCls(this.iconCls,"x-hidden-display"),b!==!1&&this.doComponentLayout(),this.iconCls=a,this}}),function(){var a=Ext.MessageBox;Ext.apply(a,{OK:{text:"OK",itemId:"ok",ui:"action"},CANCEL:{text:"Cancel",itemId:"cancel"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},INFO:"x-msgbox-info",WARNING:"x-msgbox-warning",QUESTION:"x-msgbox-question",ERROR:"x-msgbox-error"}),Ext.apply(a,{OKCANCEL:[a.CANCEL,a.OK],YESNOCANCEL:[a.CANCEL,a.NO,a.YES],YESNO:[a.NO,a.YES]})}(),Ext.reg("messagebox",Ext.MessageBox),Ext.reg("msgbox",Ext.MessageBox),Ext.Msg=new Ext.MessageBox,Ext.form.FormPanel=Ext.extend(Ext.Panel,{standardSubmit:!1,componentCls:"x-form",url:undefined,baseParams:undefined,waitTpl:new Ext.XTemplate('<div class="{cls}">{message}&hellip;</div>'),submitOnAction:!0,getElConfig:function(){return Ext.apply(Ext.form.FormPanel.superclass.getElConfig.call(this),{tag:"form"})},initComponent:function(){this.addEvents("submit","beforesubmit","exception"),Ext.form.FormPanel.superclass.initComponent.call(this),this.on("action",this.onFieldAction,this)},afterRender:function(){Ext.form.FormPanel.superclass.afterRender.call(this),this.el.on("submit",this.onSubmit,this)},onSubmit:function(a,b){(!this.standardSubmit||this.fireEvent("beforesubmit",this,this.getValues(!0))===!1)&&a&&a.stopEvent()},onFieldAction:function(a){this.submitOnAction&&(a.blur(),this.submit())},submit:function(a){var b=this.el.dom||{},c;a=Ext.apply({url:this.url||b.action,submitDisabled:!1,method:b.method||"post",autoAbort:!1,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{}),c=this.getValues(this.standardSubmit||!a.submitDisabled);if(this.standardSubmit)return b&&(a.url&&Ext.isEmpty(b.action)&&(b.action=a.url),b.method=(a.method||b.method).toLowerCase(),this.fireEvent("beforesubmit",this,c,a)!==!1&&b.submit()),null;if(this.fireEvent("beforesubmit",this,c,a)!==!1)return a.waitMsg&&this.showMask(a.waitMsg),Ext.Ajax.request({url:a.url,method:a.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},this.baseParams||{}),a.params||{},c)),autoAbort:a.autoAbort,headers:Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},a.headers||{}),scope:this,callback:function(b,c,d){var e=d.responseText;this.hideMask();if(c){d=Ext.decode(e),c=!!d.success;if(c){Ext.isFunction(a.success)&&a.success.call(a.scope||this,this,d,e),this.fireEvent("submit",this,d);return}}Ext.isFunction(a.failure)&&a.failure.call(a.scope||this,this,d,e),this.fireEvent("exception",this,d)}})},loadRecord:function(a){return a&&a.data&&(this.setValues(a.data),this.record=a),this},loadModel:function(){return this.loadRecord.apply(this,arguments)},getRecord:function(){return this.record},updateRecord:function(a,b){var c,d,e;if(a&&(c=a.fields)){d=this.getValues(b);for(e in d)d.hasOwnProperty(e)&&c.containsKey(e)&&a.set(e,d[e])}return this},setValues:function(a){var b=this.getFields(),c,d,e;a=a||{};for(c in a)a.hasOwnProperty(c)&&(d=b[c],e=a[c],d&&(Ext.isArray(d)?d.forEach(function(b){Ext.isArray(a[c])?b.setChecked(e.indexOf(b.getValue())!=-1):b.setChecked(e==b.getValue())}):d.setChecked?d.setChecked(e):d.setValue(e)));return this},getValues:function(a){var b=this.getFields(),c,d={},e;for(e in b)if(b.hasOwnProperty(e))if(Ext.isArray(b[e]))d[e]=[],b[e].forEach(function(b){b.isChecked()&&(!a||!b.disabled)&&(b instanceof Ext.form.Radio?d[e]=b.getValue():d[e].push(b.getValue()))});else{c=b[e];if(!a||!c.disabled)c instanceof Ext.form.Checkbox?d[e]=c.isChecked()?c.getValue():null:d[e]=c.getValue()}return d},reset:function(){return this.getFieldsAsArray().forEach(function(a){a.reset()}),this},enable:function(){return this.getFieldsAsArray().forEach(function(a){a.enable()}),this},disable:function(){return this.getFieldsAsArray().forEach(function(a){a.disable()}),this},getFieldsAsArray:function(){var a=[],b=function(c){c.isField&&a.push(c),c.isContainer&&c.items.each(b)};return this.items.each(b),a},getFields:function(a){var b={},c,d=function(e){if(e.isField){c=e.getName();if(a&&c==a||typeof a=="undefined")b.hasOwnProperty(c)?(Ext.isArray(b[c])||(b[c]=[b[c]]),b[c].push(e)):b[c]=e}e.isContainer&&e.items.each(d)};return this.items.each(d),a?b[a]||[]:b},getFieldsFromItem:function(){},showMask:function(a,b){return a=Ext.isString(a)?{message:a}:a,a&&this.waitTpl&&(this.maskTarget=b=Ext.get(b||a.target)||this.el,b&&b.mask(this.waitTpl.apply(a))),this},hideMask:function(){return this.maskTarget&&(this.maskTarget.unmask(),delete this.maskTarget),this}}),Ext.form.FormPanel.prototype.load=Ext.form.FormPanel.prototype.loadModel,Ext.reg("formpanel",Ext.form.FormPanel),Ext.reg("form",Ext.form.FormPanel),Ext.form.FieldSet=Ext.extend(Ext.Panel,{componentCls:"x-form-fieldset",initComponent:function(){this.componentLayout=this.getLayout(),Ext.form.FieldSet.superclass.initComponent.call(this)},afterLayout:function(a){Ext.form.FieldSet.superclass.afterLayout.call(this,a),this.title&&!this.titleEl?this.setTitle(this.title):this.titleEl&&this.el.insertFirst(this.titleEl),this.instructions&&!this.instructionsEl?this.setInstructions(this.instructions):this.instructionsEl&&this.el.appendChild(this.instructionsEl)},setTitle:function(a){return this.rendered?(this.titleEl||(this.titleEl=this.el.insertFirst({cls:this.componentCls+"-title"})),this.titleEl.setHTML(a)):this.title=a,this},setInstructions:function(a){return this.rendered?(this.instructionsEl||(this.instructionsEl=this.el.createChild({cls:this.componentCls+"-instructions"})),this.instructionsEl.setHTML(a)):this.instructions=a,this}}),Ext.reg("fieldset",Ext.form.FieldSet),Ext.form.Field=Ext.extend(Ext.Component,{isField:!0,fieldCls:"x-form-field",baseCls:"x-field",inputCls:undefined,disabled:!1,renderTpl:['<tpl if="label">','<div class="x-form-label"><span>{label}</span></div>',"</tpl>",'<tpl if="fieldEl">','<div class="x-form-field-container"><input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoCorrect">autocorrect="{autoCorrect}" </tpl> />','<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div>",'<tpl if="useClearIcon"><div class="x-field-clear-container"><div class="x-field-clear x-hidden-visibility">&#215;</div></div></tpl>',"</tpl>"],isFormField:!0,autoCreateField:!0,inputType:"text",label:null,labelWidth:"30%",labelAlign:"left",required:!1,useMask:!1,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this)},getName:function(){return this.name||this.id||""},applyRenderSelectors:function(){this.renderSelectors=Ext.applyIf(this.renderSelectors||{},{mask:".x-field-mask",labelEl:".x-form-label",fieldEl:"."+Ext.util.Format.trim(this.renderData.fieldCls).replace(/ /g,".")}),Ext.form.Field.superclass.applyRenderSelectors.call(this)},initRenderData:function(){return Ext.form.Field.superclass.initRenderData.apply(this,arguments),Ext.applyIf(this.renderData,{disabled:this.disabled,fieldCls:"x-input-"+this.inputType+(this.inputCls?" "+this.inputCls:""),fieldEl:!this.fieldEl&&this.autoCreateField,inputId:Ext.id(),label:this.label,labelAlign:"x-label-align-"+this.labelAlign,name:this.getName(),required:this.required,style:this.style,tabIndex:this.tabIndex,inputType:this.inputType,useMask:this.useMask}),this.renderData},initEvents:function(){Ext.form.Field.superclass.initEvents.apply(this,arguments),this.fieldEl&&this.useMask&&this.mask&&this.mon(this.mask,{click:this.onMaskTap,scope:this})},onRender:function(){Ext.form.Field.superclass.onRender.apply(this,arguments);var a=[];this.required&&a.push("x-field-required"),this.label&&a.push("x-label-align-"+this.labelAlign),this.el.addCls(a)},afterRender:function(){Ext.form.Field.superclass.afterRender.apply(this,arguments),this.label&&this.setLabelWidth(this.labelWidth),this.initValue()},isDisabled:function(){return this.disabled},onEnable:function(){this.fieldEl.dom.disabled=!1},onDisable:function(){this.fieldEl.dom.disabled=!0},initValue:function(){this.setValue(this.value||"",!0),this.originalValue=this.getValue()},isDirty:function(){return this.disabled||!this.rendered?!1:String(this.getValue())!==String(this.originalValue)},onMaskTap:function(a){return this.disabled?!1:!0},showMask:function(a){this.mask&&this.mask.setStyle("display","block")},hideMask:function(a){this.mask&&this.mask.setStyle("display","none")},reset:function(){this.setValue(this.originalValue)},getValue:function(){return!this.rendered||!this.fieldEl?this.value:this.fieldEl.getValue()},setValue:function(a){return this.value=a,this.rendered&&this.fieldEl&&(this.fieldEl.dom.value=Ext.isEmpty(a)?"":a),this},setLabelWidth:function(a){return this.labelEl&&this.labelEl.setWidth(a),this}}),Ext.reg("field",Ext.form.Field),Ext.form.Slider=Ext.extend(Ext.form.Field,{ui:"slider",inputCls:"x-slider",inputType:"slider",minValue:0,maxValue:100,animationDuration:200,value:0,trackWidth:null,monitorOrientation:!0,renderTpl:['<tpl if="label">','<div class="x-form-label"><span>{label}</span></div>',"</tpl>",'<tpl if="fieldEl">','<div id="{inputId}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}"</tpl>','<tpl if="style">style="{style}" </tpl>',"/></tpl>"],increment:1,constructor:function(a){this.addEvents("beforechange","change","drag","dragend"),Ext.form.Slider.superclass.constructor.call(this,a)},initComponent:function(){this.tabIndex=-1,this.increment==0&&(this.increment=1),this.increment=Math.abs(this.increment),this.values=[this.value],Ext.form.Slider.superclass.initComponent.apply(this,arguments);if(this.thumbs==undefined){var a=[],b=this.values,c=b.length,d,e=this.getThumbClass();for(d=0;d<c;d++)a[a.length]=new e({value:b[d],slider:this,listeners:{scope:this,drag:this.onDrag,dragend:this.onThumbDragEnd}});this.thumbs=a}},initValue:function(){var a=this.getThumb();a.dragObj&&a.dragObj.updateBoundary(),Ext.form.Slider.superclass.initValue.apply(this,arguments)},onOrientationChange:function(){Ext.form.Slider.superclass.onOrientationChange.apply(this,arguments);var a=this,b=this.getThumb();b.dragObj&&setTimeout(function(){b.dragObj.updateBoundary(),a.moveThumb(b,a.getPixelValue(b.getValue(),b),0)},100)},getThumbClass:function(){return Ext.form.Slider.Thumb},setValue:function(a,b,c){typeof c=="undefined"&&(c=!0),c=!!c;var d=this.getThumb(),e=d.getValue(),f=this.constrain(a);return this.fireEvent("beforechange",this,d,f,e)!==!1&&(c&&this.moveThumb(d,this.getPixelValue(f,d),b),d.setValue(f),this.doComponentLayout(),this.fireEvent("change",this,d,f,e)),this},constrain:function(a){var b=a%this.increment;return a-=b,Math.abs(b)>=this.increment/2&&(a+=b>0?this.increment:-this.increment),a=Math.max(this.minValue,a),a=Math.min(this.maxValue,a),a},getValue:function(){return this.getThumb().getValue()},getThumb:function(){return this.thumbs[0]},getSliderValue:function(a,b){var c=b.dragObj.offsetBoundary.right,d=this.maxValue-this.minValue,e;return this.trackWidth=c>0?c:this.trackWidth,e=d/this.trackWidth,this.minValue+e*a},getPixelValue:function(a,b){var c=b.dragObj.offsetBoundary.right,d=this.maxValue-this.minValue,e;return this.trackWidth=c>0?c:this.trackWidth,e=this.trackWidth/d,e*(a-this.minValue)},renderThumbs:function(){var a=this.thumbs,b=a.length,c;for(c=0;c<b;c++)a[c].render(this.fieldEl)},onThumbDragEnd:function(a){var b=this.getThumbValue(a);this.setValue(b),this.fireEvent("dragend",this,a.thumb,this.constrain(b))},getThumbValue:function(a){var b=a.thumb;return this.getSliderValue(-a.getOffset().x,b)},onDrag:function(a){var b=this.getThumbValue(a);this.fireEvent("drag",this,a.thumb,this.constrain(b))},onTap:function(a){if(!this.disabled){var b=this.fieldEl.getPageBox(),c=a.pageX-b.left,d=this.getNearest(c),e=d.dragObj.size.width/2;this.setValue(this.getSliderValue(c-e,d),this.animationDuration,!0)}},moveThumb:function(a,b,c){a.dragObj.setOffset(new Ext.util.Offset(b,0),c)},afterRender:function(a){var b=this;b.renderThumbs(),Ext.form.Slider.superclass.afterRender.apply(b,arguments),b.fieldEl.on({scope:b,tap:b.onTap})},getNearest:function(a){return this.thumbs[0]},setThumbsDisabled:function(a){var b=this.thumbs,c=b.length,d=0;for(;d<c;d++)b[d].dragObj[a?"disable":"enable"]()},disable:function(){Ext.form.Slider.superclass.disable.call(this),this.setThumbsDisabled(!0)},enable:function(){Ext.form.Slider.superclass.enable.call(this),this.setThumbsDisabled(!1)}}),Ext.reg("sliderfield",Ext.form.Slider),Ext.form.Slider.Thumb=Ext.extend(Ext.form.Field,{isField:!1,baseCls:"x-thumb",autoCreateField:!1,draggable:!0,value:0,onRender:function(){this.draggable={direction:"horizontal",constrain:this.slider.fieldEl,revert:!1,thumb:this},Ext.form.Slider.Thumb.superclass.onRender.apply(this,arguments)},setValue:function(a){return this.value=a,this},getValue:function(){return this.value}}),Ext.reg("sliderthumb",Ext.form.Slider.Thumb),Ext.form.Toggle=Ext.extend(Ext.form.Slider,{minValue:0,maxValue:1,ui:"toggle",inputType:"toggle",minValueCls:"x-toggle-off",maxValueCls:"x-toggle-on",animationDuration:70,toggle:function(){var a=this.thumbs[0],b=a.getValue();this.setValue(b==this.minValue?this.maxValue:this.minValue,this.animationDuration)},setValue:function(a){Ext.form.Toggle.superclass.setValue.call(this,a,this.animationDuration);var b=this.fieldEl;this.constrain(a)===this.minValue?(b.addCls(this.minValueCls),b.removeCls(this.maxValueCls)):(b.addCls(this.maxValueCls),b.removeCls(this.minValueCls))},onTap:function(){this.disabled||this.toggle()},getThumbClass:function(){return Ext.form.Toggle.Thumb}}),Ext.reg("togglefield",Ext.form.Toggle),Ext.form.Toggle.Thumb=Ext.extend(Ext.form.Slider.Thumb,{onRender:function(){Ext.form.Toggle.Thumb.superclass.onRender.apply(this,arguments),Ext.DomHelper.append(this.el,[{cls:"x-toggle-thumb-off",html:"<span>OFF</span>"},{cls:"x-toggle-thumb-on",html:"<span>ON</span>"},{cls:"x-toggle-thumb-thumb"}])}}),Ext.form.Text=Ext.extend(Ext.form.Field,{ui:"text",focusCls:"x-field-focus",maxLength:0,placeHolder:undefined,autoComplete:undefined,autoCapitalize:undefined,autoCorrect:undefined,isFocused:!1,isClearIconVisible:!1,useMask:Ext.is.iOS,initComponent:function(){this.addEvents("focus","blur","keyup","change","action"),this.enableBubble("action"),Ext.form.Text.superclass.initComponent.apply(this,arguments)},applyRenderSelectors:function(){this.renderSelectors=Ext.applyIf(this.renderSelectors||{},{clearIconEl:".x-field-clear",clearIconContainerEl:".x-field-clear-container"}),Ext.form.Text.superclass.applyRenderSelectors.call(this)},initRenderData:function(){var a=Ext.form.Text.superclass.initRenderData.call(this),b=this.autoComplete,c=this.autoCapitalize,d=this.autoCorrect;Ext.applyIf(a,{placeHolder:this.placeHolder,maxlength:this.maxLength,useClearIcon:this.useClearIcon});var e=[!0,"on"];return b!==undefined&&(a.autoComplete=e.indexOf(b)!==-1?"on":"off"),c!==undefined&&(a.autoCapitalize=e.indexOf(c)!==-1?"on":"off"),d!==undefined&&(a.autoCorrect=e.indexOf(d)!==-1?"on":"off"),this.renderData=a,a},initEvents:function(){Ext.form.Text.superclass.initEvents.call(this),this.fieldEl&&(this.mon(this.fieldEl,{focus:this.onFocus,blur:this.onBlur,keyup:this.onKeyUp,paste:this.updateClearIconVisibility,mousedown:this.onBeforeFocus,scope:this}),this.clearIconEl&&this.mon(this.clearIconContainerEl,{scope:this,tap:this.onClearIconTap}))},onEnable:function(){Ext.form.Text.superclass.onEnable.apply(this,arguments),this.disabled=!1,this.updateClearIconVisibility()},onDisable:function(){Ext.form.Text.superclass.onDisable.apply(this,arguments),this.blur(),this.hideClearIcon()},onClearIconTap:function(){this.disabled||this.setValue("")},updateClearIconVisibility:function(){var a=this.getValue();return a||(a=""),a.length<1?this.hideClearIcon():this.showClearIcon(),this},showClearIcon:function(){return!this.disabled&&this.fieldEl&&this.clearIconEl&&!this.isClearIconVisible&&(this.isClearIconVisible=!0,this.fieldEl.addCls("x-field-clearable"),this.clearIconEl.removeCls("x-hidden-visibility")),this},hideClearIcon:function(){return this.fieldEl&&this.clearIconEl&&this.isClearIconVisible&&(this.isClearIconVisible=!1,this.fieldEl.removeCls("x-field-clearable"),this.clearIconEl.addCls("x-hidden-visibility")),this},afterRender:function(){Ext.form.Text.superclass.afterRender.call(this),this.updateClearIconVisibility()},onBeforeFocus:function(a){this.fireEvent("beforefocus",a)},beforeFocus:Ext.emptyFn,onMaskTap:function(a){if(Ext.form.Text.superclass.onMaskTap.apply(this,arguments)!==!0)return!1;this.maskCorrectionTimer=Ext.defer(this.showMask,1e3,this),this.hideMask()},onFocus:function(a){this.mask&&(this.maskCorrectionTimer&&clearTimeout(this.maskCorrectionTimer),this.hideMask()),this.beforeFocus(),this.focusCls&&this.el.addCls(this.focusCls),this.isFocused||(this.isFocused=!0,this.startValue=this.getValue(),this.fireEvent("focus",this,a)),Ext.currentlyFocusedField=this},beforeBlur:Ext.emptyFn,onBlur:function(a){this.beforeBlur(),this.focusCls&&this.el.removeCls(this.focusCls),this.isFocused=!1;var b=this.getValue();String(b)!=String(this.startValue)&&this.fireEvent("change",this,b,this.startValue),this.fireEvent("blur",this,a),this.updateClearIconVisibility(),this.showMask(),this.afterBlur(),Ext.currentlyFocusedField=null},afterBlur:Ext.emptyFn,focus:function(){return this.rendered&&this.fieldEl&&this.fieldEl.dom.focus&&this.fieldEl.dom.focus(),this},blur:function(){return this.rendered&&this.fieldEl&&this.fieldEl.dom.blur&&this.fieldEl.dom.blur(),this},setValue:function(){Ext.form.Text.superclass.setValue.apply(this,arguments),this.updateClearIconVisibility()},onKeyUp:function(a){this.updateClearIconVisibility(),this.fireEvent("keyup",this,a),a.browserEvent.keyCode===13&&(this.blur(),this.fireEvent("action",this,a))}}),Ext.reg("textfield",Ext.form.Text),Ext.form.TextField=Ext.extend(Ext.form.Text,{constructor:function(){console.warn("Ext.form.TextField has been deprecated and will be removed in Sencha Touch 1.0. Please use Ext.form.Text instead"),Ext.form.TextField.superclass.constructor.apply(this,arguments)}}),Ext.form.Password=Ext.extend(Ext.form.Text,{inputType:"password",autoCapitalize:!1}),Ext.reg("passwordfield",Ext.form.Password),Ext.form.Email=Ext.extend(Ext.form.Text,{inputType:"email",autoCapitalize:!1}),Ext.reg("emailfield",Ext.form.Email),Ext.form.Url=Ext.extend(Ext.form.Text,{inputType:"url",autoCapitalize:!1}),Ext.reg("urlfield",Ext.form.Url),Ext.form.Search=Ext.extend(Ext.form.Text,{inputType:"search"}),Ext.reg("searchfield",Ext.form.Search),Ext.form.Number=Ext.extend(Ext.form.Text,{ui:"number",inputType:"number",minValue:undefined,maxValue:undefined,stepValue:undefined,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><div class="x-form-field-container">','<input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="minValue != undefined">min="{minValue}" </tpl>','<tpl if="maxValue != undefined">max="{maxValue}" </tpl>','<tpl if="stepValue != undefined">step="{stepValue}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div></tpl>",'<tpl if="useClearIcon"><div class="x-field-clear-container"><div class="x-field-clear x-hidden-visibility">&#215;</div><div></tpl>'],onRender:function(){Ext.apply(this.renderData,{maxValue:this.maxValue,minValue:this.minValue,stepValue:this.stepValue}),Ext.form.Number.superclass.onRender.apply(this,arguments)}}),Ext.reg("numberfield",Ext.form.Number),Ext.form.Spinner=Ext.extend(Ext.form.Number,{componentCls:"x-spinner",minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,incrementValue:1,accelerateOnTapHold:!0,defaultValue:0,cycle:!1,disableInput:!1,useClearIcon:!1,autoCapitalize:!1,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl">','<div class="{componentCls}-body">','<div class="{componentCls}-down"><span>-</span></div>','<div class="x-form-field-container">','<input id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="minValue != undefined">min="{minValue}" </tpl>','<tpl if="maxValue != undefined">max="{maxValue}" </tpl>','<tpl if="stepValue != undefined">step="{stepValue}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div>",'<div class="{componentCls}-up"><span>+</span></div>',"</div>","</tpl>"],initComponent:function(){this.addEvents("spin","spindown","spinup"),Ext.form.Spinner.superclass.initComponent.call(this)},onRender:function(){this.renderData.disableInput=this.disableInput,Ext.applyIf(this.renderSelectors,{spinUpEl:".x-spinner-up",spinDownEl:".x-spinner-down"}),Ext.form.Spinner.superclass.onRender.apply(this,arguments),this.downRepeater=this.createRepeater(this.spinDownEl,this.onSpinDown),this.upRepeater=this.createRepeater(this.spinUpEl,this.onSpinUp)},initValue:function(){isNaN(this.defaultValue)&&(this.defaultValue=0),this.value||(this.value=this.defaultValue),Ext.form.Spinner.superclass.initValue.apply(this,arguments)},createRepeater:function(a,b){var c=new Ext.util.TapRepeater(a,{accelerate:this.accelerateOnTapHold});return this.mon(c,{tap:b,touchstart:this.onTouchStart,touchend:this.onTouchEnd,preventDefault:!0,scope:this}),c},onSpinDown:function(){this.disabled||this.spin(!0)},onSpinUp:function(){this.disabled||this.spin(!1)},onKeyUp:function(a){Ext.form.Spinner.superclass.onKeyUp.apply(this,arguments)},onTouchStart:function(a){this.disabled||a.el.addCls("x-button-pressed")},onTouchEnd:function(a){a.el.removeCls("x-button-pressed")},setValue:function(a){a=parseFloat(a),isNaN(a)&&(a=this.defaultValue),Ext.form.Spinner.superclass.setValue.call(this,a)},spin:function(a){var b=parseFloat(this.getValue()),c=this.incrementValue,d=this.cycle,e=this.minValue,f=this.maxValue,g=a?"down":"up";a?b-=c:b+=c,b=isNaN(b)?this.defaultValue:b,b<e?b=d?f:e:b>f&&(b=d?e:f),this.setValue(b),this.fireEvent("spin"+g,this,b),this.fireEvent("spin",this,b,g)},destroy:function(){Ext.destroy(this.downRepeater,this.upRepeater),Ext.form.Spinner.superclass.destroy.call(this,arguments)}}),Ext.reg("spinnerfield",Ext.form.Spinner),Ext.form.Hidden=Ext.extend(Ext.form.Field,{ui:"hidden",inputType:"hidden",tabIndex:-1}),Ext.reg("hiddenfield",Ext.form.Hidden),Ext.form.HiddenField=Ext.extend(Ext.form.Hidden,{constructor:function(){console.warn("Ext.form.HiddenField has been deprecated and will be removed in Sencha Touch 1.0. Please use Ext.form.Hidden instead"),Ext.form.HiddenField.superclass.constructor.apply(this,arguments)}}),Ext.form.Checkbox=Ext.extend(Ext.form.Field,{ui:"checkbox",inputType:"checkbox",checked:!1,value:"",constructor:function(a){this.addEvents("check","uncheck"),Ext.form.Checkbox.superclass.constructor.call(this,a)},renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}" tabIndex="-1" ','<tpl if="checked"> checked </tpl>','<tpl if="style">style="{style}" </tpl> value="{inputValue}" />',"</tpl>"],onRender:function(){var a=this.getBooleanIsChecked(this.checked);Ext.apply(this.renderData,{inputValue:String(this.value),checked:a}),Ext.form.Checkbox.superclass.onRender.apply(this,arguments),this.fieldEl&&(this.mon(this.fieldEl,{click:this.onChange,scope:this}),this.setChecked(a),this.originalState=this.isChecked())},onChange:function(a){if(a){a.browserEvent&&(a=a.browserEvent);if(Ext.supports.Touch&&!a.isSimulated){a.preventDefault(),a.stopPropagation();return}}this.isChecked()?this.fireEvent("check",this):this.fireEvent("uncheck",this)},isChecked:function(){return this.rendered?this.fieldEl.dom.checked||!1:!!this.checked},setChecked:function(a){var b=this.getBooleanIsChecked(a),c=this.rendered,d,e;return c?(e=this.fieldEl.dom,d=e.checked):d=!!this.checked,d!=b&&(c?e.checked=b:this.checked=b,this.onChange()),this},check:function(){return this.setChecked(!0)},uncheck:function(){return this.setChecked(!1)},reset:function(){return Ext.form.Checkbox.superclass.reset.apply(this,arguments),this.setChecked(this.originalState),this},getBooleanIsChecked:function(a){return/^(true|1|on)/i.test(String(a))},getSameGroupFields:function(){var a=this.el.up("form"),b=Ext.getCmp(a.id),c=[];return b&&(c=b.getFields(this.getName())),c},getGroupValues:function(){var a=[];return this.getSameGroupFields().forEach(function(b){b.isChecked()&&a.push(b.getValue())}),a},setGroupValues:function(a){return this.getSameGroupFields().forEach(function(b){b.setChecked(a.indexOf(b.getValue())!==-1)}),this},setValue:function(a){a=String(a),Ext.form.Checkbox.superclass.setValue.call(this,a)}}),Ext.reg("checkboxfield",Ext.form.Checkbox),Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",ui:"radio",getGroupValue:function(){var a,b=this.getSameGroupFields();for(var c=0;c<b.length;c++){a=b[c];if(a.isChecked())return a.getValue()}return null},setGroupValue:function(a){var b,c=this.getSameGroupFields(),d=0,e=c.length;for(;d<e;d++){b=c[d];if(b.getValue()==a){b.check();return}}}}),Ext.reg("radiofield",Ext.form.Radio),Ext.form.Select=Ext.extend(Ext.form.Text,{ui:"select",valueField:"value",displayField:"text",tabIndex:-1,useMask:!0,monitorOrientation:!0,initComponent:function(){var a=this.options;this.store?this.store=Ext.StoreMgr.lookup(this.store):(this.store=new Ext.data.Store({fields:[this.valueField,this.displayField]}),a&&Ext.isArray(a)&&a.length>0&&this.setOptions(this.options)),Ext.form.Select.superclass.initComponent.call(this),this.addEvents("change")},onRender:function(){Ext.form.Select.superclass.onRender.apply(this,arguments);var a=this.hiddenName;a&&(this.hiddenField=this.el.insertSibling({name:a,tag:"input",type:"hidden"},"after"))},getPicker:function(){return this.picker||(this.picker=new Ext.Picker({slots:[{align:"center",name:this.name,valueField:this.valueField,displayField:this.displayField,value:this.getValue(),store:this.store}],listeners:{change:this.onPickerChange,scope:this}})),this.picker},getListPanel:function(){return this.listPanel||(this.listPanel=new Ext.Panel({floating:!0,stopMaskTapEvent:!1,hideOnMaskTap:!0,cls:"x-select-overlay",scroll:"vertical",items:{xtype:"list",store:this.store,itemId:"list",scroll:!1,itemTpl:['<span class="x-list-label">{'+this.displayField+"}</span>",'<span class="x-list-selected"></span>'],listeners:{select:this.onListSelect,scope:this}}})),this.listPanel},onOrientationChange:function(){this.listPanel&&!this.listPanel.hidden&&!Ext.is.Phone&&this.listPanel.showBy(this.el,!1,!1)},onMaskTap:function(){if(this.disabled)return;this.showComponent()},showComponent:function(){if(Ext.is.Phone){var a=this.getPicker(),b=this.name,c={};c[b]=this.getValue(),a.show(),a.setValue(c)}else{var d=this.getListPanel(),e=this.store.findExact(this.valueField,this.value);d.showBy(this.el,"fade",!1),d.down("#list").getSelectionModel().select(e!=-1?e:0,!1,!0)}},onListSelect:function(a,b){b&&(this.setValue(b.get(this.valueField)),this.fireEvent("change",this,this.getValue())),this.listPanel.hide({type:"fade",out:!0,scope:this})},onPickerChange:function(a,b){var c=this.getValue(),d=b[this.name];d!=c&&(this.setValue(d),this.fireEvent("change",this,d))},setValue:function(a){var b=0,c=this.hiddenField,d;a&&(b=this.store.findExact(this.valueField,a)),d=this.store.getAt(b),d&&this.rendered?(this.fieldEl.dom.value=d.get(this.displayField),this.value=d.get(this.valueField),c&&(c.dom.value=this.value)):(this.rendered&&(this.fieldEl.dom.value=a),this.value=a);if(this.picker){var e={};e[this.name]=this.value,this.picker.setValue(e)}return this},getValue:function(){return this.value},setOptions:function(a,b){a?this.store.loadData(a,b):(this.store.clearData(),this.setValue(null))},destroy:function(){Ext.form.Select.superclass.destroy.apply(this,arguments),Ext.destroy(this.listPanel,this.picker,this.hiddenField)}}),Ext.reg("selectfield",Ext.form.Select),Ext.form.TextArea=Ext.extend(Ext.form.Text,{ui:"textarea",maxRows:undefined,autoCapitalize:!1,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><div class="x-form-field-container">','<textarea id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>'
,'<tpl if="maxRows != undefined">rows="{maxRows}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"></textarea>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div></tpl>"],onRender:function(){this.renderData.maxRows=this.maxRows,Ext.form.TextArea.superclass.onRender.apply(this,arguments)},onKeyUp:function(a){this.fireEvent("keyup",this,a)}}),Ext.reg("textareafield",Ext.form.TextArea),Ext.form.DatePicker=Ext.extend(Ext.form.Field,{ui:"select",picker:null,destroyPickerOnHide:!1,initComponent:function(){this.addEvents("change"),this.tabIndex=-1,this.useMask=!0,Ext.form.Text.superclass.initComponent.apply(this,arguments)},getDatePicker:function(){return this.datePicker||(this.picker instanceof Ext.DatePicker?this.datePicker=this.picker:this.datePicker=new Ext.DatePicker(Ext.apply(this.picker||{})),this.datePicker.setValue(this.value||null),this.datePicker.on({scope:this,change:this.onPickerChange,hide:this.onPickerHide})),this.datePicker},onMaskTap:function(){if(Ext.form.DatePicker.superclass.onMaskTap.apply(this,arguments)!==!0)return!1;this.getDatePicker().show()},onPickerChange:function(a,b){this.setValue(b),this.fireEvent("change",this,this.getValue())},onPickerHide:function(){this.destroyPickerOnHide&&this.datePicker&&this.datePicker.destroy()},setValue:function(a,b){return this.datePicker?(this.datePicker.setValue(a,b),this.value=a!=null?this.datePicker.getValue():null):(!Ext.isDate(a)&&!Ext.isObject(a)&&(a=null),Ext.isObject(a)?this.value=new Date(a.year,a.month-1,a.day):this.value=a),this.rendered&&(this.fieldEl.dom.value=this.getValue(!0)),this},getValue:function(a){var b=this.value||null;return a&&Ext.isDate(b)?b.format(Ext.util.Format.defaultDateFormat):b},onDestroy:function(){this.datePicker&&this.datePicker.destroy(),Ext.form.DatePicker.superclass.onDestroy.call(this)}}),Ext.reg("datepickerfield",Ext.form.DatePicker),Ext.layout.LayoutManager=new Ext.AbstractManager({create:function(a,b){a||(a=b);if(Ext.isString(a))return new this.types[a||b];if(Ext.isObject(a))return a.isLayout?a:new this.types[a.type||b](a)}}),Ext.regLayout=function(){return Ext.layout.LayoutManager.registerType.apply(Ext.layout.LayoutManager,arguments)},Ext.layout.Layout=Ext.extend(Object,{isLayout:!0,initialized:!1,constructor:function(a){this.id=Ext.id(null,"ext-layout-"+this.type+"-"),Ext.apply(this,a)},layout:function(){var a=this;a.layoutBusy=!0,a.initLayout(),a.beforeLayout.apply(a,arguments)!==!1&&(a.onLayout.apply(a,arguments),a.afterLayout(),a.owner.needsLayout=!1,a.layoutBusy=!1)},beforeLayout:function(){return this.renderItems(this.getLayoutItems(),this.getTarget()),!0},renderItems:function(a,b){var c=a.length,d=0,e;for(;d<c;d++)e=a[d],e&&!e.rendered?this.renderItem(e,d,b):this.isValidParent(e,b)||this.moveItem(e,d,b)},renderItem:function(a,b,c){a.rendered||(a.render(c,b),this.configureItem(a,b),this.childrenChanged=!0)},moveItem:function(a,b,c){typeof b=="number"&&(b=c.dom.childNodes[b]),c=c.dom||c,c.insertBefore(a.el.dom,b||null),a.container=c,this.configureItem(a,b),this.childrenChanged=!0},initLayout:function(){!this.initialized&&!Ext.isEmpty(this.targetCls)&&this.getTarget().addCls(this.targetCls),this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return b&&c.parentNode==(b.dom||b)},configureItem:function(a,b){this.itemCls&&a.el.addCls(this.itemCls)},onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){this.itemCls&&a.rendered&&a.el.removeCls(this.itemCls)},destroy:function(){if(!Ext.isEmpty(this.targetCls)){var a=this.getTarget();a&&a.removeCls(this.targetCls)}this.onDestroy()}}),Ext.layout.ComponentLayout=Ext.extend(Ext.layout.Layout,{type:"component",monitorChildren:!0,beforeLayout:function(a,b){Ext.layout.ComponentLayout.superclass.beforeLayout.call(this);var c=this.owner,d=c.isVisible(),e;return!d&&c.hiddenOwnerCt&&(e=c.hiddenOwnerCt.layoutOnShow,e.remove(c),e.add(c),c.needsLayout={width:a,height:b,isSetSize:!1}),d&&this.needsLayout(a,b)},needsLayout:function(a,b){this.lastComponentSize=this.lastComponentSize||{width:-Infinity,height:-Infinity};var c=this.childrenChanged;return this.childrenChanged=!1,c||this.lastComponentSize.width!==a||this.lastComponentSize.height!==b},setElementSize:function(a,b,c){b!==undefined&&c!==undefined?a.setSize(b,c):c!==undefined?a.setHeight(c):b!==undefined&&a.setWidth(b)},getTarget:function(){return this.owner.el},setTargetSize:function(a,b){this.setElementSize(this.owner.el,a,b),this.lastComponentSize={width:a,height:b}},afterLayout:function(){var a=this.owner,b=a.layout,c=a.ownerCt,d,e,f,g,h;a.afterComponentLayout(this),b&&b.isLayout&&b.layout(),c&&c.componentLayout&&c.componentLayout.monitorChildren&&!c.componentLayout.layoutBusy&&(c.componentLayout.childrenChanged=!0,c.layout&&!c.layout.layoutBusy&&(c.layout.type=="autocontainer"?c.doComponentLayout(g,h):c.layout.layout()))}}),Ext.layout.AutoComponentLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"autocomponent",onLayout:function(a,b){this.setTargetSize(a,b)}}),Ext.regLayout("autocomponent",Ext.layout.AutoComponentLayout),Ext.layout.DockLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"dock",itemCls:"x-docked",onLayout:function(a,b){var c=this,d=c.owner,e=d.body,f=d.ownerCt,g=d.layout,h=d.collapsed,i=d.contracted,j=d.expanded,k=c.headerItem,l=c.getTarget(),m=!1,n=!1,o,p=c.info={boxes:[],size:{width:a,height:b},padding:{top:l.getPadding("t"),right:l.getPadding("r"),bottom:l.getPadding("b"),left:l.getPadding("l")},border:{top:l.getBorderWidth("t"),right:l.getBorderWidth("r"),bottom:l.getBorderWidth("b"),left:l.getBorderWidth("l")},bodyMargin:{top:e.getMargin("t"),right:e.getMargin("r"),bottom:e.getMargin("b"),left:e.getMargin("l")},bodyBox:{}};b===undefined||b===null||a===undefined||a===null||i?(b!==undefined&&b!==null||a!==undefined&&a!==null?b===undefined||b===null?(n=!0,(!d.animCollapse||!j&&!i)&&c.setTargetSize(a,null),c.setBodyBox({width:a,height:null})):(m=!0,(!d.animCollapse||!j&&!i)&&c.setTargetSize(null,b),c.setBodyBox({width:null,height:b})):(n=!0,m=!0,(!d.animCollapse||!j&&!i)&&c.setTargetSize(null,null),c.setBodyBox({width:null,height:null})),!h&&g&&g.isLayout&&g.layout(),c.dockItems(m,n),h&&(k?k.dock=="top"||k.dock=="bottom"?p.size.height=k.getHeight():p.size.width=k.getWidths():p.size.height=0),j||i?d.animCollapse?Ext.createDelegate(d.animCollapseFn,d,[p.size.width,p.size.height])():(Ext.createDelegate(d["after"+(j?"Expand":"Collapse")],d)(),c.setTargetSize(p.size.width,p.size.height)):c.setTargetSize(p.size.width,p.size.height)):j||i?d.animCollapse?Ext.createDelegate(d.animCollapseFn,d,[a,b])():(Ext.createDelegate(d["after"+(j?"Expand":"Collapse")],d)(),c.setTargetSize(a,b)):(c.setTargetSize(a,b),c.dockItems()),Ext.layout.DockLayout.superclass.onLayout.call(c,a,b)},afterLayout:function(){Ext.layout.DockLayout.superclass.afterLayout.call(this)},dockItems:function(a,b){this.calculateDockBoxes(a,b);var c=this.info,d=this.owner.collapsed,e=c.boxes,f=e.length,g,h;for(h=0;h<f;h++){g=e[h];if(d===!0&&!g.isHeader)continue;g.item.setPosition(g.x,g.y)}a&&(c.bodyBox.width=null),b&&(c.bodyBox.height=null),this.setBodyBox(c.bodyBox)},calculateDockBoxes:function(a,b){var c=this,d=c.getTarget(),e=c.getLayoutItems(),f=c.owner,g=f.contracted,h=f.expanded,i=f.body,j=c.info,k=j.size,l=e.length,m=j.padding,n=j.border,o,p,q,r,s,t,u;b?k.height=i.getHeight()+m.top+n.top+m.bottom+n.bottom:k.height=d.getHeight()-d.getMargin("tb"),a?k.width=i.getWidth()+m.left+n.left+m.right+n.right:k.width=d.getWidth()-d.getMargin("lr"),j.bodyBox={x:n.left+m.left,y:n.top+m.top,width:k.width-m.left-n.left-m.right-n.right,height:k.height-n.top-m.top-n.bottom-m.bottom};for(p=0;p<l;p++)o=e[p],o.isHeader&&(c.headerItem=o),q=c.initBox(o),b===!0?q=c.adjustAutoBox(q,p):q=c.adjustSizedBox(q,p),j.boxes.push(q)},adjustSizedBox:function(a,b){var c=this.info.bodyBox;switch(a.type){case"top":a.y=c.y;break;case"left":a.x=c.x;break;case"bottom":a.y=c.y+c.height-a.height;break;case"right":a.x=c.x+c.width-a.width}if(!a.overlay)switch(a.type){case"top":c.y+=a.height,c.height-=a.height;break;case"left":c.x+=a.width,c.width-=a.width;break;case"bottom":c.height-=a.height;break;case"right":c.width-=a.width}return a},adjustAutoBox:function(a,b){var c=this.info,d=c.bodyBox,e=c.size,f=c.boxes,g=a.type,h,i;if(g=="top"||g=="bottom")for(h=0;h<b;h++)i=f[h],i.stretched&&i.type=="left"||i.type=="right"?i.height+=a.height:i.type=="bottom"&&(i.y+=a.height);switch(g){case"top":a.y=d.y,a.overlay||(d.y+=a.height),e.height+=a.height;break;case"bottom":a.y=d.y+d.height,e.height+=a.height;break;case"left":a.x=d.x,a.overlay||(d.x+=a.width,d.width-=a.width);break;case"right":a.overlay||(d.width-=a.width),a.x=d.x+d.width}return a},initBox:function(a){var b=this.info.bodyBox,c=a.dock=="top"||a.dock=="bottom",d={item:a,overlay:a.overlay,type:a.dock};return a.stretch!==!1?(d.stretched=!0,c?(d.x=b.x,d.width=b.width,a.doComponentLayout(d.width-a.el.getMargin("lr"))):(d.y=b.y,d.height=b.height,a.doComponentLayout(undefined,d.height-a.el.getMargin("tb")))):(a.doComponentLayout(),d.width=a.getWidth(),d.height=a.getHeight(),c&&(d.x=a.align=="right"?b.width-d.width:b.x)),d.width==undefined&&(d.width=a.getWidth()+a.el.getMargin("lr")),d.height==undefined&&(d.height=a.getHeight()+a.el.getMargin("tb")),d},getLayoutItems:function(){return this.owner.getDockedItems()},setBodyBox:function(a){var b=this,c=b.owner,d=c.body,e=c.contracted,f=c.expanded,g=b.info,h=g.bodyMargin,i=g.padding,j=g.border;Ext.isNumber(a.width)&&(a.width-=h.left+h.right),Ext.isNumber(a.height)&&(a.height-=h.top+h.bottom),b.setElementSize(d,a.width,a.height),d.setLeft(a.x-i.left-j.left),d.setTop(a.y-i.top-j.top)},configureItem:function(a,b){Ext.layout.DockLayout.superclass.configureItem.call(this,a,b);var c=a.el||Ext.get(a);this.itemCls&&c.addCls(this.itemCls+"-"+a.dock)},afterRemove:function(a){Ext.layout.DockLayout.superclass.afterRemove.call(this,a),this.itemCls&&a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;b&&b.parentNode.removeChild(b),this.childrenChanged=!0}}),Ext.regLayout("dock",Ext.layout.DockLayout),Ext.layout.FieldLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"field",onLayout:function(a,b){Ext.layout.FieldLayout.superclass.onLayout.call(this,owner,target),this.setTargetSize(a,b)},handleLabel:function(){this.owner.labelEl.setWidth(this.owner.labelWidth)}}),Ext.regLayout("field",Ext.layout.FieldLayout),Ext.layout.ContainerLayout=Ext.extend(Ext.layout.Layout,{type:"container",getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()}}),Ext.layout.AutoContainerLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"autocontainer",onLayout:function(a,b){var c=this.getLayoutItems(),d=c.length,e;for(e=0;e<d;e++)c[e].doComponentLayout()}}),Ext.regLayout("auto",Ext.layout.AutoContainerLayout),Ext.regLayout("autocontainer",Ext.layout.AutoContainerLayout),Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{itemCls:"x-fit-item",targetCls:"x-layout-fit",type:"fit",onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.call(this);if(this.owner.items.length){var a=this.getTargetBox(),b=this.owner.items.get(0);this.setItemBox(b,a),b.cancelAutoSize=!0}},getTargetBox:function(){var a=this.getTarget(),b=a.getSize(),c={left:a.getPadding("l"),right:a.getPadding("r"),top:a.getPadding("t"),bottom:a.getPadding("b")},d={left:a.getBorderWidth("l"),right:a.getBorderWidth("r"),top:a.getBorderWidth("t"),bottom:a.getBorderWidth("b")};return{width:b.width-c.left-c.right-d.left-d.right,height:b.height-c.top-c.bottom-d.top-d.bottom,x:c.left+d.left,y:c.top+d.top}},setItemBox:function(a,b){a&&b.height>0&&(b=Ext.apply({},b),b.width-=a.el.getMargin("lr"),b.height-=a.el.getMargin("tb"),a.setCalculatedSize(b),a.setPosition(b))}}),Ext.regLayout("fit",Ext.layout.FitLayout),Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{type:"card",sizeAllCards:!1,hideInactive:!0,beforeLayout:function(){return this.activeItem=this.getActiveItem(),Ext.layout.CardLayout.superclass.beforeLayout.apply(this,arguments)},onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.apply(this,arguments);var a=this.activeItem,b=this.getLayoutItems(),c=b.length,d=this.getTargetBox(),e,f;for(e=0;e<c;e++)f=b[e],this.setItemBox(f,d);!this.firstActivated&&a&&(a.fireEvent("beforeactivate",a)!==!1&&a.fireEvent("activate",a),this.firstActivated=!0)},getActiveItem:function(){return!this.activeItem&&this.owner&&(this.activeItem=this.parseActiveItem(this.owner.activeItem)),this.activeItem&&this.owner.items.items.indexOf(this.activeItem)!=-1?this.activeItem:null},parseActiveItem:function(a){return a&&a.isComponent?a:typeof a=="number"||a==undefined?this.getLayoutItems()[a||0]:this.owner.getComponent(a)},configureItem:function(a,b){Ext.layout.FitLayout.superclass.configureItem.call(this,a,b),this.hideInactive&&this.activeItem!==a?a.hide():a.show()},onRemove:function(a){a===this.activeItem&&(this.activeItem=null,this.owner.items.getCount()==0&&(this.firstActivated=!1))},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return c===!1?!1:c||b.cardSwitchAnimation},setActiveItem:function(a,b){var c=this,d=c.owner,e=Ext.getDoc(),f=c.activeItem,g;return b=b==undefined?this.getAnimation(a,d):b,a=c.parseActiveItem(a),g=d.items.indexOf(a),g==-1&&d.add(a),a&&f!=a&&d.onBeforeCardSwitch(a,f,g,!!b)!==!1?(a.rendered||this.layout(),a.fireEvent("beforeactivate",a,f)===!1?!1:f&&f.fireEvent("beforedeactivate",f,a)===!1?!1:(a.hidden&&a.show(),c.activeItem=a,b?(e.on("click",Ext.emptyFn,c,{single:!0,preventDefault:!0}),Ext.Anim.run(a,b,{out:!1,autoClear:!0,scope:c,after:function(){Ext.defer(function(){e.un("click",Ext.emptyFn,c)},50,c),a.fireEvent("activate",a,f),f||d.onCardSwitch(a,f,g,!0)}}),f&&Ext.Anim.run(f,b,{out:!0,autoClear:!0,after:function(){f.fireEvent("deactivate",f,a),c.hideInactive&&c.activeItem!=f&&f.hide(),d.onCardSwitch(a,f,g,!0)}})):(a.fireEvent("activate",a,f),f&&(f.fireEvent("deactivate",f,a),c.hideInactive&&f.hide()),d.onCardSwitch(a,f,g,!1)),a)):!1},getNext:function(a){var b=this.getLayoutItems(),c=b.indexOf(this.activeItem);return b[c+1]||(a?b[0]:!1)},next:function(a,b){return this.setActiveItem(this.getNext(b),a)},getPrev:function(a){var b=this.getLayoutItems(),c=b.indexOf(this.activeItem);return b[c-1]||(a?b[b.length-1]:!1)},prev:function(a,b){return this.setActiveItem(this.getPrev(b),a)}}),Ext.regLayout("card",Ext.layout.CardLayout),Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"box",targetCls:"x-layout-box",innerCls:"x-layout-box-inner",pack:"start",align:"center",notifyOwnerCtContainer:!0,fixedLayout:!1,direction:"normal",onLayout:function(){Ext.layout.BoxLayout.superclass.onLayout.call(this);if(this.pack==="left"||this.pack==="top")this.pack="start";else if(this.pack==="right"||this.pack==="bottom")this.pack="end";var a=this.getTarget(),b=a.parent(),c=b.getWidth()-b.getPadding("lr")-b.getBorderWidth("lr")+"px",d=b.getHeight()-b.getPadding("tb")-b.getBorderWidth("tb")+"px";a.setStyle({"-webkit-box-orient":this.orientation,"-webkit-box-direction":this.direction,"-webkit-box-pack":this.pack,"-webkit-box-align":this.align}),this.orientation=="horizontal"?a.setStyle({"min-width":c,height:d}):a.setStyle({"min-height":d,width:c}),this.prepareFlexedItems(),this.setFlexedItems()},prepareFlexedItems:function(){var a=this.getLayoutItems(),b=a.length,c,d;for(d=0;d<b;d++)c=a[d],c.flex!=undefined?(c.el.setStyle("position","absolute"),c.boxEl=this.createBoxEl(c)):c.doComponentLayout()},setFlexedItems:function(){var a=this.getLayoutItems(),b=a.length,c,d;for(d=0;d<b;d++)c=a[d],c.flex!=undefined&&(c.boxSize=c.boxEl.getSize());for(d=0;d<b;d++)c=a[d],c.flex!=undefined&&(c.el.setStyle("position",""),this.align=="stretch"?c.setSize(c.boxSize):this.orientation=="horizontal"?c.setWidth(c.boxSize.width):c.setHeight(c.boxSize.height),c.boxEl.remove(),delete c.boxEl,delete c.boxSize)},getTarget:function(){var a=this.owner,b=this.innerCt;return b||(a.scrollEl?b=a.scrollEl.addCls(this.innerCls):b=a.getTargetEl().createChild({cls:this.innerCls}),this.innerCt=b),b},createBoxEl:function(a){var b=a.el;return b.insertSibling({style:"margin-top: "+b.getMargin("tb")+"px; margin-left: "+b.getMargin("lr")+"px; -webkit-box-flex: "+a.flex})}}),Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"horizontal"}),Ext.regLayout("hbox",Ext.layout.HBoxLayout),Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"vertical"}),Ext.regLayout("vbox",Ext.layout.VBoxLayout),Ext.plugins.ListPagingPlugin=Ext.extend(Ext.util.Observable,{autoPaging:!1,loadMoreText:"Load More...",init:function(a){this.list=a,a.onBeforeLoad=Ext.util.Functions.createInterceptor(a.onBeforeLoad,this.onBeforeLoad,this),this.mon(a,"update",this.onListUpdate,this)},onListUpdate:function(){this.rendered||this.render(),this.el.appendTo(this.list.getTargetEl()),this.autoPaging||this.el.removeCls("x-loading"),this.loading=!1},render:function(){var a=this.list,b=a.getTargetEl(),c="";this.autoPaging||(c+='<div class="x-list-paging-msg">'+this.loadMoreText+"</div>"),this.el=b.createChild({cls:"x-list-paging"+(this.autoPaging?" x-loading":""),html:c+Ext.LoadingSpinner}),this.autoPaging?this.mon(b.getScrollParent(),"scrollend",this.onScrollEnd,this):this.mon(this.el,"tap",this.onPagingTap,this),this.rendered=!0},onBeforeLoad:function(){if(this.loading&&this.list.store.getCount()>0)return this.list.loadMask.disable(),!1},onPagingTap:function(a){this.loading||(this.loading=!0,this.list.store.nextPage(),this.el.addCls("x-loading"))},onScrollEnd:function(a,b){b.y>=Math.abs(a.offsetBoundary.top)&&(this.loading=!0,this.list.store.nextPage())}}),Ext.preg("listpaging",Ext.plugins.ListPagingPlugin),Ext.plugins.PullRefreshPlugin=Ext.extend(Ext.util.Observable,{pullRefreshText:"Pull down to refresh...",releaseRefreshText:"Release to refresh...",loadingText:"Loading...",snappingAnimationDuration:150,refreshFn:null,pullTpl:new Ext.XTemplate('<div class="x-list-pullrefresh">','<div class="x-list-pullrefresh-arrow"></div>',Ext.LoadingSpinner,'<div class="x-list-pullrefresh-wrap">','<h3 class="x-list-pullrefresh-message">{message}</h3>','<div class="x-list-pullrefresh-updated">Last Updated: <span>{lastUpdated:date("m/d/Y h:iA")}</span></div>',"</div>","</div>"),isRefreshing:!1,isLoading:!1,currentViewState:"",init:function(a){this.list=a,this.lastUpdated=new Date,a.on("update",this.onListUpdate,this),a.onBeforeLoad=Ext.util.Functions.createInterceptor(a.onBeforeLoad,this.onBeforeLoad,this)},onListUpdate:function(){this.rendered||this.render(),this.list.getTargetEl().insertFirst(this.el),this.refreshFn||this.onLoadComplete.call(this)},render:function(){var a=this.list,b=a.getTargetEl(),c=b.getScrollParent();this.pullTpl.isTemplate||(this.pullTpl=new Ext.XTemplate(this.pullTpl)),this.el=this.pullTpl.insertFirst(b,{message:this.pullRefreshText,lastUpdated:this.lastUpdated},!0),this.messageEl=this.el.down(".x-list-pullrefresh-message"),this.updatedEl=this.el.down(".x-list-pullrefresh-updated > span"),this.pullHeight=this.el.getHeight(),this.scroller=c,c.on("bouncestart",this.onBounceStart,this),c.on("offsetchange",this.onOffsetChange,this),c.on("bounceend",this.onBounceEnd,this),c.on("offsetboundaryupdate",this.onOffsetBoundaryUpdate,this),this.rendered=!0},onOffsetBoundaryUpdate:function(a,b){this.isRefreshing&&(b.bottom+=this.pullHeight)},onBounceStart:function(a,b){b.axis==="y"&&!this.isRefreshing&&a.offset.y>this.pullHeight&&(this.isRefreshing=!0,this.onOffsetBoundaryUpdate(a,a.offsetBoundary))},onBounceEnd:function(a,b){b.axis==="y"&&this.isRefreshing&&(this.isRefreshing=!1,this.setViewState("loading"),this.isLoading=!0,this.refreshFn?this.refreshFn.call(this,this.onLoadComplete,this):this.list.getStore().load())},onOffsetChange:function(a,b){b.y>0&&!this.isRefreshing&&!this.isLoading&&(b.y>this.pullHeight?this.setViewState("release"):this.setViewState("pull"))},setViewState:function(a){if(a===this.currentViewState)return this;this.currentViewState=a;switch(a){case"pull":this.messageEl.setHTML(this.pullRefreshText),this.el.removeCls(["x-list-pullrefresh-release","x-list-pullrefresh-loading"]);break;case"release":this.messageEl.setHTML(this.releaseRefreshText),this.el.addCls("x-list-pullrefresh-release");break;case"loading":this.messageEl.setHTML(this.loadingText),this.el.addCls("x-list-pullrefresh-loading")}return this},onBeforeLoad:function(){if(this.isLoading&&this.list.store.getCount()>0)return this.list.loadMask.disable(),!1},onLoadComplete:function(){var a=this;this.isLoading&&(this.isLoading=!1,this.lastUpdated=new Date,this.setViewState("pull"),this.updatedEl.setHTML(Ext.util.Format.date(this.lastUpdated,"m/d/Y h:iA")),setTimeout(function(){a.scroller.updateBoundary(a.snappingAnimationDuration)},100))}}),Ext.preg("pullrefresh",Ext.plugins.PullRefreshPlugin),Ext.regApplication({name:"App",defaultUrl:"Tasks/index",defaultRenderTarget:"viewport",launch:function(){this.viewport=new App.views.Viewport},preparePerformanceTest:function(a){var b=new Array;for(var c=0;c<a;c++)b.push({body:"task"+c});App.testPreparations=b},testPerformance:function(){Ext.StoreMgr.get("Tasks").add(App.testPreparations)}}),Ext.Router.draw(function(a){a.connect(":controller/:action"),a.connect(":controller/:action/:parameter")}),Ext.regModel("Task",{fields:[{name:"id",type:"int"},{name:"body",type:"string"},{name:"done",type:"boolean",defaultValue:!1}],validations:[{type:"length",field:"body",min:2}],proxy:{type:"rest",url:"/sencha_touch/tasks",extraParams:{format:"json"},reader:{type:"json"},writer:{type:"json"}}}),Ext.regStore("Tasks",{model:"Task",autoLoad:!0,sortOnLoad:!0,sorters:[{property:"done",direction:"ASC"}]}),Ext.regController("Tasks",{index:function(a){this.indexView||(this.indexView=this.render({xtype:"TasksIndex"}));var b=Ext.StoreMgr.get("Tasks");b.isFiltered()&&b.clearFilter(),a.parameter=="undone"?b.filter("done",!1):a.parameter=="done"?b.filter("done",!0):a.parameter="all",b.sort("done"),this.application.viewport.setView(this.indexView,a.animation,a.parameter)},"new":function(a){this.newView||(this.newView=this.render({xtype:"TasksNew"})),this.application.viewport.setView(this.newView,a.animation)},create:function(a){var b=new Ext.LoadMask(Ext.getBody(),{msg:"Lade..."});b.show();var c=this.newView.getValues(),d=Ext.ModelMgr.create({body:c.body},"Task"),e=d.validate();e.isValid()?d.save({success:function(){Ext.StoreMgr.get("Tasks").load(),Ext.redirect("Tasks/index")},failure:function(){Ext.Msg.alert("Fehler","Der Task konnte nicht erstellt werden!",Ext.emptyFn)}}):Ext.Msg.alert("Fehler","Dieser Task ist nicht valide!",Ext.emptyFn),b.hide()},edit:function(a){this.editView||(this.editView=this.render({xtype:"TasksEdit"}));var b=parseInt(a.parameter),c=Ext.StoreMgr.get("Tasks").getById(b);c&&(this.editView.load(c),this.application.viewport.setView(this.editView,a.animation))},update:function(a){var b=this.editView.getValues(),c=Ext.StoreMgr.get("Tasks").getById(parseInt(b.id));c.set(b);var d=c.validate();d.isValid()?c.save({success:function(){Ext.StoreMgr.get("Tasks").load(),Ext.redirect("Tasks/index")},failure:function(){Ext.Msg.alert("Fehler","Der Task konnte nicht bearbeitet werden!",Ext.emptyFn)}}):Ext.Msg.alert("Fehler","Dieser Task ist nicht valide!",Ext.emptyFn)},"delete":function(a){var b=new Ext.LoadMask(Ext.getBody(),{msg:"Lade..."});b.show();var c=parseInt(a.parameter),d=Ext.StoreMgr.get("Tasks").getById(c);Ext.Ajax.request({url:d.getProxy().url+"/"+d.get("id"),method:"DELETE",success:function(){Ext.StoreMgr.get("Tasks").remove(d),b.hide(),history.go(-1)},failure:function(){Ext.Msg.alert("Fehler","Der Task konnte nicht gelÃ¶scht werden!",Ext.emptyFn),b.hide(),history.go(-1)}})},complete:function(a){var b=new Ext.LoadMask(Ext.getBody(),{msg:"Lade..."});b.show();var c=Ext.StoreMgr.get("Tasks").getById(a.taskid);c.set("done",!0),c.save({success:function(){b.hide()},failure:function(){b.hide(),Ext.Msg.alert("Fehler","Der Task konnte nicht erledigt werden!",Ext.emptyFn)}})},incomplete:function(a){var b=new Ext.LoadMask(Ext.getBody(),{msg:"Lade..."});b.show();var c=Ext.StoreMgr.get("Tasks").getById(a.taskid);c.set("done",!1),c.save({success:function(){b.hide()},failure:function(){b.hide(),Ext.Msg.alert("Fehler",'Der Task konnte nicht als "nicht erledigt" markiert werden!',Ext.emptyFn)}})}}),App.views.TasksEdit=Ext.extend(Ext.form.FormPanel,{items:[{xtype:"fieldset",title:"Task Bearbeiten",layout:"auto",items:[{xtype:"hiddenfield",name:"id"},{xtype:"textareafield",name:"body",label:"Body",required:!0},{xtype:"hiddenfield",name:"done"},{xtype:"button",text:"Ãndern",handler:function(){Ext.dispatch({controller:"Tasks",action:"update"})}}]}]}),Ext.reg("TasksEdit",App.views.TasksEdit),App.views.TasksIndex=Ext.extend(Ext.List,{layout:"fit",store:Ext.StoreMgr.get("Tasks"),multiSelect:!1,singleSelect:!1,itemTpl:['<tpl if="done == true">','<span class="done">{body:htmlEncode}</span>','<a href="#Tasks/delete/{id}">LÃ¶schen</a>',"</tpl>",'<tpl if="done == false">','<span class="undone">{body:htmlEncode}</span>','<a href="#Tasks/edit/{id}">Bearbeiten</a>',"</tpl>"],listeners:{itemswipe:function(a,b,c,d){var e=a.getRecord(c).get("id");d.direction=="right"?Ext.dispatch({controller:"Tasks",action:"complete",taskid:e}):d.direction=="left"&&Ext.dispatch({controller:"Tasks",action:"incomplete",taskid:e})}}}),Ext.reg("TasksIndex",App.views.TasksIndex),App.views.TasksNew=Ext.extend(Ext.form.FormPanel,{items:[{xtype:"fieldset",title:"Neuer Task",layout:"auto",items:[{xtype:"textareafield",name:"body",label:"Body",required:!0},{xtype:"button",text:"Erstellen",handler:function(){Ext.dispatch({controller:"Tasks",action:"create"})}}]}]}),Ext.reg("TasksNew",App.views.TasksNew),App.views.Viewport=Ext.extend(Ext.Panel,{id:"viewport",fullscreen:!0,layout:"card",cardSwitchAnimation:"slide",dockedItems:[{xtype:"toolbar",title:"ToDo",layout:{type:"hbox",align:"center",pack:"right"},items:[{text:"Neu",ui:"round",handler:function(a,b){Ext.redirect("Tasks/new")}}]},{xtype:"toolbar",ui:"light",layout:{type:"vbox",align:"center",pack:"center"},items:[{xtype:"segmentedbutton",items:[{text:"Alle",id:"all",handler:function(){Ext.redirect("Tasks/index")}},{text:"Offen",id:"undone",handler:function(){Ext.redirect("Tasks/index/undone")}},{text:"Erledigt",id:"done",handler:function(){Ext.redirect("Tasks/index/done")}}]}]}],setView:function(a,b,c){var d=-1;c=="all"?d=0:c=="undone"?d=1:c=="done"&&(d=2);var e=this.query("segmentedbutton")[0];d>=0?e.setPressed(d,!0):e.setPressed(e.getPressed(),!1),this.setActiveItem(a,b)}})